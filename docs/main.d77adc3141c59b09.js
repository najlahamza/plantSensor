"use strict";(self.webpackChunkfirebase_data=self.webpackChunkfirebase_data||[]).push([[179],{2011:(Ke,me,x)=>{x.d(me,{Dh:()=>ae,GT:()=>se,cc:()=>ye,hO:()=>Me,on:()=>B,pX:()=>re,xv:()=>oe});var _=x(4650),q=x(9260),O=x(2122);Ke=x.hmd(Ke);const ie=["ngOnDestroy"],re=(ve,_e,Ae,Ce={})=>new Proxy(ve,{get:(pe,we)=>Ae.runOutsideAngular(()=>{var xe;if(ve[we])return!(null===(xe=Ce?.spy)||void 0===xe)&&xe.get&&Ce.spy.get(we,ve[we]),ve[we];if(ie.indexOf(we)>-1)return()=>{};const Te=_e.toPromise().then(U=>{const he=U&&U[we];return"function"==typeof he?he.bind(U):he&&he.then?he.then(z=>Ae.run(()=>z)):Ae.run(()=>he)});return new Proxy(()=>{},{get:(U,he)=>Te[he],apply:(U,he,z)=>Te.then(Y=>{var ne;const X=Y&&Y(...z);return!(null===(ne=Ce?.spy)||void 0===ne)&&ne.apply&&Ce.spy.apply(we,z,X),X})})})}),se=(ve,_e)=>{_e.forEach(Ae=>{Object.getOwnPropertyNames(Ae.prototype||Ae).forEach(Ce=>{Object.defineProperty(ve.prototype,Ce,Object.getOwnPropertyDescriptor(Ae.prototype||Ae,Ce))})})};class ce{constructor(_e){return _e}}const ae=new _.OlP("angularfire2.app.options"),oe=new _.OlP("angularfire2.app.name");function B(ve,_e,Ae){const pe="object"==typeof Ae&&Ae||{};pe.name=pe.name||"string"==typeof Ae&&Ae||"[DEFAULT]";const xe=q.Z.apps.filter(Te=>Te&&Te.name===pe.name)[0]||_e.runOutsideAngular(()=>q.Z.initializeApp(ve,pe));try{JSON.stringify(ve)!==JSON.stringify(xe.options)&&j("error",`${xe.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(xe)}const j=(ve,..._e)=>{(0,_.X6Q)()&&typeof console<"u"&&console[ve](..._e)},Z={provide:ce,useFactory:B,deps:[ae,_.R0b,[new _.FiY,oe]]};let Me=(()=>{class ve{constructor(Ae){q.Z.registerVersion("angularfire",O.q4.full,"core"),q.Z.registerVersion("angularfire",O.q4.full,"app-compat"),q.Z.registerVersion("angular",_.q4F.full,Ae.toString())}static initializeApp(Ae,Ce){return{ngModule:ve,providers:[{provide:ae,useValue:Ae},{provide:oe,useValue:Ce}]}}}return ve.\u0275fac=function(Ae){return new(Ae||ve)(_.LFG(_.Lbi))},ve.\u0275mod=_.oAB({type:ve}),ve.\u0275inj=_.cJS({providers:[Z]}),ve})();function ye(ve,_e,Ae,Ce,pe){const[,we,xe]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===ve)||[];if(we)return function Fe(ve,_e){try{return ve.toString()===_e.toString()}catch{return ve===_e}}(pe,xe)||(ue("error",`${_e} was already initialized on the ${Ae} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),ue("warn",{is:pe,was:xe})),we;{const Te=Ce();return globalThis.\u0275AngularfireInstanceCache.push([ve,Te,pe]),Te}}const Ze=!!Ke.hot,ue=(ve,..._e)=>{(0,_.X6Q)()&&typeof console<"u"&&console[ve](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Ke,me,x)=>{x.d(me,{q4:()=>Io,iC:()=>mn,HU:()=>gn,vb:()=>Yn,JM:()=>Kn});var _=x(4650),q=x(259),O=x(5861),ie=x(9681),re=x(2090),se=x(4859),ce=x(1877),ae=x(8766);const oe="@firebase/installations",B="0.6.0",Z=`w:${B}`,Me="FIS_v2",_e=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ae(C){return C instanceof re.ZR&&C.code.includes("request-failed")}function Ce({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function pe(C){return{token:C.token,requestStatus:2,expiresIn:Y(C.expiresIn),creationTime:Date.now()}}function we(C,w){return xe.apply(this,arguments)}function xe(){return(xe=(0,O.Z)(function*(C,w){const k=(yield w.json()).error;return _e.create("request-failed",{requestName:C,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function Te({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function U(C,{refreshToken:w}){const S=Te(C);return S.append("Authorization",function ne(C){return`${Me} ${C}`}(w)),S}function he(C){return z.apply(this,arguments)}function z(){return(z=(0,O.Z)(function*(C){const w=yield C();return w.status>=500&&w.status<600?C():w})).apply(this,arguments)}function Y(C){return Number(C.replace("s","000"))}function X(C,w){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:w},{fid:S}){const k=Ce(C),K=Te(C),ee=w.getImmediate({optional:!0});if(ee){const Ge=yield ee.getHeartbeatsHeader();Ge&&K.append("x-firebase-client",Ge)}const Ue={method:"POST",headers:K,body:JSON.stringify({fid:S,authVersion:Me,appId:C.appId,sdkVersion:Z})},Ye=yield he(()=>fetch(k,Ue));if(Ye.ok){const Ge=yield Ye.json();return{fid:Ge.fid||S,registrationStatus:2,refreshToken:Ge.refreshToken,authToken:pe(Ge.authToken)}}throw yield we("Create Installation",Ye)})).apply(this,arguments)}function Se(C){return new Promise(w=>{setTimeout(w,C)})}const Lt=/^[cdef][\w-]{21}$/;function _t(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const S=function Dt(C){return function qe(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Lt.test(S)?S:""}catch{return""}}function Qe(C){return`${C.appName}!${C.appId}`}const Nt=new Map;function $n(C,w){const S=Qe(C);zt(S,w),function Cr(C,w){const S=function er(){return!ur&&"BroadcastChannel"in self&&(ur=new BroadcastChannel("[Firebase] FID Change"),ur.onmessage=C=>{zt(C.data.key,C.data.fid)}),ur}();S&&S.postMessage({key:C,fid:w}),function jn(){0===Nt.size&&ur&&(ur.close(),ur=null)}()}(S,w)}function zt(C,w){const S=Nt.get(C);if(S)for(const k of S)k(w)}let ur=null;const wr="firebase-installations-store";let tr=null;function Ri(){return tr||(tr=(0,ae.X3)("firebase-installations-database",1,{upgrade:(C,w)=>{0===w&&C.createObjectStore(wr)}})),tr}function Ht(C,w){return cr.apply(this,arguments)}function cr(){return(cr=(0,O.Z)(function*(C,w){const S=Qe(C),K=(yield Ri()).transaction(wr,"readwrite"),ee=K.objectStore(wr),Ie=yield ee.get(S);return yield ee.put(w,S),yield K.done,(!Ie||Ie.fid!==w.fid)&&$n(C,w.fid),w})).apply(this,arguments)}function Xe(C){return hi.apply(this,arguments)}function hi(){return(hi=(0,O.Z)(function*(C){const w=Qe(C),k=(yield Ri()).transaction(wr,"readwrite");yield k.objectStore(wr).delete(w),yield k.done})).apply(this,arguments)}function Br(C,w){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,O.Z)(function*(C,w){const S=Qe(C),K=(yield Ri()).transaction(wr,"readwrite"),ee=K.objectStore(wr),Ie=yield ee.get(S),Ue=w(Ie);return void 0===Ue?yield ee.delete(S):yield ee.put(Ue,S),yield K.done,Ue&&(!Ie||Ie.fid!==Ue.fid)&&$n(C,Ue.fid),Ue})).apply(this,arguments)}function Hn(C){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,O.Z)(function*(C){let w;const S=yield Br(C.appConfig,k=>{const K=ht(k),ee=tt(C,K);return w=ee.registrationPromise,ee.installationEntry});return""===S.fid?{installationEntry:yield w}:{installationEntry:S,registrationPromise:w}})).apply(this,arguments)}function ht(C){return kn(C||{fid:_t(),registrationStatus:0})}function tt(C,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(_e.create("app-offline"))};const S={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},k=function st(C,w){return fi.apply(this,arguments)}(C,S);return{installationEntry:S,registrationPromise:k}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:Xt(C)}:{installationEntry:w}}function fi(){return(fi=(0,O.Z)(function*(C,w){try{const S=yield X(C,w);return Ht(C.appConfig,S)}catch(S){throw Ae(S)&&409===S.customData.serverCode?yield Xe(C.appConfig):yield Ht(C.appConfig,{fid:w.fid,registrationStatus:0}),S}})).apply(this,arguments)}function Xt(C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*(C){let w=yield Vr(C.appConfig);for(;1===w.registrationStatus;)yield Se(100),w=yield Vr(C.appConfig);if(0===w.registrationStatus){const{installationEntry:S,registrationPromise:k}=yield Hn(C);return k||S}return w})).apply(this,arguments)}function Vr(C){return Br(C,w=>{if(!w)throw _e.create("installation-not-found");return kn(w)})}function kn(C){return function Is(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Ut(C,w){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:w},S){const k=Pt(C,S),K=U(C,S),ee=w.getImmediate({optional:!0});if(ee){const Ge=yield ee.getHeartbeatsHeader();Ge&&K.append("x-firebase-client",Ge)}const Ue={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Z,appId:C.appId}})},Ye=yield he(()=>fetch(k,Ue));if(Ye.ok)return pe(yield Ye.json());throw yield we("Generate Auth Token",Ye)})).apply(this,arguments)}function Pt(C,{fid:w}){return`${Ce(C)}/${w}/authTokens:generate`}function Wn(C){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,O.Z)(function*(C,w=!1){let S;const k=yield Br(C.appConfig,ee=>{if(!yt(ee))throw _e.create("not-registered");const Ie=ee.authToken;if(!w&&$(Ie))return ee;if(1===Ie.requestStatus)return S=Ne(C,w),ee;{if(!navigator.onLine)throw _e.create("app-offline");const Ue=G(ee);return S=lt(C,Ue),Ue}});return S?yield S:k.authToken})).apply(this,arguments)}function Ne(C,w){return ge.apply(this,arguments)}function ge(){return(ge=(0,O.Z)(function*(C,w){let S=yield $e(C.appConfig);for(;1===S.authToken.requestStatus;)yield Se(100),S=yield $e(C.appConfig);const k=S.authToken;return 0===k.requestStatus?Wn(C,w):k})).apply(this,arguments)}function $e(C){return Br(C,w=>{if(!yt(w))throw _e.create("not-registered");return function de(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function lt(C,w){return dt.apply(this,arguments)}function dt(){return(dt=(0,O.Z)(function*(C,w){try{const S=yield Ut(C,w),k=Object.assign(Object.assign({},w),{authToken:S});return yield Ht(C.appConfig,k),S}catch(S){if(!Ae(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const k=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield Ht(C.appConfig,k)}else yield Xe(C.appConfig);throw S}})).apply(this,arguments)}function yt(C){return void 0!==C&&2===C.registrationStatus}function $(C){return 2===C.requestStatus&&!function L(C){const w=Date.now();return w<C.creationTime||C.creationTime+C.expiresIn<w+36e5}(C)}function G(C){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:w})}function We(){return(We=(0,O.Z)(function*(C){const w=C,{installationEntry:S,registrationPromise:k}=yield Hn(w);return k?k.catch(console.error):Wn(w).catch(console.error),S.fid})).apply(this,arguments)}function Rt(){return(Rt=(0,O.Z)(function*(C,w=!1){const S=C;return yield en(S),(yield Wn(S,w)).token})).apply(this,arguments)}function en(C){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(C){const{registrationPromise:w}=yield Hn(C);w&&(yield w)})).apply(this,arguments)}function Ko(C){return _e.create("missing-app-config-values",{valueName:C})}const Xa="installations",tn=C=>{const w=C.getProvider("app").getImmediate(),S=function eo(C){if(!C||!C.options)throw Ko("App Configuration");if(!C.name)throw Ko("App Name");const w=["projectId","apiKey","appId"];for(const S of w)if(!C.options[S])throw Ko(S);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(w);return{app:w,appConfig:S,heartbeatServiceProvider:(0,ie._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},Cu=C=>{const w=C.getProvider("app").getImmediate(),S=(0,ie._getProvider)(w,Xa).getImmediate();return{getId:()=>function J(C){return We.apply(this,arguments)}(S),getToken:K=>function vt(C){return Rt.apply(this,arguments)}(S,K)}};(function el(){(0,ie._registerComponent)(new se.wA(Xa,tn,"PUBLIC")),(0,ie._registerComponent)(new se.wA("installations-internal",Cu,"PRIVATE"))})(),(0,ie.registerVersion)(oe,B),(0,ie.registerVersion)(oe,B,"esm2017");const to="@firebase/remote-config",In=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bs{constructor(w,S,k,K){this.client=w,this.storage=S,this.storageCache=k,this.logger=K}isCachedDataFresh(w,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-S,K=k<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${K}.`),K}fetch(w){var S=this;return(0,O.Z)(function*(){const[k,K]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(K&&S.isCachedDataFresh(w.cacheMaxAgeMillis,k))return K;w.eTag=K&&K.eTag;const ee=yield S.client.fetch(w),Ie=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&Ie.push(S.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(Ie),ee})()}}function Dr(C=navigator){return C.languages&&C.languages[0]||C.language}class Pi{constructor(w,S,k,K,ee,Ie){this.firebaseInstallations=w,this.sdkVersion=S,this.namespace=k,this.projectId=K,this.apiKey=ee,this.appId=Ie}fetch(w){var S=this;return(0,O.Z)(function*(){const[k,K]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},Ye={sdk_version:S.sdkVersion,app_instance_id:k,app_instance_id_token:K,app_id:S.appId,language_code:Dr()},Ge={method:"POST",headers:Ue,body:JSON.stringify(Ye)},ut=fetch(Ie,Ge),rt=new Promise((mr,li)=>{w.signal.addEventListener(()=>{const hs=new Error("The operation was aborted.");hs.name="AbortError",li(hs)})});let Cn;try{yield Promise.race([ut,rt]),Cn=yield ut}catch(mr){let li="fetch-client-network";throw"AbortError"===mr?.name&&(li="fetch-timeout"),In.create(li,{originalErrorMessage:mr?.message})}let P=Cn.status;const Bi=Cn.headers.get("ETag")||void 0;let Da,ds;if(200===Cn.status){let mr;try{mr=yield Cn.json()}catch(li){throw In.create("fetch-client-parse",{originalErrorMessage:li?.message})}Da=mr.entries,ds=mr.state}if("INSTANCE_STATE_UNSPECIFIED"===ds?P=500:"NO_CHANGE"===ds?P=304:("NO_TEMPLATE"===ds||"EMPTY_CONFIG"===ds)&&(Da={}),304!==P&&200!==P)throw In.create("fetch-status",{httpStatus:P});return{status:P,eTag:Bi,config:Da}})()}}class wh{constructor(w,S){this.client=w,this.storage=S}fetch(w){var S=this;return(0,O.Z)(function*(){const k=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(w,k)})()}attemptFetch(w,{throttleEndTimeMillis:S,backoffCount:k}){var K=this;return(0,O.Z)(function*(){yield function hn(C,w){return new Promise((S,k)=>{const K=Math.max(w-Date.now(),0),ee=setTimeout(S,K);C.addEventListener(()=>{clearTimeout(ee),k(In.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,S);try{const ee=yield K.client.fetch(w);return yield K.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Bt(C){if(!(C instanceof re.ZR&&C.customData))return!1;const w=Number(C.customData.httpStatus);return 429===w||500===w||503===w||504===w}(ee))throw ee;const Ie={throttleEndTimeMillis:Date.now()+(0,re.$s)(k),backoffCount:k+1};return yield K.storage.setThrottleMetadata(Ie),K.attemptFetch(w,Ie)}})()}}class Ts{constructor(w,S,k,K,ee){this.app=w,this._client=S,this._storageCache=k,this._storage=K,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function es(C,w){const S=C.target.error||void 0;return In.create(w,{originalErrorMessage:S&&S?.message})}const nr="app_namespace_store";class $r{constructor(w,S,k,K=function hr(){return new Promise((C,w)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=k=>{w(es(k,"storage-open"))},S.onsuccess=k=>{C(k.target.result)},S.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(nr,{keyPath:"compositeKey"})}}catch(S){w(In.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=w,this.appName=S,this.namespace=k,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var S=this;return(0,O.Z)(function*(){const k=yield S.openDbPromise;return new Promise((K,ee)=>{const Ue=k.transaction([nr],"readonly").objectStore(nr),Ye=S.createCompositeKey(w);try{const Ge=Ue.get(Ye);Ge.onerror=ut=>{ee(es(ut,"storage-get"))},Ge.onsuccess=ut=>{const rt=ut.target.result;K(rt?rt.value:void 0)}}catch(Ge){ee(In.create("storage-get",{originalErrorMessage:Ge?.message}))}})})()}set(w,S){var k=this;return(0,O.Z)(function*(){const K=yield k.openDbPromise;return new Promise((ee,Ie)=>{const Ye=K.transaction([nr],"readwrite").objectStore(nr),Ge=k.createCompositeKey(w);try{const ut=Ye.put({compositeKey:Ge,value:S});ut.onerror=rt=>{Ie(es(rt,"storage-set"))},ut.onsuccess=()=>{ee()}}catch(ut){Ie(In.create("storage-set",{originalErrorMessage:ut?.message}))}})})()}delete(w){var S=this;return(0,O.Z)(function*(){const k=yield S.openDbPromise;return new Promise((K,ee)=>{const Ue=k.transaction([nr],"readwrite").objectStore(nr),Ye=S.createCompositeKey(w);try{const Ge=Ue.delete(Ye);Ge.onerror=ut=>{ee(es(ut,"storage-delete"))},Ge.onsuccess=()=>{K()}}catch(Ge){ee(In.create("storage-delete",{originalErrorMessage:Ge?.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class ro{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,O.Z)(function*(){const S=w.storage.getLastFetchStatus(),k=w.storage.getLastSuccessfulFetchTimestampMillis(),K=w.storage.getActiveConfig(),ee=yield S;ee&&(w.lastFetchStatus=ee);const Ie=yield k;Ie&&(w.lastSuccessfulFetchTimestampMillis=Ie);const Ue=yield K;Ue&&(w.activeConfig=Ue)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function io(){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,O.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function jr(){(0,ie._registerComponent)(new se.wA("remote-config",function C(w,{instanceIdentifier:S}){const k=w.getProvider("app").getImmediate(),K=w.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw In.create("registration-window");if(!(0,re.hl)())throw In.create("indexed-db-unavailable");const{projectId:ee,apiKey:Ie,appId:Ue}=k.options;if(!ee)throw In.create("registration-project-id");if(!Ie)throw In.create("registration-api-key");if(!Ue)throw In.create("registration-app-id");const Ye=new $r(Ue,k.name,S=S||"firebase"),Ge=new ro(Ye),ut=new ce.Yd(to);ut.logLevel=ce.in.ERROR;const rt=new Pi(K,ie.SDK_VERSION,S,ee,Ie,Ue),Cn=new wh(rt,Ye),P=new bs(Cn,Ye,Ge,ut),Bi=new Ts(k,P,Ge,Ye,ut);return function on(C){const w=(0,re.m9)(C);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(Bi),Bi},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(to,"0.4.0"),(0,ie.registerVersion)(to,"0.4.0","esm2017")}();const nl="/firebase-messaging-sw.js",gi="/firebase-cloud-messaging-push-scope",ts="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bu="google.c.a.c_id",Yc="google.c.a.c_l",rl="google.c.a.ts",Tu="google.c.a.e";var Qo=(()=>{return(C=Qo||(Qo={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Qo;var C})();function Hr(C){const w=new Uint8Array(C);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Su(C){const S=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(S),K=new Uint8Array(k.length);for(let ee=0;ee<k.length;++ee)K[ee]=k.charCodeAt(ee);return K}const il="fcm_token_details_db",rr="fcm_token_object_Store";function Ru(C){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(il))return null;let w=null;return(yield(0,ae.X3)(il,5,{upgrade:(k=(0,O.Z)(function*(K,ee,Ie,Ue){var Ye;if(ee<2||!K.objectStoreNames.contains(rr))return;const Ge=Ue.objectStore(rr),ut=yield Ge.index("fcmSenderId").get(C);if(yield Ge.clear(),ut)if(2===ee){const rt=ut;if(!rt.auth||!rt.p256dh||!rt.endpoint)return;w={token:rt.fcmToken,createTime:null!==(Ye=rt.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:rt.auth,p256dh:rt.p256dh,endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:"string"==typeof rt.vapidKey?rt.vapidKey:Hr(rt.vapidKey)}}}else if(3===ee){const rt=ut;w={token:rt.fcmToken,createTime:rt.createTime,subscriptionOptions:{auth:Hr(rt.auth),p256dh:Hr(rt.p256dh),endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:Hr(rt.vapidKey)}}}else if(4===ee){const rt=ut;w={token:rt.fcmToken,createTime:rt.createTime,subscriptionOptions:{auth:Hr(rt.auth),p256dh:Hr(rt.p256dh),endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:Hr(rt.vapidKey)}}}}),function(ee,Ie,Ue,Ye){return k.apply(this,arguments)})})).close(),yield(0,ae.Lj)(il),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),qc(w)?w:null;var k}),Mu.apply(this,arguments)}function qc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:w}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}const Oi="firebase-messaging-store";let oo=null;function rs(){return oo||(oo=(0,ae.X3)("firebase-messaging-database",1,{upgrade:(C,w)=>{0===w&&C.createObjectStore(Oi)}})),oo}function Jo(C){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,O.Z)(function*(C){const w=ta(C),k=yield(yield rs()).transaction(Oi).objectStore(Oi).get(w);if(k)return k;{const K=yield Ru(C.appConfig.senderId);if(K)return yield is(C,K),K}})).apply(this,arguments)}function is(C,w){return ao.apply(this,arguments)}function ao(){return(ao=(0,O.Z)(function*(C,w){const S=ta(C),K=(yield rs()).transaction(Oi,"readwrite");return yield K.objectStore(Oi).put(w,S),yield K.done,w})).apply(this,arguments)}function ea(C){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,O.Z)(function*(C){const w=ta(C),k=(yield rs()).transaction(Oi,"readwrite");yield k.objectStore(Oi).delete(w),yield k.done})).apply(this,arguments)}function ta({appConfig:C}){return C.appId}const an=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lo(C,w){return fn.apply(this,arguments)}function fn(){return(fn=(0,O.Z)(function*(C,w){const S=yield xi(C),k=uo(w),K={method:"POST",headers:S,body:JSON.stringify(k)};let ee;try{ee=yield(yield fetch(Rs(C.appConfig),K)).json()}catch(Ie){throw an.create("token-subscribe-failed",{errorInfo:Ie?.toString()})}if(ee.error)throw an.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw an.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function As(C,w){return ss.apply(this,arguments)}function ss(){return(ss=(0,O.Z)(function*(C,w){const S=yield xi(C),k=uo(w.subscriptionOptions),K={method:"PATCH",headers:S,body:JSON.stringify(k)};let ee;try{ee=yield(yield fetch(`${Rs(C.appConfig)}/${w.token}`,K)).json()}catch(Ie){throw an.create("token-update-failed",{errorInfo:Ie?.toString()})}if(ee.error)throw an.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw an.create("token-update-no-token");return ee.token})).apply(this,arguments)}function Fn(C,w){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,O.Z)(function*(C,w){const k={method:"DELETE",headers:yield xi(C)};try{const ee=yield(yield fetch(`${Rs(C.appConfig)}/${w}`,k)).json();if(ee.error)throw an.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(K){throw an.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function Rs({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function xi(C){return On.apply(this,arguments)}function On(){return(On=(0,O.Z)(function*({appConfig:C,installations:w}){const S=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function uo({p256dh:C,auth:w,endpoint:S,vapidKey:k}){const K={web:{endpoint:S,auth:w,p256dh:C}};return k!==ts&&(K.web.applicationPubKey=k),K}const co=6048e5;function na(C){return ri.apply(this,arguments)}function ri(){return(ri=(0,O.Z)(function*(C){const w=yield ol(C.swRegistration,C.vapidKey),S={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:w.endpoint,auth:Hr(w.getKey("auth")),p256dh:Hr(w.getKey("p256dh"))},k=yield Jo(C.firebaseDependencies);if(k){if(sa(k.subscriptionOptions,S))return Date.now()>=k.createTime+co?ft(C,{token:k.token,createTime:Date.now(),subscriptionOptions:S}):k.token;try{yield Fn(C.firebaseDependencies,k.token)}catch(K){console.warn(K)}return sl(C.firebaseDependencies,S)}return sl(C.firebaseDependencies,S)})).apply(this,arguments)}function ho(C){return fo.apply(this,arguments)}function fo(){return(fo=(0,O.Z)(function*(C){const w=yield Jo(C.firebaseDependencies);w&&(yield Fn(C.firebaseDependencies,w.token),yield ea(C.firebaseDependencies));const S=yield C.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function ft(C,w){return ra.apply(this,arguments)}function ra(){return(ra=(0,O.Z)(function*(C,w){try{const S=yield As(C.firebaseDependencies,w),k=Object.assign(Object.assign({},w),{token:S,createTime:Date.now()});return yield is(C.firebaseDependencies,k),S}catch(S){throw yield ho(C),S}})).apply(this,arguments)}function sl(C,w){return ia.apply(this,arguments)}function ia(){return(ia=(0,O.Z)(function*(C,w){const k={token:yield lo(C,w),createTime:Date.now(),subscriptionOptions:w};return yield is(C,k),k.token})).apply(this,arguments)}function ol(C,w){return xu.apply(this,arguments)}function xu(){return(xu=(0,O.Z)(function*(C,w){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Su(w)})})).apply(this,arguments)}function sa(C,w){return w.vapidKey===C.vapidKey&&w.endpoint===C.endpoint&&w.auth===C.auth&&w.p256dh===C.p256dh}function pn(C){const w={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Nu(C,w){if(!w.notification)return;C.notification={};const S=w.notification.title;S&&(C.notification.title=S);const k=w.notification.body;k&&(C.notification.body=k);const K=w.notification.image;K&&(C.notification.image=K);const ee=w.notification.icon;ee&&(C.notification.icon=ee)}(w,C),function Ee(C,w){!w.data||(C.data=w.data)}(w,C),function xt(C,w){var S,k,K,ee,Ie;if(!(w.fcmOptions||null!==(S=w.notification)&&void 0!==S&&S.click_action))return;C.fcmOptions={};const Ue=null!==(K=null===(k=w.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==K?K:null===(ee=w.notification)||void 0===ee?void 0:ee.click_action;Ue&&(C.fcmOptions.link=Ue);const Ye=null===(Ie=w.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;Ye&&(C.fcmOptions.analyticsLabel=Ye)}(w,C),w}function ku(C){return"object"==typeof C&&!!C&&bu in C}function Qc(C,w){const S=[];for(let k=0;k<C.length;k++)S.push(C.charAt(k)),k<w.length&&S.push(w.charAt(k));return S.join("")}function Ms(C){return an.create("missing-app-config-values",{valueName:C})}Qc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oa{constructor(w,S,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Un(C){if(!C||!C.options)throw Ms("App Configuration Object");if(!C.name)throw Ms("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:S}=C;for(const k of w)if(!S[k])throw Ms(k);return{appName:C.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:K,installations:S,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Tr(C){return aa.apply(this,arguments)}function aa(){return(aa=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(nl,{scope:gi}),C.swRegistration.update().catch(()=>{})}catch(w){throw an.create("failed-service-worker-registration",{browserErrorMessage:w?.message})}})).apply(this,arguments)}function Ps(C,w){return al.apply(this,arguments)}function al(){return(al=(0,O.Z)(function*(C,w){if(!w&&!C.swRegistration&&(yield Tr(C)),w||!C.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");C.swRegistration=w}})).apply(this,arguments)}function Lu(C,w){return Os.apply(this,arguments)}function Os(){return(Os=(0,O.Z)(function*(C,w){w?C.vapidKey=w:C.vapidKey||(C.vapidKey=ts)})).apply(this,arguments)}function ii(){return(ii=(0,O.Z)(function*(C,w){if(!navigator)throw an.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw an.create("permission-blocked");return yield Lu(C,w?.vapidKey),yield Ps(C,w?.serviceWorkerRegistration),na(C)})).apply(this,arguments)}function ll(C,w,S){return mi.apply(this,arguments)}function mi(){return(mi=(0,O.Z)(function*(C,w,S){const k=Sr(w);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:S[bu],message_name:S[Yc],message_time:S[rl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Sr(C){switch(C){case Qo.NOTIFICATION_CLICKED:return"notification_open";case Qo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ul(){return(ul=(0,O.Z)(function*(C,w){const S=w.data;if(!S.isFirebaseMessaging)return;C.onMessageHandler&&S.messageType===Qo.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(pn(S)):C.onMessageHandler.next(pn(S)));const k=S.data;ku(k)&&"1"===k[Tu]&&(yield ll(C,S.messageType,k))})).apply(this,arguments)}const cl="@firebase/messaging",Fu=C=>{const w=new oa(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Dh(C,w){return ul.apply(this,arguments)}(w,S)),w},os=C=>{const w=C.getProvider("messaging").getImmediate();return{getToken:k=>function nn(C,w){return ii.apply(this,arguments)}(w,k)}};function dl(){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,O.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Uu(){(0,ie._registerComponent)(new se.wA("messaging",Fu,"PUBLIC")),(0,ie._registerComponent)(new se.wA("messaging-internal",os,"PRIVATE")),(0,ie.registerVersion)(cl,"0.12.0"),(0,ie.registerVersion)(cl,"0.12.0","esm2017")}();const hl="analytics",pr="firebase_id",as="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fl="https://www.googletagmanager.com/gtag/js",xn=new ce.Yd("@firebase/analytics");function ed(C){return Promise.all(C.map(w=>w.catch(S=>S)))}function Sh(C,w){const S=document.createElement("script");S.src=`${fl}?l=${C}&id=${w}`,S.async=!0,document.head.appendChild(S)}function Ni(C,w,S,k,K,ee){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,O.Z)(function*(C,w,S,k,K,ee){const Ie=k[K];try{if(Ie)yield w[Ie];else{const Ye=(yield ed(S)).find(Ge=>Ge.measurementId===K);Ye&&(yield w[Ye.appId])}}catch(Ue){xn.error(Ue)}C("config",K,ee)})).apply(this,arguments)}function ca(C,w,S,k,K){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(C,w,S,k,K){try{let ee=[];if(K&&K.send_to){let Ie=K.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Ue=yield ed(S);for(const Ye of Ie){const Ge=Ue.find(rt=>rt.measurementId===Ye),ut=Ge&&w[Ge.appId];if(!ut){ee=[];break}ee.push(ut)}}0===ee.length&&(ee=Object.values(w)),yield Promise.all(ee),C("event",k,K||{})}catch(ee){xn.error(ee)}})).apply(this,arguments)}function xs(C){const w=window.document.getElementsByTagName("script");for(const S of Object.values(w))if(S.src&&S.src.includes(fl)&&S.src.includes(C))return S;return null}const Rr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ml=new class si{constructor(w={},S=1e3){this.throttleMetadata=w,this.intervalMillis=S}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,S){this.throttleMetadata[w]=S}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function $u(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ki(C){return _l.apply(this,arguments)}function _l(){return(_l=(0,O.Z)(function*(C){var w;const{appId:S,apiKey:k}=C,K={method:"GET",headers:$u(k)},ee=as.replace("{app-id}",S),Ie=yield fetch(ee,K);if(200!==Ie.status&&304!==Ie.status){let Ue="";try{const Ye=yield Ie.json();null!==(w=Ye.error)&&void 0!==w&&w.message&&(Ue=Ye.error.message)}catch{}throw Rr.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Ue})}return Ie.json()})).apply(this,arguments)}function qt(C){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,O.Z)(function*(C,w=ml,S){const{appId:k,apiKey:K,measurementId:ee}=C.options;if(!k)throw Rr.create("no-app-id");if(!K){if(ee)return{measurementId:ee,appId:k};throw Rr.create("no-api-key")}const Ie=w.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new ha;return setTimeout((0,O.Z)(function*(){Ue.abort()}),void 0!==S?S:6e4),ks({appId:k,apiKey:K,measurementId:ee},Ie,Ue,w)})).apply(this,arguments)}function ks(C,w,S){return Li.apply(this,arguments)}function Li(){return(Li=(0,O.Z)(function*(C,{throttleEndTimeMillis:w,backoffCount:S},k,K=ml){var ee;const{appId:Ie,measurementId:Ue}=C;try{yield da(k,w)}catch(Ye){if(Ue)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:Ie,measurementId:Ue};throw Ye}try{const Ye=yield ki(C);return K.deleteThrottleMetadata(Ie),Ye}catch(Ye){const Ge=Ye;if(!ju(Ge)){if(K.deleteThrottleMetadata(Ie),Ue)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${Ge?.message}]`),{appId:Ie,measurementId:Ue};throw Ye}const ut=503===Number(null===(ee=Ge?.customData)||void 0===ee?void 0:ee.httpStatus)?(0,re.$s)(S,K.intervalMillis,30):(0,re.$s)(S,K.intervalMillis),rt={throttleEndTimeMillis:Date.now()+ut,backoffCount:S+1};return K.setThrottleMetadata(Ie,rt),xn.debug(`Calling attemptFetch again in ${ut} millis`),ks(C,rt,k,K)}})).apply(this,arguments)}function da(C,w){return new Promise((S,k)=>{const K=Math.max(w-Date.now(),0),ee=setTimeout(S,K);C.addEventListener(()=>{clearTimeout(ee),k(Rr.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}function ju(C){if(!(C instanceof re.ZR&&C.customData))return!1;const w=Number(C.customData.httpStatus);return 429===w||500===w||503===w||504===w}class ha{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}let fa,us;function _i(){return(_i=(0,O.Z)(function*(C,w,S,k,K){if(K&&K.global)C("event",S,k);else{const ee=yield w;C("event",S,Object.assign(Object.assign({},k),{send_to:ee}))}})).apply(this,arguments)}function yo(C){us=C}function _a(C){fa=C}function vl(){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,O.Z)(function*(){if(!(0,re.hl)())return xn.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(C){return xn.warn(Rr.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function El(){return(El=(0,O.Z)(function*(C,w,S,k,K,ee,Ie){var Ue;const Ye=qt(C);Ye.then(P=>{S[P.measurementId]=P.appId,C.options.measurementId&&P.measurementId!==C.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>xn.error(P)),w.push(Ye);const Ge=vl().then(P=>{if(P)return k.getId()}),[ut,rt]=yield Promise.all([Ye,Ge]);xs(ee)||Sh(ee,ut.measurementId),us&&(K("consent","default",us),yo(void 0)),K("js",new Date);const Cn=null!==(Ue=Ie?.config)&&void 0!==Ue?Ue:{};return Cn.origin="firebase",Cn.update=!0,null!=rt&&(Cn[pr]=rt),K("config",ut.measurementId,Cn),fa&&(K("set",fa),_a(void 0)),ut.measurementId})).apply(this,arguments)}class nd{constructor(w){this.app=w}_delete(){return delete zr[this.app.options.appId],Promise.resolve()}}let zr={},Il=[];const vo={};let ya,oi,Gr="dataLayer",Mr=!1;function Dl(C,w,S){!function wl(){const C=[];if((0,re.ru)()&&C.push("This is a browser extension environment."),(0,re.zI)()||C.push("Cookies are not available."),C.length>0){const w=C.map((k,K)=>`(${K+1}) ${k}`).join(" "),S=Rr.create("invalid-analytics-context",{errorInfo:w});xn.warn(S.message)}}();const k=C.options.appId;if(!k)throw Rr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Rr.create("no-api-key");xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zr[k])throw Rr.create("already-exists",{id:k});if(!Mr){!function td(C){let w=[];Array.isArray(window[C])?w=window[C]:window[C]=w}(Gr);const{wrappedGtag:ee,gtagCore:Ie}=function Vu(C,w,S,k,K){let ee=function(...Ie){window[k].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ee=window[K]),window[K]=function pl(C,w,S,k){function ee(){return(ee=(0,O.Z)(function*(Ie,Ue,Ye){try{"event"===Ie?yield ca(C,w,S,Ue,Ye):"config"===Ie?yield Ni(C,w,S,k,Ue,Ye):"consent"===Ie?C("consent","update",Ye):C("set",Ue)}catch(Ge){xn.error(Ge)}})).apply(this,arguments)}return function K(Ie,Ue,Ye){return ee.apply(this,arguments)}}(ee,C,w,S),{gtagCore:ee,wrappedGtag:window[K]}}(zr,Il,vo,Gr,"gtag");oi=ee,ya=Ie,Mr=!0}return zr[k]=function yi(C,w,S,k,K,ee,Ie){return El.apply(this,arguments)}(C,Il,vo,w,ya,Gr,S),new nd(C)}function zu(){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,O.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Vt="@firebase/analytics";!function Zu(){(0,ie._registerComponent)(new se.wA(hl,(w,{options:S})=>Dl(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,ie._registerComponent)(new se.wA("analytics-internal",function C(w){try{const S=w.getProvider(hl).getImmediate();return{logEvent:(k,K,ee)=>function od(C,w,S,k){C=(0,re.m9)(C),function Ls(C,w,S,k,K){return _i.apply(this,arguments)}(oi,zr[C.app.options.appId],w,S,k).catch(K=>xn.error(K))}(S,k,K,ee)}}catch(S){throw Rr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,ie.registerVersion)(Vt,"0.9.0"),(0,ie.registerVersion)(Vt,"0.9.0","esm2017")}();var Tl=x(4408),ad=x(7565);const Yu=new class Ku extends ad.v{}(class Hp extends Tl.o{constructor(w,S){super(w,S),this.scheduler=w,this.work=S}schedule(w,S=0){return S>0?super.schedule(w,S):(this.delay=S,this.state=w,this.scheduler.flush(this),this)}execute(w,S){return S>0||this.closed?super.execute(w,S):this._execute(w,S)}requestAsyncId(w,S,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(w,S,k):(w.flush(this),0)}});var ld=x(4986),Al=x(8505),Zt=x(9468),Ea=x(5363);const Io=new _.GfV("7.5.0"),qu="__angularfire_symbol__analyticsIsSupportedValue",gr="__angularfire_symbol__analyticsIsSupported",ai="__angularfire_symbol__remoteConfigIsSupportedValue",Ia="__angularfire_symbol__remoteConfigIsSupported",Co="__angularfire_symbol__messagingIsSupportedValue",Bs="__angularfire_symbol__messagingIsSupported";function Kn(C,w,S){if(w){if(1===w.length)return w[0];const ee=w.filter(Ie=>Ie.app===S);if(1===ee.length)return ee[0]}return S.container.getProvider(C).getImmediate({optional:!0})}globalThis[gr]||(globalThis[gr]=zu().then(C=>globalThis[qu]=C).catch(()=>globalThis[qu]=!1)),globalThis[Bs]||(globalThis[Bs]=dl().then(C=>globalThis[Co]=C).catch(()=>globalThis[Co]=!1)),globalThis[Ia]||(globalThis[Ia]=io().then(C=>globalThis[ai]=C).catch(()=>globalThis[ai]=!1));const Yn=(C,w)=>{const S=w?[w]:(0,q.C6)(),k=[];return S.forEach(K=>{K.container.getProvider(C).instances.forEach(Ie=>{k.includes(Ie)||k.push(Ie)})}),k};function Zr(){}class Pr{constructor(w,S=Yu){this.zone=w,this.delegate=S}now(){return this.delegate.now()}schedule(w,S,k){const K=this.zone;return this.delegate.schedule(function(Ie){K.runGuarded(()=>{w.apply(this,[Ie])})},S,k)}}class cs{constructor(w){this.zone=w,this.task=null}call(w,S){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zr,{},Zr,Zr)),S.pipe((0,Al.b)({next:k,complete:k,error:k})).subscribe(w).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gn=(()=>{class C{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Pr(Zone.current)),this.insideAngular=S.run(()=>new Pr(Zone.current,ld.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(S){return new(S||C)(_.LFG(_.R0b))},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function He(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function mn(C){return He(),function ln(C){return function(S){return(S=S.lift(new cs(C.ngZone))).pipe((0,Zt.R)(C.outsideAngular),(0,Ea.Q)(C.insideAngular))}}(He())(C)}},2090:(Ke,me,x)=>{x.d(me,{$s:()=>$e,BH:()=>jt,DV:()=>wr,Dv:()=>Xt,GJ:()=>Qi,L:()=>ae,LL:()=>Nt,Pz:()=>Lt,Sg:()=>_t,UG:()=>Fe,UI:()=>Ri,US:()=>se,Wj:()=>kn,Wl:()=>zt,Yr:()=>pe,ZB:()=>j,ZR:()=>Qe,aH:()=>qe,b$:()=>ve,cI:()=>Je,dS:()=>Ut,eu:()=>Te,g5:()=>O,gK:()=>Yt,gQ:()=>Hn,h$:()=>ce,hl:()=>xe,hu:()=>q,jU:()=>Ze,lb:()=>Is,m9:()=>yt,ne:()=>Mi,p$:()=>B,pd:()=>Jt,r3:()=>Ai,ru:()=>ue,tV:()=>oe,uI:()=>ye,ug:()=>Jr,vZ:()=>Ht,w1:()=>Ae,w9:()=>jn,xO:()=>hi,xb:()=>tr,z$:()=>Me,zI:()=>U,zd:()=>Br});const q=function($,L){if(!$)throw O(L)},O=function($){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$)},ie=function($){const L=[];let G=0;for(let de=0;de<$.length;de++){let J=$.charCodeAt(de);J<128?L[G++]=J:J<2048?(L[G++]=J>>6|192,L[G++]=63&J|128):55296==(64512&J)&&de+1<$.length&&56320==(64512&$.charCodeAt(de+1))?(J=65536+((1023&J)<<10)+(1023&$.charCodeAt(++de)),L[G++]=J>>18|240,L[G++]=J>>12&63|128,L[G++]=J>>6&63|128,L[G++]=63&J|128):(L[G++]=J>>12|224,L[G++]=J>>6&63|128,L[G++]=63&J|128)}return L},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,L){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let J=0;J<$.length;J+=3){const We=$[J],vt=J+1<$.length,Rt=vt?$[J+1]:0,en=J+2<$.length,nt=en?$[J+2]:0;let Dn=(15&Rt)<<2|nt>>6,Cs=63&nt;en||(Cs=64,vt||(Dn=64)),de.push(G[We>>2],G[(3&We)<<4|Rt>>4],G[Dn],G[Cs])}return de.join("")},encodeString($,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa($):this.encodeByteArray(ie($),L)},decodeString($,L){return this.HAS_NATIVE_SUPPORT&&!L?atob($):function($){const L=[];let G=0,de=0;for(;G<$.length;){const J=$[G++];if(J<128)L[de++]=String.fromCharCode(J);else if(J>191&&J<224){const We=$[G++];L[de++]=String.fromCharCode((31&J)<<6|63&We)}else if(J>239&&J<365){const en=((7&J)<<18|(63&$[G++])<<12|(63&$[G++])<<6|63&$[G++])-65536;L[de++]=String.fromCharCode(55296+(en>>10)),L[de++]=String.fromCharCode(56320+(1023&en))}else{const We=$[G++],vt=$[G++];L[de++]=String.fromCharCode((15&J)<<12|(63&We)<<6|63&vt)}}return L.join("")}(this.decodeStringToByteArray($,L))},decodeStringToByteArray($,L){this.init_();const G=L?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let J=0;J<$.length;){const We=G[$.charAt(J++)],Rt=J<$.length?G[$.charAt(J)]:0;++J;const nt=J<$.length?G[$.charAt(J)]:64;++J;const bt=J<$.length?G[$.charAt(J)]:64;if(++J,null==We||null==Rt||null==nt||null==bt)throw Error();de.push(We<<2|Rt>>4),64!==nt&&(de.push(Rt<<4&240|nt>>2),64!==bt&&de.push(nt<<6&192|bt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},ce=function($){const L=ie($);return se.encodeByteArray(L,!0)},ae=function($){return ce($).replace(/\./g,"")},oe=function($){try{return se.decodeString($,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function B($){return j(void 0,$)}function j($,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return L}for(const G in L)!L.hasOwnProperty(G)||!Z(G)||($[G]=j($[G],L[G]));return $}function Z($){return"__proto__"!==$}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function Fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return"object"==typeof self&&self.self===self}function ue(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){const $=Me();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function pe(){return!1}function xe(){try{return"object"==typeof indexedDB}catch{return!1}}function Te(){return new Promise(($,L)=>{try{let G=!0;const de="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(de);J.onsuccess=()=>{J.result.close(),G||self.indexedDB.deleteDatabase(de),$(!0)},J.onupgradeneeded=()=>{G=!1},J.onerror=()=>{var We;L((null===(We=J.error)||void 0===We?void 0:We.message)||"")}}catch(G){L(G)}})}function U(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const X=()=>{try{return function he(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=$&&oe($[1]);return L&&JSON.parse(L)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},qe=()=>{var $;return null===($=X())||void 0===$?void 0:$.config},Lt=$=>{var L;return null===(L=X())||void 0===L?void 0:L[`_${$}`]};class jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,G)=>{this.resolve=L,this.reject=G})}wrapCallback(L){return(G,de)=>{G?this.reject(G):this.resolve(de),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(G):L(G,de))}}}function _t($,L){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=L||"demo-project",J=$.iat||0,We=$.sub||$.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:J,exp:J+3600,auth_time:J,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(vt)),""].join(".")}class Qe extends Error{constructor(L,G,de){super(G),this.code=L,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nt.prototype.create)}}class Nt{constructor(L,G,de){this.service=L,this.serviceName=G,this.errors=de}create(L,...G){const de=G[0]||{},J=`${this.service}/${L}`,We=this.errors[L],vt=We?function $n($,L){return $.replace(Xn,(G,de)=>{const J=L[de];return null!=J?String(J):`<${de}?>`})}(We,de):"Error";return new Qe(J,`${this.serviceName}: ${vt} (${J}).`,de)}}const Xn=/\{\$([^}]+)}/g;function Je($){return JSON.parse($)}function zt($){return JSON.stringify($)}const Cr=function($){let L={},G={},de={},J="";try{const We=$.split(".");L=Je(oe(We[0])||""),G=Je(oe(We[1])||""),J=We[2],de=G.d||{},delete G.d}catch{}return{header:L,claims:G,data:de,signature:J}},jn=function($){const G=Cr($).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},Qi=function($){const L=Cr($).claims;return"object"==typeof L&&!0===L.admin};function Ai($,L){return Object.prototype.hasOwnProperty.call($,L)}function wr($,L){if(Object.prototype.hasOwnProperty.call($,L))return $[L]}function tr($){for(const L in $)if(Object.prototype.hasOwnProperty.call($,L))return!1;return!0}function Ri($,L,G){const de={};for(const J in $)Object.prototype.hasOwnProperty.call($,J)&&(de[J]=L.call(G,$[J],J,$));return de}function Ht($,L){if($===L)return!0;const G=Object.keys($),de=Object.keys(L);for(const J of G){if(!de.includes(J))return!1;const We=$[J],vt=L[J];if(cr(We)&&cr(vt)){if(!Ht(We,vt))return!1}else if(We!==vt)return!1}for(const J of de)if(!G.includes(J))return!1;return!0}function cr($){return null!==$&&"object"==typeof $}function hi($){const L=[];for(const[G,de]of Object.entries($))Array.isArray(de)?de.forEach(J=>{L.push(encodeURIComponent(G)+"="+encodeURIComponent(J))}):L.push(encodeURIComponent(G)+"="+encodeURIComponent(de));return L.length?"&"+L.join("&"):""}function Br($){const L={};return $.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[J,We]=de.split("=");L[decodeURIComponent(J)]=decodeURIComponent(We)}}),L}function Jt($){const L=$.indexOf("?");if(!L)return"";const G=$.indexOf("#",L);return $.substring(L,G>0?G:void 0)}class Hn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,G){G||(G=0);const de=this.W_;if("string"==typeof L)for(let bt=0;bt<16;bt++)de[bt]=L.charCodeAt(G)<<24|L.charCodeAt(G+1)<<16|L.charCodeAt(G+2)<<8|L.charCodeAt(G+3),G+=4;else for(let bt=0;bt<16;bt++)de[bt]=L[G]<<24|L[G+1]<<16|L[G+2]<<8|L[G+3],G+=4;for(let bt=16;bt<80;bt++){const Dn=de[bt-3]^de[bt-8]^de[bt-14]^de[bt-16];de[bt]=4294967295&(Dn<<1|Dn>>>31)}let nt,Pn,J=this.chain_[0],We=this.chain_[1],vt=this.chain_[2],Rt=this.chain_[3],en=this.chain_[4];for(let bt=0;bt<80;bt++){bt<40?bt<20?(nt=Rt^We&(vt^Rt),Pn=1518500249):(nt=We^vt^Rt,Pn=1859775393):bt<60?(nt=We&vt|Rt&(We|vt),Pn=2400959708):(nt=We^vt^Rt,Pn=3395469782);const Dn=(J<<5|J>>>27)+nt+en+Pn+de[bt]&4294967295;en=Rt,Rt=vt,vt=4294967295&(We<<30|We>>>2),We=J,J=Dn}this.chain_[0]=this.chain_[0]+J&4294967295,this.chain_[1]=this.chain_[1]+We&4294967295,this.chain_[2]=this.chain_[2]+vt&4294967295,this.chain_[3]=this.chain_[3]+Rt&4294967295,this.chain_[4]=this.chain_[4]+en&4294967295}update(L,G){if(null==L)return;void 0===G&&(G=L.length);const de=G-this.blockSize;let J=0;const We=this.buf_;let vt=this.inbuf_;for(;J<G;){if(0===vt)for(;J<=de;)this.compress_(L,J),J+=this.blockSize;if("string"==typeof L){for(;J<G;)if(We[vt]=L.charCodeAt(J),++vt,++J,vt===this.blockSize){this.compress_(We),vt=0;break}}else for(;J<G;)if(We[vt]=L[J],++vt,++J,vt===this.blockSize){this.compress_(We),vt=0;break}}this.inbuf_=vt,this.total_+=G}digest(){const L=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let J=this.blockSize-1;J>=56;J--)this.buf_[J]=255&G,G/=256;this.compress_(this.buf_);let de=0;for(let J=0;J<5;J++)for(let We=24;We>=0;We-=8)L[de]=this.chain_[J]>>We&255,++de;return L}}function Mi($,L){const G=new ht($,L);return G.subscribe.bind(G)}class ht{constructor(L,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{L(this)}).catch(de=>{this.error(de)})}next(L){this.forEachObserver(G=>{G.next(L)})}error(L){this.forEachObserver(G=>{G.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,G,de){let J;if(void 0===L&&void 0===G&&void 0===de)throw new Error("Missing Observer.");J=function st($,L){if("object"!=typeof $||null===$)return!1;for(const G of L)if(G in $&&"function"==typeof $[G])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:G,complete:de},void 0===J.next&&(J.next=fi),void 0===J.error&&(J.error=fi),void 0===J.complete&&(J.complete=fi);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),We}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,L)}sendOne(L,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{G(this.observers[L])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fi(){}const Xt=function($,L,G,de){let J;if(de<L?J="at least "+L:de>G&&(J=0===G?"none":"no more than "+G),J)throw new Error($+" failed: Was called with "+de+(1===de?" argument.":" arguments.")+" Expects "+J+".")};function Yt($,L){return`${$} failed: ${L} argument `}function kn($,L,G,de){if((!de||G)&&"function"!=typeof G)throw new Error(Yt($,L)+"must be a valid function.")}function Is($,L,G,de){if((!de||G)&&("object"!=typeof G||null===G))throw new Error(Yt($,L)+"must be a valid context object.")}const Ut=function($){const L=[];let G=0;for(let de=0;de<$.length;de++){let J=$.charCodeAt(de);if(J>=55296&&J<=56319){const We=J-55296;de++,q(de<$.length,"Surrogate pair missing trail surrogate."),J=65536+(We<<10)+($.charCodeAt(de)-56320)}J<128?L[G++]=J:J<2048?(L[G++]=J>>6|192,L[G++]=63&J|128):J<65536?(L[G++]=J>>12|224,L[G++]=J>>6&63|128,L[G++]=63&J|128):(L[G++]=J>>18|240,L[G++]=J>>12&63|128,L[G++]=J>>6&63|128,L[G++]=63&J|128)}return L},Jr=function($){let L=0;for(let G=0;G<$.length;G++){const de=$.charCodeAt(G);de<128?L++:de<2048?L+=2:de>=55296&&de<=56319?(L+=4,G++):L+=3}return L};function $e($,L=1e3,G=2){const de=L*Math.pow(G,$),J=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+J)}function yt($){return $&&$._delegate?$._delegate:$}},9481:(Ke,me,x)=>{var _=x(4650);let q=null;function O(){return q}class re{}const se=new _.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return function ae(){return(0,_.LFG)(B)}()},providedIn:"platform"}),n})();const oe=new _.OlP("Location Initialized");let B=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const s=O().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=O().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,l){j()?this._history.pushState(e,s,l):this.location.hash=l}replaceState(e,s,l){j()?this._history.replaceState(e,s,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(se))},n.\u0275prov=_.Yz7({token:n,factory:function(){return function Z(){return new B((0,_.LFG)(se))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function Me(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ye(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let Ze=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(ve)},providedIn:"root"}),n})();const ue=new _.OlP("appBaseHref");let ve=(()=>{class n extends Ze{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Me(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Fe(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${s}${l}`:s}pushState(e,s,l,d){const p=this.prepareExternalUrl(l+Fe(d));this._platformLocation.pushState(e,s,p)}replaceState(e,s,l,d){const p=this.prepareExternalUrl(l+Fe(d));this._platformLocation.replaceState(e,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(ce),_.LFG(ue,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_e=(()=>{class n extends Ze{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Me(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,l,d){let p=this.prepareExternalUrl(l+Fe(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,s,p)}replaceState(e,s,l,d){let p=this.prepareExternalUrl(l+Fe(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(ce),_.LFG(ue,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(e){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._basePath=function xe(n){if(/^(https?:)?\/\//.test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ye(we(s))),this._locationStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Fe(s))}normalize(e){return n.stripTrailingSlash(function pe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._basePath,we(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",l=null){this._locationStrategy.pushState(l,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(s)),l)}replaceState(e,s="",l=null){this._locationStrategy.replaceState(l,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(s)),l)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(l=>l(e,s))}subscribe(e,s,l){return this._subject.subscribe({next:e,error:s,complete:l})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Me,n.stripTrailingSlash=ye,n.\u0275fac=function(e){return new(e||n)(_.LFG(Ze))},n.\u0275prov=_.Yz7({token:n,factory:function(){return function Ce(){return new Ae((0,_.LFG)(Ze))}()},providedIn:"root"}),n})();function we(n){return n.replace(/\/index.html$/,"")}class dr{constructor(t,e,s,l){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pi=(()=>{class n{constructor(e,s,l){this._viewContainer=e,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((l,d,p)=>{if(null==l.previousIndex)s.createEmbeddedView(this._template,new dr(l.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)s.remove(null===d?void 0:d);else if(null!==d){const E=s.get(d);s.move(E,p),dn(E,l)}});for(let l=0,d=s.length;l<d;l++){const E=s.get(l).context;E.index=l,E.count=d,E.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{dn(s.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},n.\u0275dir=_.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function dn(n,t){n.context.$implicit=t.item}let Hr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})();let Oi=(()=>{class n{}return n.\u0275prov=(0,_.Yz7)({token:n,providedIn:"root",factory:()=>new oo((0,_.LFG)(se),window)}),n})();class oo{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Jo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const d=l.shadowRoot;if(d){const p=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(p)return p}l=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],l-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=rs(this.window.history)||rs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function rs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class td extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ni extends td{static makeCurrent(){!function ie(n){q||(q=n)}(new Ni)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ca(){return Ar=Ar||document.querySelector("base"),Ar?Ar.getAttribute("href"):null}();return null==e?null:function pl(n){Wr=Wr||document.createElement("a"),Wr.setAttribute("href",n);const t=Wr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ar=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Gn(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[l,d]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(l.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let Wr,Ar=null;const Vu=new _.OlP("TRANSITION_ID"),mo=[{provide:_.ip1,useFactory:function xs(n,t,e){return()=>{e.get(_.CZH).donePromise.then(()=>{const s=O(),l=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<l.length;d++)s.remove(l[d])})}},deps:[Vu,se,_.zs3],multi:!0}];let gl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const _o=new _.OlP("EventManagerPlugins");let si=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,l){return this._findPluginFor(s).addEventListener(e,s,l)}addGlobalEventListener(e,s,l){return this._findPluginFor(s).addGlobalEventListener(e,s,l)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const l=this._plugins;for(let d=0;d<l.length;d++){const p=l[d];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(_o),_.LFG(_.R0b))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();class ml{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const l=O().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,s)}}let $u=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})(),ki=(()=>{class n extends $u{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,l){e.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,l.push(s.appendChild(p))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(_l),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(e,l,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(_l))}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(se))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();function _l(n){O().remove(n)}const qt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ns=/%COMP%/g;function Ls(n,t){return t.flat(100).map(e=>e.replace(Ns,n))}function _i(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Fi=(()=>{class n{constructor(e,s,l){this.eventManager=e,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new ls(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case _.ifc.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new yl(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(e),l}case 1:case _.ifc.ShadowDom:return new Fs(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const l=Ls(s.id,s.styles);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(si),_.LFG(ki),_.LFG(_.AFp))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();class ls{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(qt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(sr(t)?t.content:t).appendChild(e)}insertBefore(t,e,s){t&&(sr(t)?t.content:t).insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,l){if(l){e=l+":"+e;const d=qt[l];d?t.setAttributeNS(d,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const l=qt[s];l?t.removeAttributeNS(l,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,l){l&(_.JOm.DashCase|_.JOm.Important)?t.style.setProperty(e,s,l&_.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&_.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_i(s)):this.eventManager.addEventListener(t,e,_i(s))}}function sr(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class yl extends ls{constructor(t,e,s,l){super(t),this.component=s;const d=Ls(l+"-"+s.id,s.styles);e.addStyles(d),this.contentAttr=function ha(n){return"_ngcontent-%COMP%".replace(Ns,n)}(l+"-"+s.id),this.hostAttr=function fa(n){return"_nghost-%COMP%".replace(Ns,n)}(l+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class Fs extends ls{constructor(t,e,s,l){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Ls(l.id,l.styles);for(let p=0;p<d.length;p++){const E=document.createElement("style");E.textContent=d[p],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let us=(()=>{class n extends ml{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,l){return e.addEventListener(s,l,!1),()=>this.removeEventListener(e,s,l)}removeEventListener(e,s,l){return e.removeEventListener(s,l)}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(se))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const yo=["alt","control","meta","shift"],_a={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Hu=(()=>{class n extends ml{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,l){const d=n.parseEventName(s),p=n.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,d.domEventName,p))}static parseEventName(e){const s=e.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const d=n._normalizeKey(s.pop());let p="",E=s.indexOf("code");if(E>-1&&(s.splice(E,1),p="code."),yo.forEach(M=>{const F=s.indexOf(M);F>-1&&(s.splice(F,1),p+=M+".")}),p+=d,0!=s.length||0===d.length)return null;const b={};return b.domEventName=l,b.fullKey=p,b}static matchEventFullKeyCode(e,s){let l=_a[e.key]||e.key,d="";return s.indexOf("code.")>-1&&(l=e.code,d="code."),!(null==l||!l)&&(l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),yo.forEach(p=>{p!==l&&(0,vl[p])(e)&&(d+=p+".")}),d+=l,d===s)}static eventCallback(e,s,l){return d=>{n.matchEventFullKeyCode(d,e)&&l.runGuarded(()=>s(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(se))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const oi=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:"browser"},{provide:_.g9A,useValue:function vo(){Ni.makeCurrent()},multi:!0},{provide:se,useFactory:function Cl(){return(0,_.RDi)(document),document},deps:[]}]),Mr=new _.OlP(""),rd=[{provide:_.rWj,useClass:class Rr{addToWindow(t){_.dqk.getAngularTestability=(s,l=!0)=>{const d=t.findTestabilityInTree(s,l);if(null==d)throw new Error("Could not find testability for element.");return d},_.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(s=>{const l=_.dqk.getAllAngularTestabilities();let d=l.length,p=!1;const E=function(b){p=p||b,d--,0==d&&s(p)};l.forEach(function(b){b.whenStable(E)})})}findTestabilityInTree(t,e,s){return null==e?null:t.getTestability(e)??(s?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],wl=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function Gr(){return new _.qLn},deps:[]},{provide:_o,useClass:us,multi:!0,deps:[se,_.R0b,_.Lbi]},{provide:_o,useClass:Hu,multi:!0,deps:[se]},{provide:Fi,useClass:Fi,deps:[si,ki,_.AFp]},{provide:_.FYo,useExisting:Fi},{provide:$u,useExisting:ki},{provide:ki,useClass:ki,deps:[se]},{provide:si,useClass:si,deps:[_o,_.R0b]},{provide:class is{},useClass:gl,deps:[]},[]];let Dl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:_.AFp,useValue:e.appId},{provide:Vu,useExisting:_.AFp},mo]}}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(Mr,12))},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[...wl,...rd],imports:[Hr,_.hGG]}),n})(),Us=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(se))},n.\u0275prov=_.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function Ui(){return new Us((0,_.LFG)(se))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var Yn=x(2011),Zr=x(4986),Pr=x(9751),cs=x(7669),gn=x(8996);function He(...n){const t=(0,cs.yG)(n);return(0,gn.D)(n,t)}var wo=x(6451),it=x(4004),ud=x(3099),Do=x(8421),mn=x(4482),ln=x(5403);function un(n,t){return(0,mn.e)((e,s)=>{let l=null,d=0,p=!1;const E=()=>p&&!l&&s.complete();e.subscribe((0,ln.x)(s,b=>{l?.unsubscribe();let M=0;const F=d++;(0,Do.Xf)(n(b,F)).subscribe(l=(0,ln.x)(s,V=>s.next(t?t(b,V,F,M++):V),()=>{l=null,E()}))},()=>{p=!0,E()}))})}function wa(n,t,e,s,l){return(d,p)=>{let E=e,b=t,M=0;d.subscribe((0,ln.x)(p,F=>{const V=M++;b=E?n(b,F,V):(E=!0,F),s&&p.next(b)},l&&(()=>{E&&p.next(b),p.complete()})))}}function C(n,t){return(0,mn.e)(wa(n,t,arguments.length>=2,!0))}var w=x(4671);function k(n,t){return n===t}var K=x(5032),Ue=x(2122),Ge=(x(9169),x(3942)),ut=x(4859),rt=x(5861),Cn=x(9681),P=x(2090),Bi=x(1877);const Da="@firebase/database";let mr="";function li(n){mr=n}class hs{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,P.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,P.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Ah{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,P.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Rh=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hs(t)}}catch{}return new Ah},Vs=Rh("localStorage"),Ju=Rh("sessionStorage"),bo=new Bi.Yd("@firebase/database"),Wp=function(){let n=1;return function(){return n++}}(),cd=function(n){const t=(0,P.dS)(n),e=new P.gQ;e.update(t);const s=e.digest();return P.US.encodeByteArray(s)},Rl=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=Rl.apply(null,s):t+="object"==typeof s?(0,P.Wl)(s):s,t+=" "}return t};let ui=null,zp=!0;const Gp=function(n,t){(0,P.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(bo.logLevel=Bi.in.VERBOSE,ui=bo.log.bind(bo),t&&Ju.set("logging_enabled",!0)):"function"==typeof n?ui=n:(ui=null,Ju.remove("logging_enabled"))},Tn=function(...n){if(!0===zp&&(zp=!1,null===ui&&!0===Ju.get("logging_enabled")&&Gp(!0)),ui){const t=Rl.apply(null,n);ui(t)}},Xu=function(n){return function(...t){Tn(n,...t)}},Mh=function(...n){const t="FIREBASE INTERNAL ERROR: "+Rl(...n);bo.error(t)},fs=function(...n){const t=`FIREBASE FATAL ERROR: ${Rl(...n)}`;throw bo.error(t),new Error(t)},_r=function(...n){const t="FIREBASE WARNING: "+Rl(...n);bo.warn(t)},ba=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Vi="[MIN_NAME]",$i="[MAX_NAME]",$s=function(n,t){if(n===t)return 0;if(n===Vi||t===$i)return-1;if(t===Vi||n===$i)return 1;{const e=ec(n),s=ec(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},Oh=function(n,t){return n===t?0:n<t?-1:1},yr=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,P.Wl)(t))},dd=function(n){if("object"!=typeof n||null===n)return(0,P.Wl)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,P.Wl)(t[s]),e+=":",e+=dd(n[t[s]]);return e+="}",e},xh=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let l=0;l<e;l+=t)s.push(n.substring(l,l+t>e?e:l+t));return s};function Bn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const hd=function(n){(0,P.hu)(!ba(n),"Invalid JSON number");const s=1023;let l,d,p,E,b;0===n?(d=0,p=0,l=1/n==-1/0?1:0):(l=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(E=Math.min(Math.floor(Math.log(n)/Math.LN2),s),d=E+s,p=Math.round(n*Math.pow(2,52-E)-Math.pow(2,52))):(d=0,p=Math.round(n/Math.pow(2,-1074))));const M=[];for(b=52;b;b-=1)M.push(p%2?1:0),p=Math.floor(p/2);for(b=11;b;b-=1)M.push(d%2?1:0),d=Math.floor(d/2);M.push(l?1:0),M.reverse();const F=M.join("");let V="";for(b=0;b<64;b+=8){let te=parseInt(F.substr(b,8),2).toString(16);1===te.length&&(te="0"+te),V+=te}return V.toLowerCase()},Kp=new RegExp("^-?(0*)\\d{1,10}$"),ec=function(n){if(Kp.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Nn=function(n){try{n()}catch(t){setTimeout(()=>{throw _r("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},To=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class gd{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){_r(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class or{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Tn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_r(t)}}let ps=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const gs=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kh="websocket",Ta="long_polling";class xl{constructor(t,e,s,l,d=!1,p="",E=!1){this.secure=e,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=d,this.persistenceKey=p,this.includeNamespaceInQueryParams=E,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vs.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Vs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function js(n,t,e){let s;if((0,P.hu)("string"==typeof t,"typeof type must == string"),(0,P.hu)("object"==typeof e,"typeof params must == object"),t===kh)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Ta)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Qp(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const l=[];return Bn(e,(d,p)=>{l.push(d+"="+p)}),s+l.join("&")}class Jp{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,P.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,P.p$)(this.counters_)}}const Ed={},So={};function Nl(n){const t=n.toString();return Ed[t]||(Ed[t]=new Jp),Ed[t]}class Sa{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Nn(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ms{constructor(t,e,s,l,d,p,E){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=l,this.authToken=d,this.transportSessionId=p,this.lastSessionId=E,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xu(t),this.stats_=Nl(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),js(e,Ta,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Sa(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,P.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _s((...d)=>{const[p,E,b,M,F]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=E,this.password=b;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);E?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(E,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[p,E]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(p,E)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&gs.test(location.hostname)&&(s.r="f");const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ms.forceAllow_=!0}static forceDisallow(){ms.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!ms.forceAllow_&&(ms.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,P.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,P.h$)(e),l=xh(s,1840);for(let d=0;d<l.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,P.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class _s{constructor(t,e,s,l){if(this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Wp(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=_s.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(E){Tn("frame writing exception"),E.stack&&Tn(E.stack),Tn(E)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Tn("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const p=this.pendingSegs.shift();s=s+"&seg"+l+"="+p.seg+"&ts"+l+"="+p.ts+"&d"+l+"="+p.d,l++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),s()})}addTag(t,e){(0,P.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||"loaded"===l||"complete"===l)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Tn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let Fl=null;typeof MozWebSocket<"u"?Fl=MozWebSocket:typeof WebSocket<"u"&&(Fl=WebSocket);let Ul=(()=>{class n{constructor(e,s,l,d,p,E,b){this.connId=e,this.applicationId=l,this.appCheckToken=d,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xu(this.connId),this.stats_=Nl(s),this.connURL=n.connectionURL_(s,E,b,d,l),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,l,d,p){const E={v:"5"};return!(0,P.Yr)()&&typeof location<"u"&&location.hostname&&gs.test(location.hostname)&&(E.r="f"),s&&(E.s=s),l&&(E.ls=l),d&&(E.ac=d),p&&(E.p=p),js(e,kh,E)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vs.set("previous_websocket_failure",!0);try{let l;if((0,P.Yr)()){l={headers:{"User-Agent":`Firebase/5/${mr}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,E=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;E&&(l.proxy={origin:E})}this.mySock=new Fl(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const d=l.message||l.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const d=l.message||l.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==Fl&&!n.forceDisallow_}static previouslyFailed(){return Vs.isInMemoryStorage||!0===Vs.get("previous_websocket_failure")}markConnectionHealthy(){Vs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const l=(0,P.cI)(s);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const l=this.extractFrameCount_(s);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const s=(0,P.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=xh(s,16384);l.length>1&&this.sendString_(String(l.length));for(let d=0;d<l.length;d++)this.sendString_(l[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Bl=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ms,Ul]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Ul&&Ul.isAvailable();let l=s&&!Ul.previouslyFailed();if(e.webSocketOnly&&(s||_r("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[Ul];else{const d=this.transports_=[];for(const p of n.ALL_TRANSPORTS)p&&p.isAvailable()&&d.push(p);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class $l{constructor(t,e,s,l,d,p,E,b,M,F){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=d,this.onMessage_=p,this.onReady_=E,this.onDisconnect_=b,this.onKill_=M,this.lastSessionId=F,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xu("c:"+this.id+":"),this.transportManager_=new Bl(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=To(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=yr("t",t),s=yr("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=yr("t",t),s=yr("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=yr("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?Mh("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mh("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&_r("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),To(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):To(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Gh{put(t,e,s,l){}merge(t,e,s,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class Td{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,P.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const l=this.getInitialEvent(t);l&&e.apply(s,l)}off(t,e,s){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let d=0;d<l.length;d++)if(l[d].callback===e&&(!s||s===l[d].context))return void l.splice(d,1)}validateEventType_(t){(0,P.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class lc extends Td{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new lc}getInitialEvent(t){return(0,P.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Ft{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function kt(){return new Ft("")}function mt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ys(n){return n.pieces_.length-n.pieceNum_}function St(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Ft(n.pieces_,t)}function cc(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Mo(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Hi(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Ft(t,0)}function $t(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof Ft)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&e.push(s[l])}return new Ft(e,0)}function Et(n){return n.pieceNum_>=n.pieces_.length}function Vn(n,t){const e=mt(n),s=mt(t);if(null===e)return t;if(e===s)return Vn(St(n),St(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Zh(n,t){const e=Mo(n,0),s=Mo(t,0);for(let l=0;l<e.length&&l<s.length;l++){const d=$s(e[l],s[l]);if(0!==d)return d}return e.length===s.length?0:e.length<s.length?-1:1}function Ma(n,t){if(ys(n)!==ys(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function Kr(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(ys(n)>ys(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class Kh{constructor(t,e){this.errorPrefix_=e,this.parts_=Mo(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,P.ug)(this.parts_[s]);g(this)}}function g(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+c(n))}function c(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class f extends Td{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new f}getInitialEvent(t){return(0,P.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const y=1e3;let Or,et=(()=>{class n extends Gh{constructor(e,s,l,d,p,E,b,M){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=l,this.onConnectStatus_=d,this.onServerInfoUpdate_=p,this.authTokenProvider_=E,this.appCheckTokenProvider_=b,this.authOverride_=M,this.id=n.nextPersistentConnectionId_++,this.log_=Xu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=y,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,M&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");f.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&lc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,l){const d=++this.requestNumber_,p={r:d,a:e,b:s};this.log_((0,P.Wl)(p)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),l&&(this.requestCBHash_[d]=l)}get(e){this.initConnection_();const s=new P.BH,d={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:E=>{const b=E.d;"ok"===E.s?s.resolve(b):s.reject(b)}};return this.outstandingGets_.push(d),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,l,d){this.initConnection_();const p=e._queryIdentifier,E=e._path.toString();this.log_("Listen called for "+E+" "+p),this.listens.has(E)||this.listens.set(E,new Map),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(E).has(p),"listen() called twice for same path/queryId.");const b={onComplete:d,hashFn:s,query:e,tag:l};this.listens.get(E).set(p,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(l)})}sendListen_(e){const s=e.query,l=s._path.toString(),d=s._queryIdentifier;this.log_("Listen on "+l+" for "+d);const p={p:l};e.tag&&(p.q=s._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,b=>{const M=b.d,F=b.s;n.warnOnListenWarnings_(M,s),(this.listens.get(l)&&this.listens.get(l).get(d))===e&&(this.log_("listen response",b),"ok"!==F&&this.removeListen_(l,d),e.onComplete&&e.onComplete(F,M))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,P.r3)(e,"w")){const l=(0,P.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const d='".indexOn": "'+s._queryParams.getIndex().toString()+'"',p=s._path.toString();_r(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,P.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,P.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(s,l,d=>{const p=d.s,E=d.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,E))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,l=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,l)})}unlisten(e,s){const l=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+d),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,d)&&this.connected_&&this.sendUnlisten_(l,d,e._queryObject,s)}sendUnlisten_(e,s,l,d){this.log_("Unlisten on "+e+" for "+s);const p={p:e};d&&(p.q=l,p.t=d),this.sendRequest("n",p)}onDisconnectPut(e,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:l})}onDisconnectMerge(e,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:l})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,l,d){const p={p:s,d:l};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,E=>{d&&setTimeout(()=>{d(E.s,E.d)},Math.floor(0))})}put(e,s,l,d){this.putInternal("p",e,s,l,d)}merge(e,s,l,d){this.putInternal("m",e,s,l,d)}putInternal(e,s,l,d,p){this.initConnection_();const E={p:s,d:l};void 0!==p&&(E.h=p),this.outstandingPuts_.push({action:e,request:E,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,l,p=>{this.log_(s+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(p.s,p.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,P.Wl)(e));const s=e.r,l=this.requestCBHash_[s];l&&(delete this.requestCBHash_[s],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):Mh("Unrecognized action received from server: "+(0,P.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=y,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=y,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=y),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,rt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+n.nextConnectionId_++,E=e.lastSessionId;let b=!1,M=null;const F=function(){M?M.close():(b=!0,d())};e.realtime_={close:F,sendRequest:function(De){(0,P.hu)(M,"sendRequest call when we're not connected not allowed."),M.sendRequest(De)}};const te=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[De,Le]=yield Promise.all([e.authTokenProvider_.getToken(te),e.appCheckTokenProvider_.getToken(te)]);b?Tn("getToken() completed but was canceled"):(Tn("getToken() completed. Creating connection."),e.authToken_=De&&De.accessToken,e.appCheckToken_=Le&&Le.token,M=new $l(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,l,d,at=>{_r(at+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},E))}catch(De){e.log_("Failed to get token: "+De),b||(e.repoInfo_.nodeAdmin&&_r(De),F())}}})()}interrupt(e){Tn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Tn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=y,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let l;l=s?s.map(p=>dd(p)).join("$"):"default";const d=this.removeListen_(e,l);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,s){const l=new Ft(e).toString();let d;if(this.listens.has(l)){const p=this.listens.get(l);d=p.get(s),p.delete(s),0===p.size&&this.listens.delete(l)}else d=void 0;return d}onAuthRevoked_(e,s){Tn("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Tn("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,P.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+mr.replace(/\./g,"-")]=1,(0,P.uI)()?e["framework.cordova"]=1:(0,P.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=lc.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Re{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Re(t,e)}}class _n{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new Re(Vi,t),l=new Re(Vi,e);return 0!==this.compare(s,l)}minPost(){return Re.MIN}}class jl extends _n{static get __EMPTY_NODE(){return Or}static set __EMPTY_NODE(t){Or=t}compare(t,e){return $s(t.name,e.name)}isDefinedOn(t){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Re.MIN}maxPost(){return new Re($i,Or)}makePost(t,e){return(0,P.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Re(t,Or)}toString(){return".key"}}const Ei=new jl;class Ws{constructor(t,e,s,l,d=null){this.isReverse_=l,this.resultGenerator_=d,this.nodeStack_=[];let p=1;for(;!t.isEmpty();)if(p=e?s(t.key,e):1,l&&(p*=-1),p<0)t=this.isReverse_?t.left:t.right;else{if(0===p){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let dc,Sn=(()=>{class n{constructor(e,s,l,d,p){this.key=e,this.value=s,this.color=l??n.RED,this.left=d??qn.EMPTY_NODE,this.right=p??qn.EMPTY_NODE}copy(e,s,l,d,p){return new n(e??this.key,s??this.value,l??this.color,d??this.left,p??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,l){let d=this;const p=l(e,d.key);return d=p<0?d.copy(null,null,null,d.left.insert(e,s,l),null):0===p?d.copy(null,s,null,null,null):d.copy(null,null,null,null,d.right.insert(e,s,l)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return qn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let l,d;if(l=this,s(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,s),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===s(e,l.key)){if(l.right.isEmpty())return qn.EMPTY_NODE;d=l.right.min_(),l=l.copy(d.key,d.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,s))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class qn{constructor(t,e=qn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new qn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Sn.BLACK,null,null))}remove(t){return new qn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Sn.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,l=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(l=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ws(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Ws(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Ws(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Ws(this.root_,null,this.comparator_,!0,t)}}function Ad(n,t){return $s(n.name,t.name)}function Hl(n,t){return $s(n,t)}qn.EMPTY_NODE=new class Pa{copy(t,e,s,l,d){return this}insert(t,e,s){return new Sn(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const og=function(n){return"number"==typeof n?"number:"+hd(n):"string:"+n},Oa=function(n){if(n.isLeafNode()){const t=n.val();(0,P.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,P.r3)(t,".sv"),"Priority must be a string or number.")}else(0,P.hu)(n===dc||n.isEmpty(),"priority of unexpected type.");(0,P.hu)(n===dc||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let hc,j0,ag,Rd=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Oa(this.priorityNode_)}static set __childrenNodeConstructor(e){hc=e}static get __childrenNodeConstructor(){return hc}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Et(e)?this:".priority"===mt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const l=mt(e);return null===l?s:s.isEmpty()&&".priority"!==l?this:((0,P.hu)(".priority"!==l||1===ys(e),".priority must be the last token in a path"),this.updateImmediateChild(l,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(St(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+og(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?hd(this.value_):this.value_,this.lazyHash_=cd(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,P.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,l=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(s),p=n.VALUE_TYPE_ORDER.indexOf(l);return(0,P.hu)(d>=0,"Unknown leaf type: "+s),(0,P.hu)(p>=0,"Unknown leaf type: "+l),d===p?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const rn=new class z0 extends _n{compare(t,e){const s=t.node.getPriority(),l=e.node.getPriority(),d=s.compareTo(l);return 0===d?$s(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re($i,new Rd("[PRIORITY-POST]",ag))}makePost(t,e){const s=j0(t);return new Re(e,new Rd("[PRIORITY-POST]",s))}toString(){return".priority"}},R_=Math.log(2);class Yh{constructor(t){this.count=parseInt(Math.log(t+1)/R_,10),this.current_=this.count-1;const l=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const qh=function(n,t,e,s){n.sort(t);const l=function(b,M){const F=M-b;let V,te;if(0===F)return null;if(1===F)return V=n[b],te=e?e(V):V,new Sn(te,V.node,Sn.BLACK,null,null);{const De=parseInt(F/2,10)+b,Le=l(b,De),at=l(De+1,M);return V=n[De],te=e?e(V):V,new Sn(te,V.node,Sn.BLACK,Le,at)}},E=function(b){let M=null,F=null,V=n.length;const te=function(Le,at){const wt=V-Le,vn=V;V-=Le;const En=l(wt+1,vn),Qr=n[wt],Mn=e?e(Qr):Qr;De(new Sn(Mn,Qr.node,at,null,En))},De=function(Le){M?(M.left=Le,M=Le):(F=Le,M=Le)};for(let Le=0;Le<b.count;++Le){const at=b.nextBitIsOne(),wt=Math.pow(2,b.count-(Le+1));at?te(wt,Sn.BLACK):(te(wt,Sn.BLACK),te(wt,Sn.RED))}return F}(new Yh(n.length));return new qn(s||t,E)};let Md;const fc={};class Kt{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,P.hu)(fc&&rn,"ChildrenNode.ts has not been loaded"),Md=Md||new Kt({".priority":fc},{".priority":rn}),Md}get(t){const e=(0,P.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof qn?e:null}hasIndex(t){return(0,P.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,P.hu)(t!==Ei,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const d=e.getIterator(Re.Wrap);let E,p=d.getNext();for(;p;)l=l||t.isDefinedOn(p.node),s.push(p),p=d.getNext();E=l?qh(s,t.getCompare()):fc;const b=t.toString(),M=Object.assign({},this.indexSet_);M[b]=t;const F=Object.assign({},this.indexes_);return F[b]=E,new Kt(F,M)}addToIndexes(t,e){const s=(0,P.UI)(this.indexes_,(l,d)=>{const p=(0,P.DV)(this.indexSet_,d);if((0,P.hu)(p,"Missing index implementation for "+d),l===fc){if(p.isDefinedOn(t.node)){const E=[],b=e.getIterator(Re.Wrap);let M=b.getNext();for(;M;)M.name!==t.name&&E.push(M),M=b.getNext();return E.push(t),qh(E,p.getCompare())}return fc}{const E=e.get(t.name);let b=l;return E&&(b=b.remove(new Re(t.name,E))),b.insert(t,t.node)}});return new Kt(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,P.UI)(this.indexes_,l=>{if(l===fc)return l;{const d=e.get(t.name);return d?l.remove(new Re(t.name,d)):l}});return new Kt(s,this.indexSet_)}}let Pd,Tt=(()=>{class n{constructor(e,s,l){this.children_=e,this.priorityNode_=s,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Oa(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Pd||(Pd=new n(new qn(Hl),null,Kt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Pd:s}}getChild(e){const s=mt(e);return null===s?this:this.getImmediateChild(s).getChild(St(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,P.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const l=new Re(e,s);let d,p;s.isEmpty()?(d=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(l,this.children_)):(d=this.children_.insert(e,s),p=this.indexMap_.addToIndexes(l,this.children_));const E=d.isEmpty()?Pd:this.priorityNode_;return new n(d,E,p)}}updateChild(e,s){const l=mt(e);if(null===l)return s;{(0,P.hu)(".priority"!==mt(e)||1===ys(e),".priority must be the last token in a path");const d=this.getImmediateChild(l).updateChild(St(e),s);return this.updateImmediateChild(l,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let l=0,d=0,p=!0;if(this.forEachChild(rn,(E,b)=>{s[E]=b.val(e),l++,p&&n.INTEGER_REGEXP_.test(E)?d=Math.max(d,Number(E)):p=!1}),!e&&p&&d<2*l){const E=[];for(const b in s)E[b]=s[b];return E}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+og(this.getPriority().val())+":"),this.forEachChild(rn,(s,l)=>{const d=l.hash();""!==d&&(e+=":"+s+":"+d)}),this.lazyHash_=""===e?"":cd(e)}return this.lazyHash_}getPredecessorChildName(e,s,l){const d=this.resolveIndex_(l);if(d){const p=d.getPredecessorKey(new Re(e,s));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const l=s.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Re(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const l=s.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Re(s,this.children_.get(s)):null}forEachChild(e,s){const l=this.resolveIndex_(e);return l?l.inorderTraversal(d=>s(d.name,d.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const l=this.resolveIndex_(s);if(l)return l.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Re.Wrap);let p=d.peek();for(;null!=p&&s.compare(p,e)<0;)d.getNext(),p=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const l=this.resolveIndex_(s);if(l)return l.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Re.Wrap);let p=d.peek();for(;null!=p&&s.compare(p,e)>0;)d.getNext(),p=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pc?-1:0}withIndex(e){if(e===Ei||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Ei||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const l=this.getIterator(rn),d=s.getIterator(rn);let p=l.getNext(),E=d.getNext();for(;p&&E;){if(p.name!==E.name||!p.node.equals(E.node))return!1;p=l.getNext(),E=d.getNext()}return null===p&&null===E}return!1}return!1}}resolveIndex_(e){return e===Ei?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const pc=new class M_ extends Tt{constructor(){super(new qn(Hl),Tt.EMPTY_NODE,Kt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Tt.EMPTY_NODE}isEmpty(){return!1}};function wn(n,t=null){if(null===n)return Tt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,P.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Rd(n,wn(t));if(n instanceof Array){let e=Tt.EMPTY_NODE;return Bn(n,(s,l)=>{if((0,P.r3)(n,s)&&"."!==s.substring(0,1)){const d=wn(l);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(s,d))}}),e.updatePriority(wn(t))}{const e=[];let s=!1;if(Bn(n,(p,E)=>{if("."!==p.substring(0,1)){const b=wn(E);b.isEmpty()||(s=s||!b.getPriority().isEmpty(),e.push(new Re(p,b)))}}),0===e.length)return Tt.EMPTY_NODE;const d=qh(e,Ad,p=>p.name,Hl);if(s){const p=qh(e,rn.getCompare());return new Tt(d,wn(t),new Kt({".priority":p},{".priority":rn}))}return new Tt(d,wn(t),Kt.Default)}}Object.defineProperties(Re,{MIN:{value:new Re(Vi,Tt.EMPTY_NODE)},MAX:{value:new Re($i,pc)}}),jl.__EMPTY_NODE=Tt.EMPTY_NODE,Rd.__childrenNodeConstructor=Tt,function sg(n){dc=n}(pc),function W0(n){ag=n}(pc),function H0(n){j0=n}(wn);class lg extends _n{constructor(t){super(),this.indexPath_=t,(0,P.hu)(!Et(t)&&".priority"!==mt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),l=this.extractChild(e.node),d=s.compareTo(l);return 0===d?$s(t.name,e.name):d}makePost(t,e){const s=wn(t),l=Tt.EMPTY_NODE.updateChild(this.indexPath_,s);return new Re(e,l)}maxPost(){const t=Tt.EMPTY_NODE.updateChild(this.indexPath_,pc);return new Re($i,t)}toString(){return Mo(this.indexPath_,0).join("/")}}const Qh=new class Z0 extends _n{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?$s(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(t,e){const s=wn(t);return new Re(e,s)}toString(){return".value"}};function K0(n){return{type:"value",snapshotNode:n}}function Od(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Po(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Wl(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Jh{constructor(t){this.index_=t}updateChild(t,e,s,l,d,p){(0,P.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const E=t.getImmediateChild(e);return E.getChild(l).equals(s.getChild(l))&&E.isEmpty()===s.isEmpty()||(null!=p&&(s.isEmpty()?t.hasChild(e)?p.trackChildChange(Po(e,E)):(0,P.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):E.isEmpty()?p.trackChildChange(Od(e,s)):p.trackChildChange(Wl(e,s,E))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(rn,(l,d)=>{e.hasChild(l)||s.trackChildChange(Po(l,d))}),e.isLeafNode()||e.forEachChild(rn,(l,d)=>{if(t.hasChild(l)){const p=t.getImmediateChild(l);p.equals(d)||s.trackChildChange(Wl(l,d,p))}else s.trackChildChange(Od(l,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Tt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gc{constructor(t){this.indexedFilter_=new Jh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gc.getStartPost_(t),this.endPost_=gc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,s=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&s}updateChild(t,e,s,l,d,p){return this.matches(new Re(e,s))||(s=Tt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,l,d,p)}updateFullNode(t,e,s){e.isLeafNode()&&(e=Tt.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(Tt.EMPTY_NODE);const d=this;return e.forEachChild(rn,(p,E)=>{d.matches(new Re(p,E))||(l=l.updateImmediateChild(p,Tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class ew{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new gc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,s,l,d,p){return this.rangedFilter_.matches(new Re(e,s))||(s=Tt.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,l,d,p):this.fullLimitUpdateChild_(t,e,s,d,p)}updateFullNode(t,e,s){let l;if(e.isLeafNode()||e.isEmpty())l=Tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;l=Tt.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;d.hasNext()&&p<this.limit_;){const E=d.getNext();if(this.withinDirectionalStart(E)){if(!this.withinDirectionalEnd(E))break;l=l.updateImmediateChild(E.name,E.node),p++}}}else{let d;l=e.withIndex(this.index_),l=l.updatePriority(Tt.EMPTY_NODE),d=this.reverse_?l.getReverseIterator(this.index_):l.getIterator(this.index_);let p=0;for(;d.hasNext();){const E=d.getNext();p<this.limit_&&this.withinDirectionalStart(E)&&this.withinDirectionalEnd(E)?p++:l=l.updateImmediateChild(E.name,Tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,l,d){let p;if(this.reverse_){const V=this.index_.getCompare();p=(te,De)=>V(De,te)}else p=this.index_.getCompare();const E=t;(0,P.hu)(E.numChildren()===this.limit_,"");const b=new Re(e,s),M=this.reverse_?E.getFirstChild(this.index_):E.getLastChild(this.index_),F=this.rangedFilter_.matches(b);if(E.hasChild(e)){const V=E.getImmediateChild(e);let te=l.getChildAfterChild(this.index_,M,this.reverse_);for(;null!=te&&(te.name===e||E.hasChild(te.name));)te=l.getChildAfterChild(this.index_,te,this.reverse_);const De=null==te?1:p(te,b);if(F&&!s.isEmpty()&&De>=0)return d?.trackChildChange(Wl(e,s,V)),E.updateImmediateChild(e,s);{d?.trackChildChange(Po(e,V));const at=E.updateImmediateChild(e,Tt.EMPTY_NODE);return null!=te&&this.rangedFilter_.matches(te)?(d?.trackChildChange(Od(te.name,te.node)),at.updateImmediateChild(te.name,te.node)):at}}return s.isEmpty()?t:F&&p(M,b)>=0?(null!=d&&(d.trackChildChange(Po(M.name,M.node)),d.trackChildChange(Od(e,s))),E.updateImmediateChild(e,s).updateImmediateChild(M.name,Tt.EMPTY_NODE)):t}}class Xh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vi}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const t=new Xh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function N_(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function dg(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function xd(n,t){const e=n.copy();return e.index_=t,e}function fg(n){const t={};if(n.isDefault())return t;let e;if(n.index_===rn?e="$priority":n.index_===Qh?e="$value":n.index_===Ei?e="$key":((0,P.hu)(n.index_ instanceof lg,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,P.Wl)(e),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";t[s]=(0,P.Wl)(n.indexStartValue_),n.startNameSet_&&(t[s]+=","+(0,P.Wl)(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";t[s]=(0,P.Wl)(n.indexEndValue_),n.endNameSet_&&(t[s]+=","+(0,P.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function xa(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==rn&&(t.i=n.index_.toString()),t}class ef extends Gh{constructor(t,e,s,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Xu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,P.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,l){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const p=ef.getListenId_(t,s),E={};this.listens_[p]=E;const b=fg(t._queryParams);this.restRequest_(d+".json",b,(M,F)=>{let V=F;if(404===M&&(V=null,M=null),null===M&&this.onDataUpdate_(d,V,!1,s),(0,P.DV)(this.listens_,p)===E){let te;te=M?401===M?"permission_denied":"rest_error:"+M:"ok",l(te,null)}})}unlisten(t,e){const s=ef.getListenId_(t,e);delete this.listens_[s]}get(t){const e=fg(t._queryParams),s=t._path.toString(),l=new P.BH;return this.restRequest_(s+".json",e,(d,p)=>{let E=p;404===d&&(E=null,d=null),null===d?(this.onDataUpdate_(s,E,!1,null),l.resolve(E)):l.reject(new Error(E))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,d])=>{l&&l.accessToken&&(e.auth=l.accessToken),d&&d.token&&(e.ac=d.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,P.xO)(e);this.log_("Sending REST request for "+p);const E=new XMLHttpRequest;E.onreadystatechange=()=>{if(s&&4===E.readyState){this.log_("REST Response for "+p+" received. status:",E.status,"response:",E.responseText);let b=null;if(E.status>=200&&E.status<300){try{b=(0,P.cI)(E.responseText)}catch{_r("Failed to parse JSON response for "+p+": "+E.responseText)}s(null,b)}else 401!==E.status&&404!==E.status&&_r("Got unsuccessful REST response for "+p+" Status: "+E.status),s(E.status);s=null}},E.open("GET",p,!0),E.send()})}}class pg{constructor(){this.rootNode_=Tt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function zl(){return{value:null,children:new Map}}function mc(n,t,e){if(Et(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=mt(t);n.children.has(s)||n.children.set(s,zl()),mc(n.children.get(s),t=St(t),e)}}function Nd(n,t){if(Et(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(rn,(s,l)=>{mc(n,new Ft(s),l)}),Nd(n,t)}}if(n.children.size>0){const e=mt(t);return t=St(t),n.children.has(e)&&Nd(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function _c(n,t,e){null!==n.value?e(t,n.value):function Gl(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,l)=>{_c(l,new Ft(t.toString()+"/"+s),e)})}class k_{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Bn(this.last_,(s,l)=>{e[s]=e[s]-l}),this.last_=t,e}}class L_{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new k_(t);const s=1e4+2e4*Math.random();To(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;Bn(t,(l,d)=>{d>0&&(0,P.r3)(this.statsToReport_,l)&&(e[l]=d,s=!0)}),s&&this.server_.reportStats(e),To(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var vr=(()=>{return(n=vr||(vr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",vr;var n})();function _g(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class yc{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=vr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Et(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ft(t));return new yc(kt(),e,this.revert)}}return(0,P.hu)(mt(this.path)===t,"operationForChild called for unrelated child."),new yc(St(this.path),this.affectedTree,this.revert)}}class kd{constructor(t,e){this.source=t,this.path=e,this.type=vr.LISTEN_COMPLETE}operationForChild(t){return Et(this.path)?new kd(this.source,kt()):new kd(this.source,St(this.path))}}class Na{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=vr.OVERWRITE}operationForChild(t){return Et(this.path)?new Na(this.source,kt(),this.snap.getImmediateChild(t)):new Na(this.source,St(this.path),this.snap)}}class vc{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=vr.MERGE}operationForChild(t){if(Et(this.path)){const e=this.children.subtree(new Ft(t));return e.isEmpty()?null:e.value?new Na(this.source,kt(),e.value):new vc(this.source,kt(),e)}return(0,P.hu)(mt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new vc(this.source,St(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Oo{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Et(t))return this.isFullyInitialized()&&!this.filtered_;const e=mt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class tw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function xo(n,t,e,s,l,d){const p=s.filter(E=>E.type===e);p.sort((E,b)=>function Ec(n,t,e){if(null==t.childName||null==e.childName)throw(0,P.g5)("Should only compare child_ events.");const s=new Re(t.childName,t.snapshotNode),l=new Re(e.childName,e.snapshotNode);return n.index_.compare(s,l)}(n,E,b)),p.forEach(E=>{const b=function J0(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,E,d);l.forEach(M=>{M.respondsTo(E.type)&&t.push(M.createEvent(b,n.query_))})})}function ka(n,t){return{eventCache:n,serverCache:t}}function Ld(n,t,e,s){return ka(new Oo(t,e,s),n.serverCache)}function yg(n,t,e,s){return ka(n.eventCache,new Oo(t,e,s))}function nf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Zl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let vg;class Qt{constructor(t,e=(()=>(vg||(vg=new qn(Oh)),vg))()){this.value=t,this.children=e}static fromObject(t){let e=new Qt(null);return Bn(t,(s,l)=>{e=e.set(new Ft(s),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:kt(),value:this.value};if(Et(t))return null;{const s=mt(t),l=this.children.get(s);if(null!==l){const d=l.findRootMostMatchingPathAndValue(St(t),e);return null!=d?{path:$t(new Ft(s),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Et(t))return this;{const e=mt(t),s=this.children.get(e);return null!==s?s.subtree(St(t)):new Qt(null)}}set(t,e){if(Et(t))return new Qt(e,this.children);{const s=mt(t),d=(this.children.get(s)||new Qt(null)).set(St(t),e),p=this.children.insert(s,d);return new Qt(this.value,p)}}remove(t){if(Et(t))return this.children.isEmpty()?new Qt(null):new Qt(null,this.children);{const e=mt(t),s=this.children.get(e);if(s){const l=s.remove(St(t));let d;return d=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&d.isEmpty()?new Qt(null):new Qt(this.value,d)}return this}}get(t){if(Et(t))return this.value;{const e=mt(t),s=this.children.get(e);return s?s.get(St(t)):null}}setTree(t,e){if(Et(t))return e;{const s=mt(t),d=(this.children.get(s)||new Qt(null)).setTree(St(t),e);let p;return p=d.isEmpty()?this.children.remove(s):this.children.insert(s,d),new Qt(this.value,p)}}fold(t){return this.fold_(kt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((l,d)=>{s[l]=d.fold_($t(t,l),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,kt(),e)}findOnPath_(t,e,s){const l=!!this.value&&s(e,this.value);if(l)return l;if(Et(t))return null;{const d=mt(t),p=this.children.get(d);return p?p.findOnPath_(St(t),$t(e,d),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,kt(),e)}foreachOnPath_(t,e,s){if(Et(t))return this;{this.value&&s(e,this.value);const l=mt(t),d=this.children.get(l);return d?d.foreachOnPath_(St(t),$t(e,l),s):new Qt(null)}}foreach(t){this.foreach_(kt(),t)}foreach_(t,e){this.children.inorderTraversal((s,l)=>{l.foreach_($t(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Ii{constructor(t){this.writeTree_=t}static empty(){return new Ii(new Qt(null))}}function Kl(n,t,e){if(Et(t))return new Ii(new Qt(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const l=s.path;let d=s.value;const p=Vn(l,t);return d=d.updateChild(p,e),new Ii(n.writeTree_.set(l,d))}{const l=new Qt(e),d=n.writeTree_.setTree(t,l);return new Ii(d)}}}function Eg(n,t,e){let s=n;return Bn(e,(l,d)=>{s=Kl(s,$t(t,l),d)}),s}function rf(n,t){if(Et(t))return Ii.empty();{const e=n.writeTree_.setTree(t,new Qt(null));return new Ii(e)}}function Yl(n,t){return null!=ql(n,t)}function ql(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Vn(e.path,t)):null}function U_(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(rn,(s,l)=>{t.push(new Re(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{null!=l.value&&t.push(new Re(s,l.value))}),t}function La(n,t){if(Et(t))return n;{const e=ql(n,t);return new Ii(null!=e?new Qt(e):n.writeTree_.subtree(t))}}function Ig(n){return n.writeTree_.isEmpty()}function Ic(n,t){return B_(kt(),n.writeTree_,t)}function B_(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((l,d)=>{".priority"===l?((0,P.hu)(null!==d.value,"Priority writes must always be leaf nodes"),s=d.value):e=B_($t(n,l),d,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild($t(n,".priority"),s)),e}}function sf(n,t){return W_(t,n)}function nw(n,t){if(n.snap)return Kr(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Kr($t(n.path,e),t))return!0;return!1}function V_(n){return n.visible}function tE(n,t,e){let s=Ii.empty();for(let l=0;l<n.length;++l){const d=n[l];if(t(d)){const p=d.path;let E;if(d.snap)Kr(e,p)?(E=Vn(e,p),s=Kl(s,E,d.snap)):Kr(p,e)&&(E=Vn(p,e),s=Kl(s,kt(),d.snap.getChild(E)));else{if(!d.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(Kr(e,p))E=Vn(e,p),s=Eg(s,E,d.children);else if(Kr(p,e))if(E=Vn(p,e),Et(E))s=Eg(s,kt(),d.children);else{const b=(0,P.DV)(d.children,mt(E));if(b){const M=b.getChild(St(E));s=Kl(s,kt(),M)}}}}}return s}function Cg(n,t,e,s,l){if(s||l){const d=La(n.visibleWrites,t);return!l&&Ig(d)?e:l||null!=e||Yl(d,kt())?Ic(tE(n.allWrites,function(M){return(M.visible||l)&&(!s||!~s.indexOf(M.writeId))&&(Kr(M.path,t)||Kr(t,M.path))},t),e||Tt.EMPTY_NODE):null}{const d=ql(n.visibleWrites,t);if(null!=d)return d;{const p=La(n.visibleWrites,t);return Ig(p)?e:null!=e||Yl(p,kt())?Ic(p,e||Tt.EMPTY_NODE):null}}}function af(n,t,e,s){return Cg(n.writeTree,n.treePath,t,e,s)}function lf(n,t){return function $_(n,t,e){let s=Tt.EMPTY_NODE;const l=ql(n.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(rn,(d,p)=>{s=s.updateImmediateChild(d,p)}),s;if(e){const d=La(n.visibleWrites,t);return e.forEachChild(rn,(p,E)=>{const b=Ic(La(d,new Ft(p)),E);s=s.updateImmediateChild(p,b)}),U_(d).forEach(p=>{s=s.updateImmediateChild(p.name,p.node)}),s}return U_(La(n.visibleWrites,t)).forEach(p=>{s=s.updateImmediateChild(p.name,p.node)}),s}(n.writeTree,n.treePath,t)}function H_(n,t,e,s){return function nE(n,t,e,s,l){(0,P.hu)(s||l,"Either existingEventSnap or existingServerSnap must exist");const d=$t(t,e);if(Yl(n.visibleWrites,d))return null;{const p=La(n.visibleWrites,d);return Ig(p)?l.getChild(e):Ic(p,l.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function uf(n,t){return function rE(n,t){return ql(n.visibleWrites,t)}(n.writeTree,$t(n.treePath,t))}function wg(n,t,e){return function j_(n,t,e,s){const l=$t(t,e),d=ql(n.visibleWrites,l);return null!=d?d:s.isCompleteForChild(e)?Ic(La(n.visibleWrites,l),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Dg(n,t){return W_($t(n.treePath,t),n.writeTree)}function W_(n,t){return{treePath:n,writeTree:t}}class oE{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,P.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const d=l.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(s,Wl(s,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(s,Po(s,l.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(s,Od(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,P.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(s,Wl(s,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const It=new class aE{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class cf{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new Oo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wg(this.writes_,t,s)}}getChildAfterChild(t,e,s){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zl(this.viewCache_),d=function sE(n,t,e,s,l,d){return function iE(n,t,e,s,l,d,p){let E;const b=La(n.visibleWrites,t),M=ql(b,kt());if(null!=M)E=M;else{if(null==e)return[];E=Ic(b,e)}if(E=E.withIndex(p),E.isEmpty()||E.isLeafNode())return[];{const F=[],V=p.getCompare(),te=d?E.getReverseIteratorFrom(s,p):E.getIteratorFrom(s,p);let De=te.getNext();for(;De&&F.length<l;)0!==V(De,s)&&F.push(De),De=te.getNext();return F}}(n.writeTree,n.treePath,t,e,s,l,d)}(this.writes_,l,e,1,s,t);return 0===d.length?null:d[0]}}function bg(n,t,e,s,l,d){const p=t.eventCache;if(null!=uf(s,e))return t;{let E,b;if(Et(e))if((0,P.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const M=Zl(t),V=lf(s,M instanceof Tt?M:Tt.EMPTY_NODE);E=n.filter.updateFullNode(t.eventCache.getNode(),V,d)}else{const M=af(s,Zl(t));E=n.filter.updateFullNode(t.eventCache.getNode(),M,d)}else{const M=mt(e);if(".priority"===M){(0,P.hu)(1===ys(e),"Can't have a priority with additional path components");const F=p.getNode();b=t.serverCache.getNode();const V=H_(s,e,F,b);E=null!=V?n.filter.updatePriority(F,V):p.getNode()}else{const F=St(e);let V;if(p.isCompleteForChild(M)){b=t.serverCache.getNode();const te=H_(s,e,p.getNode(),b);V=null!=te?p.getNode().getImmediateChild(M).updateChild(F,te):p.getNode().getImmediateChild(M)}else V=wg(s,M,t.serverCache);E=null!=V?n.filter.updateChild(p.getNode(),M,V,F,l,d):p.getNode()}}return Ld(t,E,p.isFullyInitialized()||Et(e),n.filter.filtersNodes())}}function df(n,t,e,s,l,d,p,E){const b=t.serverCache;let M;const F=p?n.filter:n.filter.getIndexedFilter();if(Et(e))M=F.updateFullNode(b.getNode(),s,null);else if(F.filtersNodes()&&!b.isFiltered()){const De=b.getNode().updateChild(e,s);M=F.updateFullNode(b.getNode(),De,null)}else{const De=mt(e);if(!b.isCompleteForPath(e)&&ys(e)>1)return t;const Le=St(e),wt=b.getNode().getImmediateChild(De).updateChild(Le,s);M=".priority"===De?F.updatePriority(b.getNode(),wt):F.updateChild(b.getNode(),De,wt,Le,It,null)}const V=yg(t,M,b.isFullyInitialized()||Et(e),F.filtersNodes());return bg(n,V,e,l,new cf(l,V,d),E)}function hf(n,t,e,s,l,d,p){const E=t.eventCache;let b,M;const F=new cf(l,t,d);if(Et(e))M=n.filter.updateFullNode(t.eventCache.getNode(),s,p),b=Ld(t,M,!0,n.filter.filtersNodes());else{const V=mt(e);if(".priority"===V)M=n.filter.updatePriority(t.eventCache.getNode(),s),b=Ld(t,M,E.isFullyInitialized(),E.isFiltered());else{const te=St(e),De=E.getNode().getImmediateChild(V);let Le;if(Et(te))Le=s;else{const at=F.getCompleteChild(V);Le=null!=at?".priority"===cc(te)&&at.getChild(Hi(te)).isEmpty()?at:at.updateChild(te,s):Tt.EMPTY_NODE}b=De.equals(Le)?t:Ld(t,n.filter.updateChild(E.getNode(),V,Le,te,F,p),E.isFullyInitialized(),n.filter.filtersNodes())}}return b}function Z_(n,t){return n.eventCache.isCompleteForChild(t)}function dE(n,t,e){return e.foreach((s,l)=>{t=t.updateChild(s,l)}),t}function ff(n,t,e,s,l,d,p,E){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let M,b=t;M=Et(e)?s:new Qt(null).setTree(e,s);const F=t.serverCache.getNode();return M.children.inorderTraversal((V,te)=>{if(F.hasChild(V)){const Le=dE(0,t.serverCache.getNode().getImmediateChild(V),te);b=df(n,b,new Ft(V),Le,l,d,p,E)}}),M.children.inorderTraversal((V,te)=>{const De=!t.serverCache.isCompleteForChild(V)&&null===te.value;if(!F.hasChild(V)&&!De){const at=dE(0,t.serverCache.getNode().getImmediateChild(V),te);b=df(n,b,new Ft(V),at,l,d,p,E)}}),b}class Tg{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Jh(s.getIndex()),d=function O_(n){return n.loadsAllData()?new Jh(n.getIndex()):n.hasLimit()?new ew(n):new gc(n)}(s);this.processor_=function z_(n){return{filter:n}}(d);const p=e.serverCache,E=e.eventCache,b=l.updateFullNode(Tt.EMPTY_NODE,p.getNode(),null),M=d.updateFullNode(Tt.EMPTY_NODE,E.getNode(),null),F=new Oo(b,p.isFullyInitialized(),l.filtersNodes()),V=new Oo(M,E.isFullyInitialized(),d.filtersNodes());this.viewCache_=ka(V,F),this.eventGenerator_=new tw(this.query_)}get query(){return this.query_}}function iw(n,t){const e=Zl(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Et(t)&&!e.getImmediateChild(mt(t)).isEmpty())?e.getChild(t):null}function pE(n){return 0===n.eventRegistrations_.length}function Y_(n,t,e){const s=[];if(e){(0,P.hu)(null==t,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(d=>{const p=d.createCancelEvent(e,l);p&&s.push(p)})}if(t){let l=[];for(let d=0;d<n.eventRegistrations_.length;++d){const p=n.eventRegistrations_[d];if(p.matches(t)){if(t.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(d+1));break}}else l.push(p)}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Ag(n,t,e,s){t.type===vr.MERGE&&null!==t.source.queryId&&((0,P.hu)(Zl(n.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(nf(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,d=function lE(n,t,e,s,l){const d=new oE;let p,E;if(e.type===vr.OVERWRITE){const M=e;M.source.fromUser?p=hf(n,t,M.path,M.snap,s,l,d):((0,P.hu)(M.source.fromServer,"Unknown source."),E=M.source.tagged||t.serverCache.isFiltered()&&!Et(M.path),p=df(n,t,M.path,M.snap,s,l,E,d))}else if(e.type===vr.MERGE){const M=e;M.source.fromUser?p=function cE(n,t,e,s,l,d,p){let E=t;return s.foreach((b,M)=>{const F=$t(e,b);Z_(t,mt(F))&&(E=hf(n,E,F,M,l,d,p))}),s.foreach((b,M)=>{const F=$t(e,b);Z_(t,mt(F))||(E=hf(n,E,F,M,l,d,p))}),E}(n,t,M.path,M.children,s,l,d):((0,P.hu)(M.source.fromServer,"Unknown source."),E=M.source.tagged||t.serverCache.isFiltered(),p=ff(n,t,M.path,M.children,s,l,E,d))}else if(e.type===vr.ACK_USER_WRITE){const M=e;p=M.revert?function hE(n,t,e,s,l,d){let p;if(null!=uf(s,e))return t;{const E=new cf(s,t,l),b=t.eventCache.getNode();let M;if(Et(e)||".priority"===mt(e)){let F;if(t.serverCache.isFullyInitialized())F=af(s,Zl(t));else{const V=t.serverCache.getNode();(0,P.hu)(V instanceof Tt,"serverChildren would be complete if leaf node"),F=lf(s,V)}M=n.filter.updateFullNode(b,F,d)}else{const F=mt(e);let V=wg(s,F,t.serverCache);null==V&&t.serverCache.isCompleteForChild(F)&&(V=b.getImmediateChild(F)),M=null!=V?n.filter.updateChild(b,F,V,St(e),E,d):t.eventCache.getNode().hasChild(F)?n.filter.updateChild(b,F,Tt.EMPTY_NODE,St(e),E,d):b,M.isEmpty()&&t.serverCache.isFullyInitialized()&&(p=af(s,Zl(t)),p.isLeafNode()&&(M=n.filter.updateFullNode(M,p,d)))}return p=t.serverCache.isFullyInitialized()||null!=uf(s,kt()),Ld(t,M,p,n.filter.filtersNodes())}}(n,t,M.path,s,l,d):function K_(n,t,e,s,l,d,p){if(null!=uf(l,e))return t;const E=t.serverCache.isFiltered(),b=t.serverCache;if(null!=s.value){if(Et(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return df(n,t,e,b.getNode().getChild(e),l,d,E,p);if(Et(e)){let M=new Qt(null);return b.getNode().forEachChild(Ei,(F,V)=>{M=M.set(new Ft(F),V)}),ff(n,t,e,M,l,d,E,p)}return t}{let M=new Qt(null);return s.foreach((F,V)=>{const te=$t(e,F);b.isCompleteForPath(te)&&(M=M.set(F,b.getNode().getChild(te)))}),ff(n,t,e,M,l,d,E,p)}}(n,t,M.path,M.affectedTree,s,l,d)}else{if(e.type!==vr.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+e.type);p=function Ql(n,t,e,s,l){const d=t.serverCache;return bg(n,yg(t,d.getNode(),d.isFullyInitialized()||Et(e),d.isFiltered()),e,s,It,l)}(n,t,e.path,s,d)}const b=d.getChanges();return function uE(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),d=nf(n);(e.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(d)||!s.getNode().getPriority().equals(d.getPriority()))&&e.push(K0(nf(t)))}}(t,p,b),{viewCache:p,changes:b}}(n.processor_,l,t,e,s);return function G_(n,t){(0,P.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,P.hu)(d.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,q_(n,d.changes,d.viewCache.eventCache.getNode(),null)}function q_(n,t,e,s){return function Q0(n,t,e,s){const l=[],d=[];return t.forEach(p=>{"child_changed"===p.type&&n.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&d.push(function P_(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(p.childName,p.snapshotNode))}),xo(n,l,"child_removed",t,s,e),xo(n,l,"child_added",t,s,e),xo(n,l,"child_moved",d,s,e),xo(n,l,"child_changed",t,s,e),xo(n,l,"value",t,s,e),l}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let ko,wc;class Q_{constructor(){this.views=new Map}}function gf(n,t,e,s){const l=t.source.queryId;if(null!==l){const d=n.views.get(l);return(0,P.hu)(null!=d,"SyncTree gave us an op for an invalid query."),Ag(d,t,e,s)}{let d=[];for(const p of n.views.values())d=d.concat(Ag(p,t,e,s));return d}}function X_(n,t,e,s,l){const p=n.views.get(t._queryIdentifier);if(!p){let E=af(e,l?s:null),b=!1;E?b=!0:s instanceof Tt?(E=lf(e,s),b=!1):(E=Tt.EMPTY_NODE,b=!1);const M=ka(new Oo(E,b,!1),new Oo(s,l,!1));return new Tg(t,M)}return p}function ey(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Fa(n,t){let e=null;for(const s of n.views.values())e=e||iw(s,t);return e}function Rg(n,t){return t._queryParams.loadsAllData()?Fd(n):n.views.get(t._queryIdentifier)}function ty(n,t){return null!=Rg(n,t)}function Lo(n){return null!=Fd(n)}function Fd(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let yE=1;class vE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Qt(null),this.pendingWriteTree_=function vs(){return{visibleWrites:Ii.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ua(n,t,e,s,l){return function Cc(n,t,e,s,l){(0,P.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:l}),l&&(n.visibleWrites=Kl(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,l),l?Va(n,new Na({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ba(n,t,e=!1){const s=function X0(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function eE(n,t){const e=n.allWrites.findIndex(E=>E.writeId===t);(0,P.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let l=s.visible,d=!1,p=n.allWrites.length-1;for(;l&&p>=0;){const E=n.allWrites[p];E.visible&&(p>=e&&nw(E,s.path)?l=!1:Kr(s.path,E.path)&&(d=!0)),p--}return!!l&&(d?(function rw(n){n.visibleWrites=tE(n.allWrites,V_,kt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=rf(n.visibleWrites,s.path):Bn(s.children,b=>{n.visibleWrites=rf(n.visibleWrites,$t(s.path,b))}),!0))}(n.pendingWriteTree_,t)){let d=new Qt(null);return null!=s.snap?d=d.set(kt(),!0):Bn(s.children,p=>{d=d.set(new Ft(p),!0)}),Va(n,new yc(s.path,d,e))}return[]}function Dc(n,t,e){return Va(n,new Na({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Fo(n,t,e,s,l=!1){const d=t._path,p=n.syncPointTree_.get(d);let E=[];if(p&&("default"===t._queryIdentifier||ty(p,t))){const b=function _E(n,t,e,s){const l=t._queryIdentifier,d=[];let p=[];const E=Lo(n);if("default"===l)for(const[b,M]of n.views.entries())p=p.concat(Y_(M,e,s)),pE(M)&&(n.views.delete(b),M.query._queryParams.loadsAllData()||d.push(M.query));else{const b=n.views.get(l);b&&(p=p.concat(Y_(b,e,s)),pE(b)&&(n.views.delete(l),b.query._queryParams.loadsAllData()||d.push(b.query)))}return E&&!Lo(n)&&d.push(new(function pf(){return(0,P.hu)(ko,"Reference.ts has not been loaded"),ko}())(t._repo,t._path)),{removed:d,events:p}}(p,t,e,s);(function gE(n){return 0===n.views.size})(p)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const M=b.removed;if(E=b.events,!l){const F=-1!==M.findIndex(te=>te._queryParams.loadsAllData()),V=n.syncPointTree_.findOnPath(d,(te,De)=>Lo(De));if(F&&!V){const te=n.syncPointTree_.subtree(d);if(!te.isEmpty()){const De=function iy(n){return n.fold((t,e,s)=>{if(e&&Lo(e))return[Fd(e)];{let l=[];return e&&(l=ey(e)),Bn(s,(d,p)=>{l=l.concat(p)}),l}})}(te);for(let Le=0;Le<De.length;++Le){const at=De[Le],wt=at.query,vn=Pg(n,at);n.listenProvider_.startListening(bc(wt),Xl(n,wt),vn.hashFn,vn.onComplete)}}}!V&&M.length>0&&!s&&(F?n.listenProvider_.stopListening(bc(t),null):M.forEach(te=>{const De=n.queryToTagMap.get(Ef(te));n.listenProvider_.stopListening(bc(te),De)}))}!function CE(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const l=Ef(s),d=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(d)}}}(n,M)}return E}function _f(n,t,e,s){const l=Og(n,s);if(null!=l){const d=If(l),p=d.path,E=d.queryId,b=Vn(p,t);return xg(n,p,new Na(_g(E),b,e))}return[]}function Bd(n,t,e,s=!1){const l=t._path;let d=null,p=!1;n.syncPointTree_.foreachOnPath(l,(te,De)=>{const Le=Vn(te,l);d=d||Fa(De,Le),p=p||Lo(De)});let b,E=n.syncPointTree_.get(l);E?(p=p||Lo(E),d=d||Fa(E,kt())):(E=new Q_,n.syncPointTree_=n.syncPointTree_.set(l,E)),null!=d?b=!0:(b=!1,d=Tt.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((De,Le)=>{const at=Fa(Le,kt());at&&(d=d.updateImmediateChild(De,at))}));const M=ty(E,t);if(!M&&!t._queryParams.loadsAllData()){const te=Ef(t);(0,P.hu)(!n.queryToTagMap.has(te),"View does not exist, but we have a tag");const De=function wE(){return yE++}();n.queryToTagMap.set(te,De),n.tagToQueryMap.set(De,te)}let V=function mE(n,t,e,s,l,d){const p=X_(n,t,s,l,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,p),function sw(n,t){n.eventRegistrations_.push(t)}(p,e),function ow(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(rn,(d,p)=>{s.push(Od(d,p))}),e.isFullyInitialized()&&s.push(K0(e.getNode())),q_(n,s,e.getNode(),t)}(p,e)}(E,t,e,sf(n.pendingWriteTree_,l),d,b);if(!M&&!p&&!s){const te=Rg(E,t);V=V.concat(function Ci(n,t,e){const s=t._path,l=Xl(n,t),d=Pg(n,e),p=n.listenProvider_.startListening(bc(t),l,d.hashFn,d.onComplete),E=n.syncPointTree_.subtree(s);if(l)(0,P.hu)(!Lo(E.value),"If we're adding a query, it shouldn't be shadowed");else{const b=E.fold((M,F,V)=>{if(!Et(M)&&F&&Lo(F))return[Fd(F).query];{let te=[];return F&&(te=te.concat(ey(F).map(De=>De.query))),Bn(V,(De,Le)=>{te=te.concat(Le)}),te}});for(let M=0;M<b.length;++M){const F=b[M];n.listenProvider_.stopListening(bc(F),Xl(n,F))}}return p}(n,t,te))}return V}function Jl(n,t,e){const l=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(p,E)=>{const M=Fa(E,Vn(p,t));if(M)return M});return Cg(l,t,d,e,!0)}function Va(n,t){return yf(t,n.syncPointTree_,null,sf(n.pendingWriteTree_,kt()))}function yf(n,t,e,s){if(Et(n.path))return vf(n,t,e,s);{const l=t.get(kt());null==e&&null!=l&&(e=Fa(l,kt()));let d=[];const p=mt(n.path),E=n.operationForChild(p),b=t.children.get(p);if(b&&E){const M=e?e.getImmediateChild(p):null,F=Dg(s,p);d=d.concat(yf(E,b,M,F))}return l&&(d=d.concat(gf(l,n,s,e))),d}}function vf(n,t,e,s){const l=t.get(kt());null==e&&null!=l&&(e=Fa(l,kt()));let d=[];return t.children.inorderTraversal((p,E)=>{const b=e?e.getImmediateChild(p):null,M=Dg(s,p),F=n.operationForChild(p);F&&(d=d.concat(vf(F,E,b,M)))}),l&&(d=d.concat(gf(l,n,s,e))),d}function Pg(n,t){const e=t.query,s=Xl(n,e);return{hashFn:()=>(function Sg(n){return n.viewCache_.serverCache.getNode()}(t)||Tt.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return s?function mf(n,t,e){const s=Og(n,e);if(s){const l=If(s),d=l.path,p=l.queryId,E=Vn(d,t);return xg(n,d,new kd(_g(p),E))}return[]}(n,e._path,s):function IE(n,t){return Va(n,new kd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function fd(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(l,e);return Fo(n,e,null,d)}}}}function Xl(n,t){const e=Ef(t);return n.queryToTagMap.get(e)}function Ef(n){return n._path.toString()+"$"+n._queryIdentifier}function Og(n,t){return n.tagToQueryMap.get(t)}function If(n){const t=n.indexOf("$");return(0,P.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Ft(n.substr(0,t))}}function xg(n,t,e){const s=n.syncPointTree_.get(t);return(0,P.hu)(s,"Missing sync point for query tag that we're tracking"),gf(s,e,sf(n.pendingWriteTree_,t),null)}function bc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Mg(){return(0,P.hu)(wc,"Reference.ts has not been loaded"),wc}())(n._repo,n._path):n}class Cf{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Cf(e)}node(){return this.node_}}class Ng{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=$t(this.path_,t);return new Ng(this.syncTree_,e)}node(){return Jl(this.syncTree_,this.path_)}}const wf=function(n,t,e){return n&&"object"==typeof n?((0,P.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?sy(n[".sv"],t,e):"object"==typeof n[".sv"]?DE(n[".sv"],t):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},sy=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,P.hu)(!1,"Unexpected server value: "+n)},DE=function(n,t,e){n.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,P.hu)(!1,"Unexpected increment value: "+s);const l=t.node();if((0,P.hu)(null!==l&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const p=l.getValue();return"number"!=typeof p?s:p+s},oy=function(n,t,e,s){return Df(t,new Ng(e,n),s)},kg=function(n,t,e){return Df(n,new Cf(t),e)};function Df(n,t,e){const s=n.getPriority().val(),l=wf(s,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const p=n,E=wf(p.getValue(),t,e);return E!==p.getValue()||l!==p.getPriority().val()?new Rd(E,wn(l)):n}{const p=n;return d=p,l!==p.getPriority().val()&&(d=d.updatePriority(new Rd(l))),p.forEachChild(rn,(E,b)=>{const M=Df(b,t.getImmediateChild(E),e);M!==b&&(d=d.updateImmediateChild(E,M))}),d}}class Lg{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function bf(n,t){let e=t instanceof Ft?t:new Ft(t),s=n,l=mt(e);for(;null!==l;){const d=(0,P.DV)(s.node.children,l)||{children:{},childCount:0};s=new Lg(l,s,d),e=St(e),l=mt(e)}return s}function Uo(n){return n.node.value}function Fg(n,t){n.node.value=t,Ug(n)}function ay(n){return n.node.childCount>0}function Tf(n,t){Bn(n.node.children,(e,s)=>{t(new Lg(e,n,s))})}function ly(n,t,e,s){e&&!s&&t(n),Tf(n,l=>{ly(l,t,!0,s)}),e&&s&&t(n)}function eu(n){return new Ft(null===n.parent?n.name:eu(n.parent)+"/"+n.name)}function Ug(n){null!==n.parent&&function TE(n,t,e){const s=function bE(n){return void 0===Uo(n)&&!ay(n)}(e),l=(0,P.r3)(n.node.children,t);s&&l?(delete n.node.children[t],n.node.childCount--,Ug(n)):!s&&!l&&(n.node.children[t]=e.node,n.node.childCount++,Ug(n))}(n.parent,n.name,n)}const uy=/[\[\].#$\/\u0000-\u001F\u007F]/,SE=/[\[\].#$\u0000-\u001F\u007F]/,Bg=10485760,Sf=function(n){return"string"==typeof n&&0!==n.length&&!uy.test(n)},Af=function(n){return"string"==typeof n&&0!==n.length&&!SE.test(n)},Vd=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!ba(n)||n&&"object"==typeof n&&(0,P.r3)(n,".sv")},wi=function(n,t,e,s){s&&void 0===t||tu((0,P.gK)(n,"value"),t,e)},tu=function(n,t,e){const s=e instanceof Ft?new Kh(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+c(s));if("function"==typeof t)throw new Error(n+"contains a function "+c(s)+" with contents = "+t.toString());if(ba(t))throw new Error(n+"contains "+t.toString()+" "+c(s));if("string"==typeof t&&t.length>Bg/3&&(0,P.ug)(t)>Bg)throw new Error(n+"contains a string greater than "+Bg+" utf8 bytes "+c(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,d=!1;if(Bn(t,(p,E)=>{if(".value"===p)l=!0;else if(".priority"!==p&&".sv"!==p&&(d=!0,!Sf(p)))throw new Error(n+" contains an invalid key ("+p+") "+c(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function rg(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,P.ug)(t),g(n)})(s,p),tu(n,E,s),function ig(n){const t=n.parts_.pop();n.byteLength_-=(0,P.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),l&&d)throw new Error(n+' contains ".value" child '+c(s)+" in addition to actual children.")}},RE=function(n,t,e,s){if(s&&void 0===t)return;const l=(0,P.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const d=[];Bn(t,(p,E)=>{const b=new Ft(p);if(tu(l,E,$t(e,b)),".priority"===cc(b)&&!Vd(E))throw new Error(l+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(b)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const d=Mo(s);for(let p=0;p<d.length;p++)if((".priority"!==d[p]||p!==d.length-1)&&!Sf(d[p]))throw new Error(n+"contains an invalid key ("+d[p]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Zh);let l=null;for(e=0;e<t.length;e++){if(s=t[e],null!==l&&Kr(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}}(l,d)},$d=function(n,t,e){if(!e||void 0!==t){if(ba(t))throw new Error((0,P.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Vd(t))throw new Error((0,P.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Mf=function(n,t,e,s){if(!(s&&void 0===e||Sf(e)))throw new Error((0,P.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Tc=function(n,t,e,s){if(!(s&&void 0===e||Af(e)))throw new Error((0,P.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Di=function(n,t){if(".info"===mt(t))throw new Error(n+" failed = Can't modify data under /.info/")},Vg=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Sf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Af(n)}(e))throw new Error((0,P.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class $g{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wi(n,t){let e=null;for(let s=0;s<t.length;s++){const l=t[s],d=l.getPath();null!==e&&!Ma(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(l)}e&&n.eventLists_.push(e)}function jd(n,t,e){Wi(n,e),Sc(n,s=>Ma(s,t))}function xr(n,t,e){Wi(n,e),Sc(n,s=>Kr(s,t)||Kr(t,s))}function Sc(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];l&&(t(l.path)?(ME(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function ME(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();ui&&Tn("event: "+e.toString()),Nn(s)}}}const jg="repo_interrupt";class PE{constructor(t,e,s,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $g,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zl(),this.transactionQueueTree_=new Lg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ac(n){const e=n.infoData_.getNode(new Ft(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Hd(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Ac(n)})}function xE(n,t,e,s,l){n.dataUpdateCount++;const d=new Ft(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let p=[];if(l)if(s){const b=(0,P.UI)(e,M=>wn(M));p=function Ud(n,t,e,s){const l=Og(n,s);if(l){const d=If(l),p=d.path,E=d.queryId,b=Vn(p,t),M=Qt.fromObject(e);return xg(n,p,new vc(_g(E),b,M))}return[]}(n.serverSyncTree_,d,b,l)}else{const b=wn(e);p=_f(n.serverSyncTree_,d,b,l)}else if(s){const b=(0,P.UI)(e,M=>wn(M));p=function EE(n,t,e){const s=Qt.fromObject(e);return Va(n,new vc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,d,b)}else{const b=wn(e);p=Dc(n.serverSyncTree_,d,b)}let E=d;p.length>0&&(E=nu(n,d)),xr(n.eventQueue_,E,p)}function hy(n,t){Hg(n,"connected",t),!1===t&&function fy(n){Rc(n,"onDisconnectEvents");const t=Hd(n),e=zl();_c(n.onDisconnect_,kt(),(l,d)=>{const p=oy(l,d,n.serverSyncTree_,t);mc(e,l,p)});let s=[];_c(e,kt(),(l,d)=>{s=s.concat(Dc(n.serverSyncTree_,l,d));const p=Zg(n,l);nu(n,p)}),n.onDisconnect_=zl(),xr(n.eventQueue_,kt(),s)}(n)}function Hg(n,t,e){const s=new Ft("/.info/"+t),l=wn(e);n.infoData_.updateSnapshot(s,l);const d=Dc(n.infoSyncTree_,s,l);xr(n.eventQueue_,s,d)}function Pf(n){return n.nextWriteId_++}function Wg(n,t,e,s,l){Rc(n,"set",{path:t.toString(),value:e,priority:s});const d=Hd(n),p=wn(e,s),E=Jl(n.serverSyncTree_,t),b=kg(p,E,d),M=Pf(n),F=Ua(n.serverSyncTree_,t,b,M,!0);Wi(n.eventQueue_,F),n.server_.put(t.toString(),p.val(!0),(te,De)=>{const Le="ok"===te;Le||_r("set at "+t+" failed: "+te);const at=Ba(n.serverSyncTree_,M,!Le);xr(n.eventQueue_,t,at),$a(0,l,te,De)});const V=Zg(n,t);nu(n,V),xr(n.eventQueue_,V,[])}function py(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,l)=>{"ok"===s&&Nd(n.onDisconnect_,t),$a(0,e,s,l)})}function gy(n,t,e,s){const l=wn(e);n.server_.onDisconnectPut(t.toString(),l.val(!0),(d,p)=>{"ok"===d&&mc(n.onDisconnect_,t,l),$a(0,s,d,p)})}function Gg(n,t,e){let s;s=".info"===mt(t._path)?Fo(n.infoSyncTree_,t,e):Fo(n.serverSyncTree_,t,e),jd(n.eventQueue_,t._path,s)}function my(n){n.persistentConnection_&&n.persistentConnection_.interrupt(jg)}function Rc(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Tn(e,...t)}function $a(n,t,e,s){t&&Nn(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let d=l;s&&(d+=": "+s);const p=new Error(d);p.code=l,t(p)}})}function Of(n,t,e){return Jl(n.serverSyncTree_,t,e)||Tt.EMPTY_NODE}function xf(n,t=n.transactionQueueTree_){if(t||kf(n,t),Uo(t)){const e=VE(n,t);(0,P.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function uw(n,t,e){const s=e.map(M=>M.currentWriteId),l=Of(n,t,s);let d=l;const p=l.hash();for(let M=0;M<e.length;M++){const F=e[M];(0,P.hu)(0===F.status,"tryToSendTransactionQueue_: items in queue should all be run."),F.status=1,F.retryCount++;const V=Vn(t,F.path);d=d.updateChild(V,F.currentOutputSnapshotRaw)}const E=d.val(!0),b=t;n.server_.put(b.toString(),E,M=>{Rc(n,"transaction put response",{path:b.toString(),status:M});let F=[];if("ok"===M){const V=[];for(let te=0;te<e.length;te++)e[te].status=2,F=F.concat(Ba(n.serverSyncTree_,e[te].currentWriteId)),e[te].onComplete&&V.push(()=>e[te].onComplete(null,!0,e[te].currentOutputSnapshotResolved)),e[te].unwatcher();kf(n,bf(n.transactionQueueTree_,t)),xf(n,n.transactionQueueTree_),xr(n.eventQueue_,t,F);for(let te=0;te<V.length;te++)Nn(V[te])}else{if("datastale"===M)for(let V=0;V<e.length;V++)e[V].status=3===e[V].status?4:0;else{_r("transaction at "+b.toString()+" failed: "+M);for(let V=0;V<e.length;V++)e[V].status=4,e[V].abortReason=M}nu(n,t)}},p)}(n,eu(t),e)}else ay(t)&&Tf(t,e=>{xf(n,e)})}function nu(n,t){const e=ja(n,t),s=eu(e);return function Nf(n,t,e){if(0===t.length)return;const s=[];let l=[];const p=t.filter(E=>0===E.status).map(E=>E.currentWriteId);for(let E=0;E<t.length;E++){const b=t[E],M=Vn(e,b.path);let V,F=!1;if((0,P.hu)(null!==M,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)F=!0,V=b.abortReason,l=l.concat(Ba(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)F=!0,V="maxretry",l=l.concat(Ba(n.serverSyncTree_,b.currentWriteId,!0));else{const te=Of(n,b.path,p);b.currentInputSnapshot=te;const De=t[E].update(te.val());if(void 0!==De){tu("transaction failed: Data returned ",De,b.path);let Le=wn(De);"object"==typeof De&&null!=De&&(0,P.r3)(De,".priority")||(Le=Le.updatePriority(te.getPriority()));const wt=b.currentWriteId,vn=Hd(n),En=kg(Le,te,vn);b.currentOutputSnapshotRaw=Le,b.currentOutputSnapshotResolved=En,b.currentWriteId=Pf(n),p.splice(p.indexOf(wt),1),l=l.concat(Ua(n.serverSyncTree_,b.path,En,b.currentWriteId,b.applyLocally)),l=l.concat(Ba(n.serverSyncTree_,wt,!0))}else F=!0,V="nodata",l=l.concat(Ba(n.serverSyncTree_,b.currentWriteId,!0))}xr(n.eventQueue_,e,l),l=[],F&&(t[E].status=2,setTimeout(t[E].unwatcher,Math.floor(0)),t[E].onComplete&&s.push("nodata"===V?()=>t[E].onComplete(null,!1,t[E].currentInputSnapshot):()=>t[E].onComplete(new Error(V),!1,null)))}kf(n,n.transactionQueueTree_);for(let E=0;E<s.length;E++)Nn(s[E]);xf(n,n.transactionQueueTree_)}(n,VE(n,e),s),s}function ja(n,t){let e,s=n.transactionQueueTree_;for(e=mt(t);null!==e&&void 0===Uo(s);)s=bf(s,e),e=mt(t=St(t));return s}function VE(n,t){const e=[];return Mc(n,t,e),e.sort((s,l)=>s.order-l.order),e}function Mc(n,t,e){const s=Uo(t);if(s)for(let l=0;l<s.length;l++)e.push(s[l]);Tf(t,l=>{Mc(n,l,e)})}function kf(n,t){const e=Uo(t);if(e){let s=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[s]=e[l],s++);e.length=s,Fg(t,e.length>0?e:void 0)}Tf(t,s=>{kf(n,s)})}function Zg(n,t){const e=eu(ja(n,t)),s=bf(n.transactionQueueTree_,t);return function zs(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,l=>{Wd(n,l)}),Wd(n,s),ly(s,l=>{Wd(n,l)}),e}function Wd(n,t){const e=Uo(t);if(e){const s=[];let l=[],d=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,P.hu)(d===p-1,"All SENT items should be at beginning of queue."),d=p,e[p].status=3,e[p].abortReason="set"):((0,P.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),l=l.concat(Ba(n.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&s.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===d?Fg(t,void 0):e.length=d+1,xr(n.eventQueue_,eu(t),l);for(let p=0;p<s.length;p++)Nn(s[p])}}const ru=function(n,t){const e=Nr(n),s=e.namespace;return"firebase.com"===e.domain&&fs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&fs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_r("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new xl(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new Ft(e.pathString)}},Nr=function(n){let t="",e="",s="",l="",d="",p=!0,E="https",b=443;if("string"==typeof n){let M=n.indexOf("//");M>=0&&(E=n.substring(0,M-1),n=n.substring(M+2));let F=n.indexOf("/");-1===F&&(F=n.length);let V=n.indexOf("?");-1===V&&(V=n.length),t=n.substring(0,Math.min(F,V)),F<V&&(l=function $E(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let l=e[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}(n.substring(F,V)));const te=function Gs(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):_r(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,V)));M=t.indexOf(":"),M>=0?(p="https"===E||"wss"===E,b=parseInt(t.substring(M+1),10)):M=t.length;const De=t.slice(0,M);if("localhost"===De.toLowerCase())e="localhost";else if(De.split(".").length<=2)e=De;else{const Le=t.indexOf(".");s=t.substring(0,Le).toLowerCase(),e=t.substring(Le+1),d=s}"ns"in te&&(d=te.ns)}return{host:t,port:b,domain:e,subdomain:s,secure:p,scheme:E,pathString:l,namespace:d}},Ha="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Lf=function(){let n=0;const t=[];return function(e){const s=e===n;let l;n=e;const d=new Array(8);for(l=7;l>=0;l--)d[l]=Ha.charAt(e%64),e=Math.floor(e/64);(0,P.hu)(0===e,"Cannot push at time == 0");let p=d.join("");if(s){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)p+=Ha.charAt(t[l]);return(0,P.hu)(20===p.length,"nextPushId: Length should be 20."),p}}();class bi{constructor(t,e,s,l){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Wl)(this.snapshot.exportVal())}}class Ff{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Wa{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class iu{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new P.BH;return py(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Di("OnDisconnect.remove",this._path);const t=new P.BH;return gy(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Di("OnDisconnect.set",this._path),wi("OnDisconnect.set",t,this._path,!1);const e=new P.BH;return gy(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Di("OnDisconnect.setWithPriority",this._path),wi("OnDisconnect.setWithPriority",t,this._path,!1),$d("OnDisconnect.setWithPriority",e,!1);const s=new P.BH;return function zg(n,t,e,s,l){const d=wn(e,s);n.server_.onDisconnectPut(t.toString(),d.val(!0),(p,E)=>{"ok"===p&&mc(n.onDisconnect_,t,d),$a(0,l,p,E)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){Di("OnDisconnect.update",this._path),RE("OnDisconnect.update",t,this._path,!1);const e=new P.BH;return function FE(n,t,e,s){if((0,P.xb)(e))return Tn("onDisconnect().update() called with empty data.  Don't do anything."),void $a(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(l,d)=>{"ok"===l&&Bn(e,(p,E)=>{const b=wn(E);mc(n.onDisconnect_,$t(t,p),b)}),$a(0,s,l,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Qn{constructor(t,e,s,l){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=l}get key(){return Et(this._path)?null:cc(this._path)}get ref(){return new Er(this._repo,this._path)}get _queryIdentifier(){const t=xa(this._queryParams),e=dd(t);return"{}"===e?"default":e}get _queryObject(){return xa(this._queryParams)}isEqual(t){if(!((t=(0,P.m9)(t))instanceof Qn))return!1;const e=this._repo===t._repo,s=Ma(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Sd(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Bo(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ti(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ei){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Vi)throw new Error(s);if("string"!=typeof t)throw new Error(l)}if(n.hasEnd()){if(n.getIndexEndName()!==$i)throw new Error(s);if("string"!=typeof e)throw new Error(l)}}else if(n.getIndex()===rn){if(null!=t&&!Vd(t)||null!=e&&!Vd(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(n.getIndex()instanceof lg||n.getIndex()===Qh,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vo(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Er extends Qn{constructor(t,e){super(t,e,new Xh,!1)}get parent(){const t=Hi(this._path);return null===t?null:new Er(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class zi{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ft(t),s=za(this.ref,t);return new zi(this._node.getChild(e),s,rn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,l)=>t(new zi(l,za(this.ref,s),rn)))}hasChild(t){const e=new Ft(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function su(n,t){return(n=(0,P.m9)(n))._checkNotDeleted("ref"),void 0!==t?za(n._root,t):n._root}function Kg(n,t){(n=(0,P.m9)(n))._checkNotDeleted("refFromURL");const e=ru(t,n._repo.repoInfo_.nodeAdmin);Vg("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&fs("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),su(n,e.path.toString())}function za(n,t){return null===mt((n=(0,P.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Tc("child","path",e,!1)):Tc("child","path",t,!1),new Er(n._repo,$t(n._path,t));var e}function Uf(n,t){n=(0,P.m9)(n),Di("set",n._path),wi("set",t,n._path,!1);const e=new P.BH;return Wg(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Cy(n,t){RE("update",t,n._path,!1);const e=new P.BH;return function LE(n,t,e,s){Rc(n,"update",{path:t.toString(),value:e});let l=!0;const d=Hd(n),p={};if(Bn(e,(E,b)=>{l=!1,p[E]=oy($t(t,E),wn(b),n.serverSyncTree_,d)}),l)Tn("update() called with empty data.  Don't do anything."),$a(0,s,"ok",void 0);else{const E=Pf(n),b=function ny(n,t,e,s){!function No(n,t,e,s){(0,P.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=Eg(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const l=Qt.fromObject(e);return Va(n,new vc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(n.serverSyncTree_,t,p,E);Wi(n.eventQueue_,b),n.server_.merge(t.toString(),e,(M,F)=>{const V="ok"===M;V||_r("update at "+t+" failed: "+M);const te=Ba(n.serverSyncTree_,E,!V),De=te.length>0?nu(n,t):t;xr(n.eventQueue_,De,te),$a(0,s,M,F)}),Bn(e,M=>{const F=Zg(n,$t(t,M));nu(n,F)}),xr(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function HE(n){n=(0,P.m9)(n);const t=new Wa(()=>{}),e=new zd(t);return function kE(n,t,e){const s=function ry(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(M,F)=>{const V=Vn(M,e);s=s||Fa(F,V)});let l=n.syncPointTree_.get(e);l?s=s||Fa(l,kt()):(l=new Q_,n.syncPointTree_=n.syncPointTree_.set(e,l));const d=null!=s,p=d?new Oo(s,!0,!1):null;return function fE(n){return nf(n.viewCache_)}(X_(l,t,sf(n.pendingWriteTree_,t._path),d?p.getNode():Tt.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=s?Promise.resolve(s):n.server_.get(t).then(l=>{const d=wn(l).withIndex(t._queryParams.getIndex());let p;if(Bd(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())p=Dc(n.serverSyncTree_,t._path,d);else{const E=Xl(n.serverSyncTree_,t);p=_f(n.serverSyncTree_,t._path,d,E)}return xr(n.eventQueue_,t._path,p),Fo(n.serverSyncTree_,t,e,null,!0),d},l=>(Rc(n,"get for query "+(0,P.Wl)(t)+" failed: "+l),Promise.reject(new Error(l))))}(n._repo,n,e).then(s=>new zi(s,new Er(n._repo,n._path),n._queryParams.getIndex()))}class zd{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new bi("value",this,new zi(t.snapshotNode,new Er(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ff(this,t,e):null}matches(t){return t instanceof zd&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Gd{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ff(this,t,e):null}createEvent(t,e){(0,P.hu)(null!=t.childName,"Child events should have a childName.");const s=za(new Er(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new bi(t.type,this,new zi(t.snapshotNode,s,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Gd&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Zd(n,t,e,s,l){let d;if("object"==typeof s&&(d=void 0,l=s),"function"==typeof s&&(d=s),l&&l.onlyOnce){const b=e,M=(F,V)=>{Gg(n._repo,n,E),b(F,V)};M.userCallback=e.userCallback,M.context=e.context,e=M}const p=new Wa(e,d||void 0),E="value"===t?new zd(p):new Gd(t,p);return function UE(n,t,e){let s;s=".info"===mt(t._path)?Bd(n.infoSyncTree_,t,e):Bd(n.serverSyncTree_,t,e),jd(n.eventQueue_,t._path,s)}(n._repo,n,E),()=>Gg(n._repo,n,E)}function Yg(n,t,e,s){return Zd(n,"value",t,e,s)}function Bf(n,t,e,s){return Zd(n,"child_added",t,e,s)}function Vf(n,t,e,s){return Zd(n,"child_changed",t,e,s)}function wy(n,t,e,s){return Zd(n,"child_moved",t,e,s)}function Kd(n,t,e,s){return Zd(n,"child_removed",t,e,s)}function Yd(n,t,e){let s=null;const l=e?new Wa(e):null;"value"===t?s=new zd(l):t&&(s=new Gd(t,l)),Gg(n._repo,n,s)}class Si{}class Dy extends Si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){wi("endAt",this._value,t._path,!0);const e=dg(t._queryParams,this._value,this._key);if(Vo(e),Ti(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qn(t._repo,t._path,e,t._orderByCalled)}}class Qg extends Si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){wi("endBefore",this._value,t._path,!1);const e=function hg(n,t,e){let s;return s=dg(n,t,n.index_===Ei||e?e:Vi),s.endBeforeSet_=!0,s}(t._queryParams,this._value,this._key);if(Vo(e),Ti(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qn(t._repo,t._path,e,t._orderByCalled)}}class Ty extends Si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){wi("startAt",this._value,t._path,!0);const e=N_(t._queryParams,this._value,this._key);if(Vo(e),Ti(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qn(t._repo,t._path,e,t._orderByCalled)}}class Sy extends Si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){wi("startAfter",this._value,t._path,!1);const e=function cg(n,t,e){let s;return s=N_(n,t,n.index_===Ei||e?e:$i),s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(Vo(e),Ti(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qn(t._repo,t._path,e,t._orderByCalled)}}class Xg extends Si{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qn(t._repo,t._path,function x_(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class WE extends Si{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qn(t._repo,t._path,function ug(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Py extends Si{constructor(t){super(),this._path=t}_apply(t){Bo(t,"orderByChild");const e=new Ft(this._path);if(Et(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new lg(e),l=xd(t._queryParams,s);return Ti(l),new Qn(t._repo,t._path,l,!0)}}class zE extends Si{_apply(t){Bo(t,"orderByKey");const e=xd(t._queryParams,Ei);return Ti(e),new Qn(t._repo,t._path,e,!0)}}class ZE extends Si{_apply(t){Bo(t,"orderByPriority");const e=xd(t._queryParams,rn);return Ti(e),new Qn(t._repo,t._path,e,!0)}}class xy extends Si{_apply(t){Bo(t,"orderByValue");const e=xd(t._queryParams,Qh);return Ti(e),new Qn(t._repo,t._path,e,!0)}}class Ny extends Si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(wi("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Dy(this._value,this._key)._apply(new Ty(this._value,this._key)._apply(t))}}function Gi(n,...t){let e=(0,P.m9)(n);for(const s of t)e=s._apply(e);return e}(function J_(n){(0,P.hu)(!ko,"__referenceConstructor has already been defined"),ko=n})(Er),function aw(n){(0,P.hu)(!wc,"__referenceConstructor has already been defined"),wc=n}(Er);const $f={};function nm(n,t,e,s,l){let d=s||n.options.databaseURL;void 0===d&&(n.options.projectId||fs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tn("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,M,p=ru(d,l),E=p.repoInfo;typeof process<"u"&&process.env&&(M=process.env.FIREBASE_DATABASE_EMULATOR_HOST),M?(b=!0,d=`http://${M}?ns=${E.namespace}`,p=ru(d,l),E=p.repoInfo):b=!p.repoInfo.secure;const F=l&&b?new ps(ps.OWNER):new or(n.name,n.options,t);Vg("Invalid Firebase Database URL",p),Et(p.path)||fs("Database URL must point to the root of a Firebase Database (not including a child path).");const V=function Ga(n,t,e,s){let l=$f[t.name];l||(l={},$f[t.name]=l);let d=l[n.toURLString()];return d&&fs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new PE(n,false,e,s),l[n.toURLString()]=d,d}(E,n,F,new gd(n.name,e));return new qE(V,n)}class qE{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function OE(n,t,e){if(n.stats_=Nl(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ef(n.repoInfo_,(s,l,d,p)=>{xE(n,s,l,d,p)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>hy(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new et(n.repoInfo_,t,(s,l,d,p)=>{xE(n,s,l,d,p)},s=>{hy(n,s)},s=>{!function NE(n,t){Bn(t,(e,s)=>{Hg(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function Lh(n,t){const e=n.toString();return So[e]||(So[e]=t()),So[e]}(n.repoInfo_,()=>new L_(n.stats_,n.server_)),n.infoData_=new pg,n.infoSyncTree_=new vE({startListening:(s,l,d,p)=>{let E=[];const b=n.infoData_.getNode(s._path);return b.isEmpty()||(E=Dc(n.infoSyncTree_,s._path,b),setTimeout(()=>{p("ok")},0)),E},stopListening:()=>{}}),Hg(n,"connected",!1),n.serverSyncTree_=new vE({startListening:(s,l,d,p)=>(n.server_.listen(s,d,l,(E,b)=>{const M=p(E,b);xr(n.eventQueue_,s._path,M)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Er(this._repo,kt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function jf(n,t){const e=$f[t];(!e||e[n.key]!==n)&&fs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),my(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&fs("Cannot call "+t+" on a deleted database.")}}function Hf(){Bl.IS_TRANSPORT_INITIALIZED&&_r("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ou(){Hf(),ms.forceDisallow()}function rm(){Hf(),Ul.forceDisallow(),ms.forceAllow()}function QE(n,t){Gp(n,t)}const Uy={".sv":"timestamp"};class By{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}et.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},et.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function JE(n){li(Cn.SDK_VERSION),(0,Cn._registerComponent)(new ut.wA("database",(t,{instanceIdentifier:e})=>nm(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Cn.registerVersion)(Da,"0.14.0",n),(0,Cn.registerVersion)(Da,"0.14.0","esm2017")}();const $y=new Bi.Yd("@firebase/database-compat"),au=function(n){$y.warn("FIREBASE WARNING: "+n)};class jy{constructor(t){this._delegate=t}cancel(t){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),l=>e(l)),s}setWithPriority(t,e,s){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const l=this._delegate.setWithPriority(t,e);return s&&l.then(()=>s(null),d=>s(d)),l}update(t,e){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,au("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),l=>e(l)),s}}class sI{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class $o{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Tc("DataSnapshot.child","path",t,!1),new $o(this._database,this._delegate.child(t))}hasChild(t){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Tc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new $o(this._database,e)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new ci(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class kr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,l){var d;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",e,!1);const p=kr.getCancelAndContextArgs_("Query.on",s,l),E=(M,F)=>{e.call(p.context,new $o(this.database,M),F)};E.userCallback=e,E.context=p.context;const b=null===(d=p.cancel)||void 0===d?void 0:d.bind(p.context);switch(t){case"value":return Yg(this._delegate,E,b),e;case"child_added":return Bf(this._delegate,E,b),e;case"child_removed":return Kd(this._delegate,E,b),e;case"child_changed":return Vf(this._delegate,E,b),e;case"child_moved":return wy(this._delegate,E,b),e;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,P.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,P.Wj)("Query.off","callback",e,!0),(0,P.lb)("Query.off","context",s,!0),e){const l=()=>{};l.userCallback=e,l.context=s,Yd(this._delegate,t,l)}else Yd(this._delegate,t)}get(){return HE(this._delegate).then(t=>new $o(this.database,t))}once(t,e,s,l){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",e,!0);const d=kr.getCancelAndContextArgs_("Query.once",s,l),p=new P.BH,E=(M,F)=>{const V=new $o(this.database,M);e&&e.call(d.context,V,F),p.resolve(V)};E.userCallback=e,E.context=d.context;const b=M=>{d.cancel&&d.cancel.call(d.context,M),p.reject(M)};switch(t){case"value":Yg(this._delegate,E,b,{onlyOnce:!0});break;case"child_added":Bf(this._delegate,E,b,{onlyOnce:!0});break;case"child_removed":Kd(this._delegate,E,b,{onlyOnce:!0});break;case"child_changed":Vf(this._delegate,E,b,{onlyOnce:!0});break;case"child_moved":wy(this._delegate,E,b,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(t){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new kr(this.database,Gi(this._delegate,function Ry(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xg(n)}(t)))}limitToLast(t){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new kr(this.database,Gi(this._delegate,function My(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new WE(n)}(t)))}orderByChild(t){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new kr(this.database,Gi(this._delegate,function Oy(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Tc("orderByChild","path",n,!1),new Py(n)}(t)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new kr(this.database,Gi(this._delegate,function GE(){return new zE}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new kr(this.database,Gi(this._delegate,function KE(){return new ZE}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new kr(this.database,Gi(this._delegate,function em(){return new xy}()))}startAt(t=null,e){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new kr(this.database,Gi(this._delegate,function Jg(n=null,t){return Mf("startAt","key",t,!0),new Ty(n,t)}(t,e)))}startAfter(t=null,e){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new kr(this.database,Gi(this._delegate,function Ay(n,t){return Mf("startAfter","key",t,!0),new Sy(n,t)}(t,e)))}endAt(t=null,e){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new kr(this.database,Gi(this._delegate,function qg(n,t){return Mf("endAt","key",t,!0),new Dy(n,t)}(t,e)))}endBefore(t=null,e){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new kr(this.database,Gi(this._delegate,function by(n,t){return Mf("endBefore","key",t,!0),new Qg(n,t)}(t,e)))}equalTo(t,e){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new kr(this.database,Gi(this._delegate,function ky(n,t){return Mf("equalTo","key",t,!0),new Ny(n,t)}(t,e)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof kr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const l={cancel:void 0,context:void 0};if(e&&s)l.cancel=e,(0,P.Wj)(t,"cancel",l.cancel,!0),l.context=s,(0,P.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,P.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new ci(this.database,new Er(this._delegate._repo,this._delegate._path))}}class ci extends kr{constructor(t,e){super(t,new Qn(e._repo,e._path,new Xh,!1)),this.database=t,this._delegate=e}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ci(this.database,za(this._delegate,t))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ci(this.database,t):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new ci(this.database,this._delegate.root)}set(t,e){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",e,!0);const s=Uf(this._delegate,t);return e&&s.then(()=>e(null),l=>e(l)),s}update(t,e){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,au("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Di("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",e,!0);const s=Cy(this._delegate,t);return e&&s.then(()=>e(null),l=>e(l)),s}setWithPriority(t,e,s){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",s,!0);const l=function Iy(n,t,e){if(Di("setWithPriority",n._path),wi("setWithPriority",t,n._path,!1),$d("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new P.BH;return Wg(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&l.then(()=>s(null),d=>s(d)),l}remove(t){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",t,!0);const e=function vy(n){return Di("remove",n._path),Uf(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,P.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const l=function eI(n,t,e){var s;if(n=(0,P.m9)(n),Di("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const l=null===(s=e?.applyLocally)||void 0===s||s,d=new P.BH,E=Yg(n,()=>{});return function _y(n,t,e,s,l,d){Rc(n,"transaction on "+t);const p={path:t,update:e,onComplete:s,status:null,order:Wp(),applyLocally:d,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},E=Of(n,t,void 0);p.currentInputSnapshot=E;const b=p.update(E.val());if(void 0===b)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{tu("transaction failed: Data returned ",b,p.path),p.status=0;const M=bf(n.transactionQueueTree_,t),F=Uo(M)||[];let V;F.push(p),Fg(M,F),"object"==typeof b&&null!==b&&(0,P.r3)(b,".priority")?(V=(0,P.DV)(b,".priority"),(0,P.hu)(Vd(V),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):V=(Jl(n.serverSyncTree_,t)||Tt.EMPTY_NODE).getPriority().val();const te=Hd(n),De=wn(b,V),Le=kg(De,E,te);p.currentOutputSnapshotRaw=De,p.currentOutputSnapshotResolved=Le,p.currentWriteId=Pf(n);const at=Ua(n.serverSyncTree_,t,Le,p.currentWriteId,p.applyLocally);xr(n.eventQueue_,t,at),xf(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,M,F)=>{let V=null;b?d.reject(b):(V=new zi(F,new Er(n._repo,n._path),rn),d.resolve(new By(M,V)))},E,l),d.promise}(this._delegate,t,{applyLocally:s}).then(d=>new sI(d.committed,new $o(this.database,d.snapshot)));return e&&l.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),l}setPriority(t,e){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",e,!0);const s=function Ey(n,t){n=(0,P.m9)(n),Di("setPriority",n._path),$d("setPriority",t,!1);const e=new P.BH;return Wg(n._repo,$t(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),l=>e(l)),s}push(t,e){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",e,!0);const s=function yy(n,t){n=(0,P.m9)(n),Di("push",n._path),wi("push",t,n._path,!0);const e=Ac(n._repo),s=Lf(e),l=za(n,s),d=za(n,s);let p;return p=null!=t?Uf(d,t).then(()=>d):Promise.resolve(d),l.then=p.then.bind(p),l.catch=p.then.bind(p,void 0),l}(this._delegate,t),l=s.then(p=>new ci(this.database,p));e&&l.then(()=>e(null),p=>e(p));const d=new ci(this.database,s);return d.then=l.then.bind(l),d.catch=l.catch.bind(l,void 0),d}onDisconnect(){return Di("Reference.onDisconnect",this._delegate._path),new jy(new iu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Pc{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ou,forceLongPolling:rm}}useEmulator(t,e,s={}){!function Wf(n,t,e,s={}){(n=(0,P.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&fs("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let d;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&fs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new ps(ps.OWNER);else if(s.mockUserToken){const p="string"==typeof s.mockUserToken?s.mockUserToken:(0,P.Sg)(s.mockUserToken,n.app.options.projectId);d=new ps(p)}!function Fy(n,t,e,s){n.repoInfo_=new xl(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(l,t,e,d)}(this._delegate,t,e,s)}ref(t){if((0,P.Dv)("database.ref",0,1,arguments.length),t instanceof ci){const e=Kg(this._delegate,t.toString());return new ci(this,e)}{const e=su(this._delegate,t);return new ci(this,e)}}refFromURL(t){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const s=Kg(this._delegate,t);return new ci(this,s)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function dw(n){(n=(0,P.m9)(n))._checkNotDeleted("goOffline"),my(n._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function hw(n){(n=(0,P.m9)(n))._checkNotDeleted("goOnline"),function BE(n){n.persistentConnection_&&n.persistentConnection_.resume(jg)}(n._repo)}(this._delegate)}}Pc.ServerValue={TIMESTAMP:function XE(){return Uy}(),increment:n=>function Jn(n){return{".sv":{increment:n}}}(n)};var oI=Object.freeze({__proto__:null,initStandalone:function Zs({app:n,url:t,version:e,customAuthImpl:s,namespace:l,nodeAdmin:d=!1}){li(e);const p=new ut.zt("auth-internal",new ut.H0("database-standalone"));return p.setComponent(new ut.wA("auth-internal",()=>s,"PRIVATE")),{instance:new Pc(nm(n,p,void 0,t,d),n),namespace:l}}});const aI=Pc.ServerValue;!function Ks(n){n.INTERNAL.registerComponent(new ut.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new Pc(l,s)},"PUBLIC").setServiceProps({Reference:ci,Query:kr,Database:Pc,DataSnapshot:$o,enableLogging:QE,INTERNAL:oI,ServerValue:aI}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.0")}(Ge.Z);var lr=x(7579),di=x(5363),Hy=x(6063);class Wy extends lr.x{constructor(t=1/0,e=1/0,s=Hy.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:l,_timestampProvider:d,_windowTime:p}=this;e||(s.push(t),!l&&s.push(d.now()+p)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:l}=this,d=l.slice();for(let p=0;p<d.length&&!t.closed;p+=s?1:2)t.next(d[p]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:l}=this,d=(l?1:2)*t;if(t<1/0&&d<s.length&&s.splice(0,s.length-d),!l){const p=e.now();let E=0;for(let b=1;b<s.length&&s[b]<=p;b+=2)E=b;E&&s.splice(0,E+1)}}}function zy(n,t,e){let s,l=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:l=!1,scheduler:e}=n):s=n??1/0,(0,ud.B)({connector:()=>new Wy(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}const zf=(0,x(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function jo(n,t){return(0,mn.e)((e,s)=>{let l=0;e.subscribe((0,ln.x)(s,d=>n.call(t,d,l++)&&s.next(d)))})}var Ho=x(515);function Wo(n){return n<=0?()=>Ho.E:(0,mn.e)((t,e)=>{let s=0;t.subscribe((0,ln.x)(e,l=>{++s<=n&&(e.next(l),n<=s&&e.complete())}))})}function Gf(n){return(0,mn.e)((t,e)=>{let s=!1;t.subscribe((0,ln.x)(e,l=>{s=!0,e.next(l)},()=>{s||e.next(n),e.complete()}))})}function im(n=uI){return(0,mn.e)((t,e)=>{let s=!1;t.subscribe((0,ln.x)(e,l=>{s=!0,e.next(l)},()=>s?e.complete():e.error(n())))})}function uI(){return new zf}function Ys(n,t){const e=arguments.length>=2;return s=>s.pipe(n?jo((l,d)=>n(l,d,s)):w.y,Wo(1),e?Gf(t):im(()=>new zf))}var Zf=x(576);function qd(n,t){return(0,Zf.m)(t)?un(()=>n,t):un(()=>n)}var sm=x(9468);x(259);const um=new Map,Yy={activated:!1,tokenObservers:[]},pI={initialized:!1,enabled:!1};function Ir(n){return um.get(n)||Object.assign({},Yy)}function Yf(){return pI}class Qy{constructor(t,e,s,l,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,rt.Z)(function*(){e.stop();try{e.pending=new P.BH,yield function Jy(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new P.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Lr=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dm(n){if(!Ir(n).activated)throw Lr.create("use-before-activation",{appName:n.name})}function Qf(n,t){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,rt.Z)(function*({url:n,body:t},e){const s={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const V=yield l.getHeartbeatsHeader();V&&(s["X-Firebase-Client"]=V)}const d={method:"POST",body:JSON.stringify(t),headers:s};let p,E;try{p=yield fetch(n,d)}catch(V){throw Lr.create("fetch-network-error",{originalErrorMessage:V?.message})}if(200!==p.status)throw Lr.create("fetch-status-error",{httpStatus:p.status});try{E=yield p.json()}catch(V){throw Lr.create("fetch-parse-error",{originalErrorMessage:V?.message})}const b=E.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const M=1e3*Number(b[1]),F=Date.now();return{token:E.token,expireTimeMillis:F+M,issuedAtTimeMillis:F}})).apply(this,arguments)}function EI(n,t){const{projectId:e,appId:s,apiKey:l}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${l}`,body:{debug_token:t}}}const Xf="firebase-app-check-store";let hm=null;function fm(){return hm||(hm=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var l;t(Lr.create("storage-open",{originalErrorMessage:null===(l=s.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Xf,{keyPath:"compositeKey"})}}catch(e){t(Lr.create("storage-open",{originalErrorMessage:e?.message}))}}),hm)}function pm(){return(pm=(0,rt.Z)(function*(n,t){const s=(yield fm()).transaction(Xf,"readwrite"),d=s.objectStore(Xf).put({compositeKey:n,value:t});return new Promise((p,E)=>{d.onsuccess=b=>{p()},s.onerror=b=>{var M;E(Lr.create("storage-set",{originalErrorMessage:null===(M=b.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const Za=new Bi.Yd("@firebase/app-check");function tp(n,t){return(0,P.hl)()?function Ew(n,t){return function nv(n,t){return pm.apply(this,arguments)}(function eh(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Za.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function _m(){return Yf().enabled}function ym(){return np.apply(this,arguments)}function np(){return(np=(0,rt.Z)(function*(){const n=Yf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wI={error:"UNKNOWN_ERROR"};function DI(n){return P.US.encodeString(JSON.stringify(n),!1)}function rp(n){return cu.apply(this,arguments)}function cu(){return(cu=(0,rt.Z)(function*(n,t=!1){const e=n.app;dm(e);const s=Ir(e);let d,l=s.token;if(l&&!du(l)&&(s.token=void 0,l=void 0),!l){const b=yield s.cachedTokenPromise;b&&(du(b)?l=b:yield tp(e,void 0))}if(!t&&l&&du(l))return{token:l.token};let E,p=!1;if(_m()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Qf(EI(e,yield ym()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),p=!0);const b=yield s.exchangeTokenPromise;return yield tp(e,b),s.token=b,{token:b.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),p=!0),l=yield Ir(e).exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Za.warn(b.message):Za.error(b),d=b}return l?d?E=du(l)?{token:l.token,internalError:d}:Cm(d):(E={token:l.token},s.token=l,yield tp(e,l)):E=Cm(d),p&&Im(e,E),E})).apply(this,arguments)}function Em(n,t){const e=Ir(n),s=e.tokenObservers.filter(l=>l.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function ov(n){const{app:t}=n,e=Ir(t);let s=e.tokenRefresher;s||(s=function ip(n){const{app:t}=n;return new Qy((0,rt.Z)(function*(){let s;if(s=Ir(t).token?yield rp(n,!0):yield rp(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=Ir(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function Im(n,t){const e=Ir(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch{}}function du(n){return n.expireTimeMillis-Date.now()>0}function Cm(n){return{token:DI(wI),error:n}}class bI{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ir(this.app);for(const e of t)Em(this.app,e.next);return Promise.resolve()}}const dv="app-check-internal";!function kI(){(0,Cn._registerComponent)(new ut.wA("app-check",n=>function th(n,t){return new bI(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(dv).initialize()})),(0,Cn._registerComponent)(new ut.wA(dv,n=>function nh(n){return{getToken:t=>rp(n,t),addTokenListener:t=>function vm(n,t,e,s){const{app:l}=n,d=Ir(l);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:s,type:t}],d.token&&du(d.token)){const E=d.token;Promise.resolve().then(()=>{e({token:E.token}),ov(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>ov(n))}(n,"INTERNAL",t),removeTokenListener:t=>Em(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Cn.registerVersion)("@firebase/app-check","0.6.0")}();class Rm{constructor(){return(0,Ue.vb)("app-check")}}typeof window<"u"&&window;var Pm=x(9260);const Om=new _.OlP("angularfire2.auth.use-emulator"),pv=new _.OlP("angularfire2.auth.settings"),gv=new _.OlP("angularfire2.auth.tenant-id"),mv=new _.OlP("angularfire2.auth.langugage-code"),_v=new _.OlP("angularfire2.auth.use-device-language"),yv=new _.OlP("angularfire.auth.persistence"),vv=(n,t,e,s,l,d,p,E)=>(0,Yn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),s&&(b.tenantId=s),b.languageCode=l,d&&b.useDeviceLanguage(),p)for(const[M,F]of Object.entries(p))b.settings[M]=F;return E&&b.setPersistence(E),b},[e,s,l,d,p,E]);let Ev=(()=>{class n{constructor(e,s,l,d,p,E,b,M,F,V,te,De){const Le=new lr.x,at=He(void 0).pipe((0,di.Q)(p.outsideAngular),un(()=>d.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,9169)))),(0,it.U)(()=>(0,Yn.on)(e,d,s)),(0,it.U)(wt=>vv(wt,d,E,M,F,V,b,te)),zy({bufferSize:1,refCount:!1}));if(function Mu(n){return"server"===n}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=He(null);else{at.pipe(Ys()).subscribe();const vn=at.pipe(un(Mn=>Mn.getRedirectResult().then(Js=>Js,()=>null)),Ue.iC,zy({bufferSize:1,refCount:!1})),En=at.pipe(un(Mn=>new Pr.y(Js=>({unsubscribe:d.runOutsideAngular(()=>Mn.onAuthStateChanged(Ch=>Js.next(Ch),Ch=>Js.error(Ch),()=>Js.complete()))})))),Qr=at.pipe(un(Mn=>new Pr.y(Js=>({unsubscribe:d.runOutsideAngular(()=>Mn.onIdTokenChanged(Ch=>Js.next(Ch),Ch=>Js.error(Ch),()=>Js.complete()))}))));this.authState=vn.pipe(qd(En),(0,sm.R)(p.outsideAngular),(0,di.Q)(p.insideAngular)),this.user=vn.pipe(qd(Qr),(0,sm.R)(p.outsideAngular),(0,di.Q)(p.insideAngular)),this.idToken=this.user.pipe(un(Mn=>Mn?(0,gn.D)(Mn.getIdToken()):He(null))),this.idTokenResult=this.user.pipe(un(Mn=>Mn?(0,gn.D)(Mn.getIdTokenResult()):He(null))),this.credential=(0,wo.T)(vn,Le,this.authState.pipe(jo(Mn=>!Mn))).pipe((0,it.U)(Mn=>Mn?.user?Mn:null),(0,sm.R)(p.outsideAngular),(0,di.Q)(p.insideAngular))}return(0,Yn.pX)(this,at,d,{spy:{apply:(wt,vn,En)=>{(wt.startsWith("signIn")||wt.startsWith("createUser"))&&En.then(Qr=>Le.next(Qr))}}})}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(Yn.Dh),_.LFG(Yn.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ue.HU),_.LFG(Om,8),_.LFG(pv,8),_.LFG(gv,8),_.LFG(mv,8),_.LFG(_v,8),_.LFG(yv,8),_.LFG(Rm,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function wv(n){return null==n}function Dv(n){return"function"==typeof n.set}function xm(n,t){return Dv(t)?t:n.ref(t)}function bv(n,t){if(function Iv(n){return"string"==typeof n}(n))return t.stringCase();if(Dv(n))return t.firebaseCase();if(function Cv(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function ih(n,t,e="on",s=Zr.z){return new Pr.y(l=>{let d=null;return d=n[e](t,(p,E)=>{s.schedule(()=>{l.next({snapshot:p,prevKey:E})}),"once"===e&&s.schedule(()=>l.complete())},p=>{s.schedule(()=>l.error(p))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,it.U)(l=>{const{snapshot:d,prevKey:p}=l;let E=null;return d.exists()&&(E=d.key),{type:t,payload:d,prevKey:p,key:E}}),(0,ud.B)())}function lp(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function Tv(n,t){const{payload:e,prevKey:s,key:l}=t,d=lp(n,l),p=function Nm(n,t){if(wv(t))return 0;{const e=lp(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let E=null;t.payload.forEach(b=>{const M={payload:b,type:"value",prevKey:E,key:b.key};return E=b.key,n=[...n,M],!1})}return n;case"child_added":if(d>-1){const E=n[d-1];(E&&E.key||null)!==s&&(n=n.filter(b=>b.payload.key!==e.key)).splice(p,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(p,0,t)}return n;case"child_removed":return n.filter(E=>E.payload.key!==e.key);case"child_changed":return n.map(E=>E.payload.key===l?t:E);case"child_moved":if(d>-1){const E=n.splice(d,1)[0];return(n=n.slice()).splice(p,0,E),n}return n;default:return n}}function up(n){return(wv(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Sv(n,t,e){return function WI(n,t,e){return ih(n,"value","once",e).pipe(un(s=>{const l=[He(s)];return t.forEach(d=>l.push(ih(n,d,"on",e))),(0,wo.T)(...l).pipe(C(Tv,[]))}),function S(n,t=w.y){return n=n??k,(0,mn.e)((e,s)=>{let l,d=!0;e.subscribe((0,ln.x)(s,p=>{const E=t(p);(d||!n(l,E))&&(d=!1,l=E,s.next(p))}))})}())}(n,t=up(t),e)}function Av(n,t,e){const s=(t=up(t)).map(l=>ih(n,l,"on",e));return(0,wo.T)(...s)}function hu(n,t){return function(s,l){return bv(s,{stringCase:()=>n.child(s)[t](l),firebaseCase:()=>s[t](l),snapshotCase:()=>s.ref[t](l)})}}function Rv(n){return function(e){return e?bv(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function KI(n,t){return function(){return ih(n,"value","on",t)}}const Lm=new _.OlP("angularfire2.realtimeDatabaseURL"),YI=new _.OlP("angularfire2.database.use-emulator");let cp=(()=>{class n{constructor(e,s,l,d,p,E,b,M,F,V,te,De,Le,at,wt){this.schedulers=E;const vn=b,En=(0,Yn.on)(e,p,s);M&&vv(En,p,F,te,De,Le,V,at),this.database=(0,Yn.cc)(`${En.name}.database.${l}`,"AngularFireDatabase",En.name,()=>{const Qr=p.runOutsideAngular(()=>En.database(l||void 0));return vn&&Qr.useEmulator(...vn),Qr},[vn])}list(e,s){const l=this.schedulers.ngZone.runOutsideAngular(()=>xm(this.database,e));let d=l;return s&&(d=s(l)),function ZI(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:hu(s,"update"),set:hu(s,"set"),push:l=>s.push(l),remove:Rv(s),snapshotChanges:l=>Sv(n,l,e).pipe(Ue.iC),stateChanges:l=>Av(n,l,e).pipe(Ue.iC),auditTrail:l=>function km(n,t,e){return function GI(n,t,e){return function zI(n,t){return ih(n,"value","on",t).pipe((0,it.U)(e=>{let s;return e.payload.forEach(l=>(s=l.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function ee(...n){const t=(0,cs.jO)(n);return(0,mn.e)((e,s)=>{const l=n.length,d=new Array(l);let p=n.map(()=>!1),E=!1;for(let b=0;b<l;b++)(0,Do.Xf)(n[b]).subscribe((0,ln.x)(s,M=>{d[b]=M,!E&&!p[b]&&(p[b]=!0,(E=p.every(w.y))&&(p=null))},K.Z));e.subscribe((0,ln.x)(s,b=>{if(E){const M=[b,...d];s.next(t?t(...M):M)}}))})}(t),(0,it.U)(([l,d])=>{const p=l.lastKeyToLoad,E=d.map(b=>b.key);return{actions:d,lastKeyToLoad:p,loadedKeys:E}}),function Ie(n){return(0,mn.e)((t,e)=>{let s=!1,l=0;t.subscribe((0,ln.x)(e,d=>(s||(s=!n(d,l++)))&&e.next(d)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,it.U)(l=>l.actions))}(n,Av(n,t).pipe(C((l,d)=>[...l,d],[])),e)}(n,l,e).pipe(Ue.iC),valueChanges:(l,d)=>Sv(n,l,e).pipe((0,it.U)(E=>E.map(b=>d&&d.idField?Object.assign(Object.assign({},b.payload.val()),{[d.idField]:b.key}):b.payload.val())),Ue.iC)}}(d,this)}object(e){return function Mv(n,t){return{query:n,snapshotChanges:()=>KI(n,t.schedulers.outsideAngular)().pipe(Ue.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>KI(n,t.schedulers.outsideAngular)().pipe(Ue.iC,(0,it.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>xm(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(Yn.Dh),_.LFG(Yn.xv,8),_.LFG(Lm,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ue.HU),_.LFG(YI,8),_.LFG(Ev,8),_.LFG(Om,8),_.LFG(pv,8),_.LFG(gv,8),_.LFG(mv,8),_.LFG(_v,8),_.LFG(yv,8),_.LFG(Rm,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qI=(()=>{class n{constructor(){Pm.Z.registerVersion("angularfire",Ue.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[cp]}),n})();class Zi extends lr.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}const{isArray:Fm}=Array,{getPrototypeOf:Pv,prototype:Ov,keys:xv}=Object;const{isArray:JI}=Array;var Pw=x(9672);function Um(...n){const t=(0,cs.yG)(n),e=(0,cs.jO)(n),{args:s,keys:l}=function Nv(n){if(1===n.length){const t=n[0];if(Fm(t))return{args:t,keys:null};if(function QI(n){return n&&"object"==typeof n&&Pv(n)===Ov}(t)){const e=xv(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}(n);if(0===s.length)return(0,gn.D)([],t);const d=new Pr.y(function tC(n,t,e=w.y){return s=>{Lv(t,()=>{const{length:l}=n,d=new Array(l);let p=l,E=l;for(let b=0;b<l;b++)Lv(t,()=>{const M=(0,gn.D)(n[b],t);let F=!1;M.subscribe((0,ln.x)(s,V=>{d[b]=V,F||(F=!0,E--),E||s.next(e(d.slice()))},()=>{--p||s.complete()}))},s)},s)}}(s,t,l?p=>function kv(n,t){return n.reduce((e,s,l)=>(e[s]=t[l],e),{})}(l,p):w.y));return e?d.pipe(function eC(n){return(0,it.U)(t=>function XI(n,t){return JI(t)?n(...t):n(t)}(n,t))}(e)):d}function Lv(n,t,e){n?(0,Pw.f)(e,n,t):t()}var dp=x(8189);function Bm(...n){return function nC(){return(0,dp.J)(1)}()((0,gn.D)(n,(0,cs.yG)(n)))}function Fv(n){return new Pr.y(t=>{(0,Do.Xf)(n()).subscribe(t)})}var rC=x(9635);function sh(n,t){const e=(0,Zf.m)(n)?n:()=>n,s=l=>l.error(e());return new Pr.y(t?l=>t.schedule(s,0,l):s)}var Uv=x(727);function Vm(){return(0,mn.e)((n,t)=>{let e=null;n._refCount++;const s=(0,ln.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const l=n._connection,d=e;e=null,l&&(!d||l===d)&&l.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class Bv extends Pr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,mn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Uv.w0;const e=this.getSubject();t.add(this.source.subscribe((0,ln.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Uv.w0.EMPTY)}return t}refCount(){return Vm()(this)}}var Yr=x(5577);function fu(n,t){return(0,Zf.m)(t)?(0,Yr.z)(n,t,1):(0,Yr.z)(n,1)}var Fr=x(8505);function Ki(n){return(0,mn.e)((t,e)=>{let d,s=null,l=!1;s=t.subscribe((0,ln.x)(e,void 0,void 0,p=>{d=(0,Do.Xf)(n(p,Ki(n)(t))),s?(s.unsubscribe(),s=null,d.subscribe(e)):l=!0})),l&&(s.unsubscribe(),s=null,d.subscribe(e))})}function hp(n){return n<=0?()=>Ho.E:(0,mn.e)((t,e)=>{let s=[];t.subscribe((0,ln.x)(e,l=>{s.push(l),n<s.length&&s.shift()},()=>{for(const l of s)e.next(l);e.complete()},void 0,()=>{s=null}))})}function $m(n,t){const e=arguments.length>=2;return s=>s.pipe(n?jo((l,d)=>n(l,d,s)):w.y,hp(1),e?Gf(t):im(()=>new zf))}function fp(n){return(0,mn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Mt="primary",oh=Symbol("RouteTitle");class Ow{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function xc(n){return new Ow(n)}function sC(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const l={};for(let d=0;d<s.length;d++){const p=s[d],E=n[d];if(p.startsWith(":"))l[p.substring(1)]=E;else if(p!==E.path)return null}return{consumed:n.slice(0,s.length),posParams:l}}function qs(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let l;for(let d=0;d<e.length;d++)if(l=e[d],!jv(n[l],t[l]))return!1;return!0}function jv(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((l,d)=>s[d]===l)}return n===t}function Nc(n){return Array.prototype.concat.apply([],n)}function Hv(n){return n.length>0?n[n.length-1]:null}function sn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ka(n){return(0,_.CqO)(n)?n:(0,_.QGY)(n)?(0,gn.D)(Promise.resolve(n)):He(n)}const kc=!1,ah={exact:function lh(n,t,e){if(!zo(n.segments,t.segments)||!uh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!lh(n.children[s],t.children[s],e))return!1;return!0},subset:Zv},zv={exact:function aC(n,t){return qs(n,t)},subset:function pp(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>jv(n[e],t[e]))},ignored:()=>!0};function Gv(n,t,e){return ah[e.paths](n.root,t.root,e.matrixParams)&&zv[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Zv(n,t,e){return Kv(n,t,t.segments,e)}function Kv(n,t,e,s){if(n.segments.length>e.length){const l=n.segments.slice(0,e.length);return!(!zo(l,e)||t.hasChildren()||!uh(l,e,s))}if(n.segments.length===e.length){if(!zo(n.segments,e)||!uh(n.segments,e,s))return!1;for(const l in t.children)if(!n.children[l]||!Zv(n.children[l],t.children[l],s))return!1;return!0}{const l=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(zo(n.segments,l)&&uh(n.segments,l,s)&&n.children[Mt])&&Kv(n.children[Mt],t,d,s)}}function uh(n,t,e){return t.every((s,l)=>zv[e](n[l].parameters,s.parameters))}class Ya{constructor(t=new At([],{}),e={},s=null){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xc(this.queryParams)),this._queryParamMap}toString(){return lC.serialize(this)}}class At{constructor(t,e){this.segments=t,this.children=e,this.parent=null,sn(e,(s,l)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gp(this)}}class Lc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=xc(this.parameters)),this._parameterMap}toString(){return zm(this)}}function zo(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}let pu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return new ch},providedIn:"root"}),n})();class ch{parse(t){const e=new dC(t);return new Ya(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${dh(t.root,!0)}`,s=function Qv(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(l=>`${hh(e)}=${hh(l)}`).join("&"):`${hh(e)}=${hh(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function Hm(n){return encodeURI(n)}(t.fragment)}`:""}`}}const lC=new ch;function gp(n){return n.segments.map(t=>zm(t)).join("/")}function dh(n,t){if(!n.hasChildren())return gp(n);if(t){const e=n.children[Mt]?dh(n.children[Mt],!1):"",s=[];return sn(n.children,(l,d)=>{d!==Mt&&s.push(`${d}:${dh(l,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function Yv(n,t){let e=[];return sn(n.children,(s,l)=>{l===Mt&&(e=e.concat(t(s,l)))}),sn(n.children,(s,l)=>{l!==Mt&&(e=e.concat(t(s,l)))}),e}(n,(s,l)=>l===Mt?[dh(n.children[Mt],!1)]:[`${l}:${dh(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${gp(n)}/${e[0]}`:`${gp(n)}/(${e.join("//")})`}}function qv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hh(n){return qv(n).replace(/%3B/gi,";")}function mp(n){return qv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _p(n){return decodeURIComponent(n)}function Wm(n){return _p(n.replace(/\+/g,"%20"))}function zm(n){return`${mp(n.path)}${function uC(n){return Object.keys(n).map(t=>`;${mp(t)}=${mp(n[t])}`).join("")}(n.parameters)}`}const Jv=/^[^\/()?;=#]+/;function yp(n){const t=n.match(Jv);return t?t[0]:""}const Xv=/^[^=?&#]+/,qr=/^[^&#]+/;class dC{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[Mt]=new At(t,e)),s}parseSegment(){const t=yp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new _.vHH(4009,kc);return this.capture(t),new Lc(_p(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=yp(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const l=yp(this.remaining);l&&(s=l,this.capture(s))}t[_p(e)]=_p(s)}parseQueryParam(t){const e=function cC(n){const t=n.match(Xv);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const p=function Fc(n){const t=n.match(qr);return t?t[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const l=Wm(e),d=Wm(s);if(t.hasOwnProperty(l)){let p=t[l];Array.isArray(p)||(p=[p],t[l]=p),p.push(d)}else t[l]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=yp(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new _.vHH(4010,kc);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=Mt);const p=this.parseChildren();e[d]=1===Object.keys(p).length?p[Mt]:new At([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new _.vHH(4011,kc)}}function Gm(n){return n.segments.length>0?new At([],{[Mt]:n}):n}function Zm(n){const t={};for(const s of Object.keys(n.children)){const d=Zm(n.children[s]);(d.segments.length>0||d.hasChildren())&&(t[s]=d)}return function xw(n){if(1===n.numberOfChildren&&n.children[Mt]){const t=n.children[Mt];return new At(n.segments.concat(t.segments),t.children)}return n}(new At(n.segments,t))}function qa(n){return n instanceof Ya}function fC(n,t,e,s,l){if(0===e.length)return Bc(t.root,t.root,t.root,s,l);const d=function Ym(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ip(!0,0,n);let t=0,e=!1;const s=n.reduce((l,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const E={};return sn(d.outlets,(b,M)=>{E[M]="string"==typeof b?b.split("/"):b}),[...l,{outlets:E}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===p?(d.split("/").forEach((E,b)=>{0==b&&"."===E||(0==b&&""===E?e=!0:".."===E?t++:""!=E&&l.push(E))}),l):[...l,d]},[]);return new Ip(e,t,s)}(e);return d.toRoot()?Bc(t.root,t.root,new At([],{}),s,l):function p(b){const M=function qm(n,t,e,s){if(n.isAbsolute)return new gu(t.root,!0,0);if(-1===s)return new gu(e,e===t.root,0);return function pC(n,t,e){let s=n,l=t,d=e;for(;d>l;){if(d-=l,s=s.parent,!s)throw new _.vHH(4005,!1);l=s.segments.length}return new gu(s,!1,l-d)}(e,s+(Uc(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,b),F=M.processChildren?Vc(M.segmentGroup,M.index,d.commands):Qm(M.segmentGroup,M.index,d.commands);return Bc(t.root,M.segmentGroup,F,s,l)}(n.snapshot?._lastPathIndex)}function Uc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fh(n){return"object"==typeof n&&null!=n&&n.outlets}function Bc(n,t,e,s,l){let p,d={};s&&sn(s,(b,M)=>{d[M]=Array.isArray(b)?b.map(F=>`${F}`):`${b}`}),p=n===t?e:e0(n,t,e);const E=Gm(Zm(p));return new Ya(E,d,l)}function e0(n,t,e){const s={};return sn(n.children,(l,d)=>{s[d]=l===t?e:e0(l,t,e)}),new At(n.segments,s)}class Ip{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&Uc(s[0]))throw new _.vHH(4003,!1);const l=s.find(fh);if(l&&l!==Hv(s))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gu{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function Qm(n,t,e){if(n||(n=new At([],{})),0===n.segments.length&&n.hasChildren())return Vc(n,t,e);const s=function $c(n,t,e){let s=0,l=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<n.segments.length;){if(s>=e.length)return d;const p=n.segments[l],E=e[s];if(fh(E))break;const b=`${E}`,M=s<e.length-1?e[s+1]:null;if(l>0&&void 0===b)break;if(b&&M&&"object"==typeof M&&void 0===M.outlets){if(!gC(b,M,p))return d;s+=2}else{if(!gC(b,{},p))return d;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(n,t,e),l=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const d=new At(n.segments.slice(0,s.pathIndex),{});return d.children[Mt]=new At(n.segments.slice(s.pathIndex),n.children),Vc(d,0,l)}return s.match&&0===l.length?new At(n.segments,{}):s.match&&!n.hasChildren()?Jm(n,t,e):s.match?Vc(n,0,l):Jm(n,t,e)}function Vc(n,t,e){if(0===e.length)return new At(n.segments,{});{const s=function t0(n){return fh(n[0])?n[0].outlets:{[Mt]:n}}(e),l={};return sn(s,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[p]=Qm(n.children[p],t,d))}),sn(n.children,(d,p)=>{void 0===s[p]&&(l[p]=d)}),new At(n.segments,l)}}function Jm(n,t,e){const s=n.segments.slice(0,t);let l=0;for(;l<e.length;){const d=e[l];if(fh(d)){const b=n0(d.outlets);return new At(s,b)}if(0===l&&Uc(e[0])){s.push(new Lc(n.segments[t].path,wp(e[0]))),l++;continue}const p=fh(d)?d.outlets[Mt]:`${d}`,E=l<e.length-1?e[l+1]:null;p&&E&&Uc(E)?(s.push(new Lc(p,wp(E))),l+=2):(s.push(new Lc(p,{})),l++)}return new At(s,{})}function n0(n){const t={};return sn(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=Jm(new At([],{}),0,e))}),t}function wp(n){const t={};return sn(n,(e,s)=>t[s]=`${e}`),t}function gC(n,t,e){return n==e.path&&qs(t,e.parameters)}class Go{constructor(t,e){this.id=t,this.url=e}}class r0 extends Go{constructor(t,e,s="imperative",l=null){super(t,e),this.type=0,this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mu extends Go{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dp extends Go{constructor(t,e,s,l){super(t,e),this.reason=s,this.code=l,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class s0 extends Go{constructor(t,e,s,l){super(t,e),this.error=s,this.target=l,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class o0 extends Go{constructor(t,e,s,l){super(t,e),this.urlAfterRedirects=s,this.state=l,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a0 extends Go{constructor(t,e,s,l){super(t,e),this.urlAfterRedirects=s,this.state=l,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mC extends Go{constructor(t,e,s,l,d){super(t,e),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class l0 extends Go{constructor(t,e,s,l){super(t,e),this.urlAfterRedirects=s,this.state=l,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u0 extends Go{constructor(t,e,s,l){super(t,e),this.urlAfterRedirects=s,this.state=l,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _C{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yC{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c0{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vC{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d0{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h0{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xm{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class p0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=e_(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=e_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=g0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return g0(t,this._root).map(e=>e.value)}}function e_(n,t){if(n===t.value)return t;for(const e of t.children){const s=e_(n,e);if(s)return s}return null}function g0(n,t){if(n===t.value)return[t];for(const e of t.children){const s=g0(n,e);if(s.length)return s.unshift(t),s}return[]}class Qs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ph(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class EC extends p0{constructor(t,e){super(t),this.snapshot=e,m0(this,t)}toString(){return this.snapshot.toString()}}function IC(n,t){const e=function Nw(n,t){const p=new t_([],{},{},"",{},Mt,t,null,n.root,-1,{});return new mh("",new Qs(p,[]))}(n,t),s=new Zi([new Lc("",{})]),l=new Zi({}),d=new Zi({}),p=new Zi({}),E=new Zi(""),b=new gh(s,l,p,E,d,Mt,t,e.root);return b.snapshot=e.root,new EC(new Qs(b,[]),e)}class gh{constructor(t,e,s,l,d,p,E,b){this.url=t,this.params=e,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=p,this.component=E,this.title=this.data?.pipe((0,it.U)(M=>M[oh]))??He(void 0),this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(t=>xc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(t=>xc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CC(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const l=e[s],d=e[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(d.component)break;s--}}return function kw(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class t_{constructor(t,e,s,l,d,p,E,b,M,F,V){this.url=t,this.params=e,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=p,this.component=E,this.routeConfig=b,this._urlSegment=M,this._lastPathIndex=F,this._resolve=V}get title(){return this.data?.[oh]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mh extends p0{constructor(t,e){super(e),this.url=t,m0(this,e)}toString(){return n_(this._root)}}function m0(n,t){t.value._routerState=n,t.children.forEach(e=>m0(n,e))}function n_(n){const t=n.children.length>0?` { ${n.children.map(n_).join(", ")} } `:"";return`${n.value}${t}`}function jc(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,qs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),qs(t.params,e.params)||n.params.next(e.params),function oC(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!qs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),qs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bp(n,t){const e=qs(n.params,t.params)&&function jm(n,t){return zo(n,t)&&n.every((e,s)=>qs(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||bp(n.parent,t.parent))}function Tp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const l=function r_(n,t,e){return t.children.map(s=>{for(const l of e.children)if(n.shouldReuseRoute(s.value,l.value.snapshot))return Tp(n,s,l);return Tp(n,s)})}(n,t,e);return new Qs(s,l)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(E=>Tp(n,E)),p}}const s=function y0(n){return new gh(new Zi(n.url),new Zi(n.params),new Zi(n.queryParams),new Zi(n.fragment),new Zi(n.data),n.outlet,n.component,n)}(t.value),l=t.children.map(d=>Tp(n,d));return new Qs(s,l)}}const i_="ngNavigationCancelingError";function s_(n,t){const{redirectTo:e,navigationBehaviorOptions:s}=qa(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,l=wC(!1,0,t);return l.url=e,l.navigationBehaviorOptions=s,l}function wC(n,t,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[i_]=!0,s.cancellationCode=t,e&&(s.url=e),s}function DC(n){return v0(n)&&qa(n.url)}function v0(n){return n&&n[i_]}class bC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qa,this.attachRef=null}}let Qa=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const l=this.getOrCreateContext(e);l.outlet=s,this.contexts.set(e,l)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new bC,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sp=!1;let E0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(Qa),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb)}ngOnChanges(e){if(e.name){const{firstChange:s,previousValue:l}=e.name;if(s)return;this.isTrackedInParentContexts(l)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(l)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,Sp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,Sp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,Sp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new _.vHH(4013,Sp);this._activatedRoute=e;const l=this.location,p=e.snapshot.component,E=this.parentContexts.getOrCreateContext(this.name).children,b=new Lw(e,E,l.injector);if(s&&function Fw(n){return!!n.resolveComponentFactory}(s)){const M=s.resolveComponentFactory(p);this.activated=l.createComponent(M,l.length,b)}else this.activated=l.createComponent(p,{index:l.length,injector:b,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=_.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]}),n})();class Lw{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===gh?this.route:t===Qa?this.childContexts:this.parent.get(t,e)}}let o_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(e,s){1&e&&_._UZ(0,"router-outlet")},dependencies:[E0],encapsulation:2}),n})();function I0(n,t){return n.providers&&!n._injector&&(n._injector=(0,_.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function _h(n){const t=n.children&&n.children.map(_h),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Mt&&(e.component=o_),e}function Yi(n){return n.outlet||Mt}function AC(n,t){const e=n.filter(s=>Yi(s)===t);return e.push(...n.filter(s=>Yi(s)!==t)),e}function Ur(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class a_{constructor(t,e,s,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=l}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),jc(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const l=ph(e);t.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,l[p],s),delete l[p]}),sn(l,(d,p)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(t,e,s){const l=t.value,d=e?e.value:null;if(l===d)if(l.component){const p=s.getContext(l.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,s);else d&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),l=s&&t.value.component?s.children:e,d=ph(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],l);if(s&&s.outlet){const p=s.outlet.detach(),E=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:E})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),l=s&&t.value.component?s.children:e,d=ph(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],l);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const l=ph(e);t.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],s),this.forwardEvent(new h0(d.value.snapshot))}),t.children.length&&this.forwardEvent(new vC(t.value.snapshot))}activateRoutes(t,e,s){const l=t.value,d=e?e.value:null;if(jc(l),l===d)if(l.component){const p=s.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,s);else if(l.component){const p=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const E=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),p.children.onOutletReAttached(E.contexts),p.attachRef=E.componentRef,p.route=E.route.value,p.outlet&&p.outlet.attach(E.componentRef,E.route.value),jc(E.route.value),this.activateChildRoutes(t,null,p.children)}else{const E=Ur(l.snapshot),b=E?.get(_._Vd)??null;p.attachRef=null,p.route=l,p.resolver=b,p.injector=E,p.outlet&&p.outlet.activateWith(l,p.injector),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,s)}}class C0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Rp{constructor(t,e){this.component=t,this.route=e}}function l_(n,t,e){const s=n._root;return yh(s,t?t._root:null,e,[s.value])}function _u(n,t){const e=Symbol(),s=t.get(n,e);return s===e?"function"!=typeof n||(0,_.Z0I)(n)?t.get(n):n:s}function yh(n,t,e,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=ph(t);return n.children.forEach(p=>{(function D0(n,t,e,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,p=t?t.value:null,E=e?e.getContext(n.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const b=function b0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!zo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!zo(n.url,t.url)||!qs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bp(n,t)||!qs(n.queryParams,t.queryParams);default:return!bp(n,t)}}(p,d,d.routeConfig.runGuardsAndResolvers);b?l.canActivateChecks.push(new C0(s)):(d.data=p.data,d._resolvedData=p._resolvedData),yh(n,t,d.component?E?E.children:null:e,s,l),b&&E&&E.outlet&&E.outlet.isActivated&&l.canDeactivateChecks.push(new Rp(E.outlet.component,p))}else p&&vh(t,E,l),l.canActivateChecks.push(new C0(s)),yh(n,null,d.component?E?E.children:null:e,s,l)})(p,d[p.value.outlet],e,s.concat([p.value]),l),delete d[p.value.outlet]}),sn(d,(p,E)=>vh(p,e.getContext(E),l)),l}function vh(n,t,e){const s=ph(n),l=n.value;sn(s,(d,p)=>{vh(d,l.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new Rp(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}function Hc(n){return"function"==typeof n}function d_(n){return n instanceof zf||"EmptyError"===n?.name}const Mp=Symbol("INITIAL_VALUE");function Wc(){return un(n=>Um(n.map(t=>t.pipe(Wo(1),function iC(...n){const t=(0,cs.yG)(n);return(0,mn.e)((e,s)=>{(t?Bm(n,e,t):Bm(n,e)).subscribe(s)})}(Mp)))).pipe((0,it.U)(t=>{for(const e of t)if(!0!==e){if(e===Mp)return Mp;if(!1===e||e instanceof Ya)return e}return!0}),jo(t=>t!==Mp),Wo(1)))}function f_(n){return(0,rC.z)((0,Fr.b)(t=>{if(qa(t))throw s_(0,t)}),(0,it.U)(t=>!0===t))}const Pp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function p_(n,t,e,s,l){const d=zc(n,t,e);return d.matched?function P0(n,t,e,s){const l=t.canMatch;return l&&0!==l.length?He(l.map(p=>{const E=_u(p,n);return Ka(function Zo(n){return n&&Hc(n.canMatch)}(E)?E.canMatch(t,e):n.runInContext(()=>E(t,e)))})).pipe(Wc(),f_()):He(!0)}(s=I0(t,s),t,e).pipe((0,it.U)(p=>!0===p?d:{...Pp})):He(d)}function zc(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Pp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const l=(t.matcher||sC)(e,n,t);if(!l)return{...Pp};const d={};sn(l.posParams,(E,b)=>{d[b]=E.path});const p=l.consumed.length>0?{...d,...l.consumed[l.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:e.slice(l.consumed.length),parameters:p,positionalParamSegments:l.posParams??{}}}function yu(n,t,e,s){if(e.length>0&&function NC(n,t,e){return e.some(s=>g_(n,t,s)&&Yi(s)!==Mt)}(n,e,s)){const d=new At(t,function xC(n,t,e,s){const l={};l[Mt]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&Yi(d)!==Mt){const p=new At([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,l[Yi(d)]=p}return l}(n,t,s,new At(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function zw(n,t,e){return e.some(s=>g_(n,t,s))}(n,e,s)){const d=new At(n.segments,function O0(n,t,e,s,l){const d={};for(const p of s)if(g_(n,e,p)&&!l[Yi(p)]){const E=new At([],{});E._sourceSegment=n,E._segmentIndexShift=t.length,d[Yi(p)]=E}return{...l,...d}}(n,t,e,s,n.children));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const l=new At(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function g_(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function kC(n,t,e,s){return!!(Yi(n)===s||s!==Mt&&g_(t,e,n))&&("**"===n.path||zc(t,n,e).matched)}function m_(n,t,e){return 0===t.length&&!n.children[e]}const Op=!1;class xp{constructor(t){this.segmentGroup=t||null}}class x0{constructor(t){this.urlTree=t}}function Np(n){return sh(new xp(n))}function LC(n){return sh(new x0(n))}class FC{constructor(t,e,s,l,d){this.injector=t,this.configLoader=e,this.urlSerializer=s,this.urlTree=l,this.config=d,this.allowRedirects=!0}apply(){const t=yu(this.urlTree.root,[],[],this.config).segmentGroup,e=new At(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Mt).pipe((0,it.U)(d=>this.createUrlTree(Zm(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ki(d=>{if(d instanceof x0)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof xp?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Mt).pipe((0,it.U)(l=>this.createUrlTree(Zm(l),t.queryParams,t.fragment))).pipe(Ki(l=>{throw l instanceof xp?this.noMatchError(l):l}))}noMatchError(t){return new _.vHH(4002,Op)}createUrlTree(t,e,s){const l=Gm(t);return new Ya(l,e,s)}expandSegmentGroup(t,e,s,l){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,it.U)(d=>new At([],d))):this.expandSegment(t,s,e,s.segments,l,!0)}expandChildren(t,e,s){const l=[];for(const d of Object.keys(s.children))"primary"===d?l.unshift(d):l.push(d);return(0,gn.D)(l).pipe(fu(d=>{const p=s.children[d],E=AC(e,d);return this.expandSegmentGroup(t,E,p,d).pipe((0,it.U)(b=>({segment:b,outlet:d})))}),C((d,p)=>(d[p.outlet]=p.segment,d),{}),$m())}expandSegment(t,e,s,l,d,p){return(0,gn.D)(s).pipe(fu(E=>this.expandSegmentAgainstRoute(t,e,s,E,l,d,p).pipe(Ki(M=>{if(M instanceof xp)return He(null);throw M}))),Ys(E=>!!E),Ki((E,b)=>{if(d_(E))return m_(e,l,d)?He(new At([],{})):Np(e);throw E}))}expandSegmentAgainstRoute(t,e,s,l,d,p,E){return kC(l,e,d,p)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,d,p):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,l,d,p):Np(e):Np(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,l,d,p){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,l,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,l,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,l){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?LC(d):this.lineralizeSegments(s,d).pipe((0,Yr.z)(p=>{const E=new At(p,{});return this.expandSegment(t,E,e,p,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,l,d,p){const{matched:E,consumedSegments:b,remainingSegments:M,positionalParamSegments:F}=zc(e,l,d);if(!E)return Np(e);const V=this.applyRedirectCommands(b,l.redirectTo,F);return l.redirectTo.startsWith("/")?LC(V):this.lineralizeSegments(l,V).pipe((0,Yr.z)(te=>this.expandSegment(t,e,s,te.concat(M),p,!1)))}matchSegmentAgainstRoute(t,e,s,l,d){return"**"===s.path?(t=I0(s,t),s.loadChildren?(s._loadedRoutes?He({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(t,s)).pipe((0,it.U)(E=>(s._loadedRoutes=E.routes,s._loadedInjector=E.injector,new At(l,{})))):He(new At(l,{}))):p_(e,s,l,t).pipe(un(({matched:p,consumedSegments:E,remainingSegments:b})=>p?this.getChildConfig(t=s._injector??t,s,l).pipe((0,Yr.z)(F=>{const V=F.injector??t,te=F.routes,{segmentGroup:De,slicedSegments:Le}=yu(e,E,b,te),at=new At(De.segments,De.children);if(0===Le.length&&at.hasChildren())return this.expandChildren(V,te,at).pipe((0,it.U)(Qr=>new At(E,Qr)));if(0===te.length&&0===Le.length)return He(new At(E,{}));const wt=Yi(s)===d;return this.expandSegment(V,at,te,Le,wt?Mt:d,!0).pipe((0,it.U)(En=>new At(E.concat(En.segments),En.children)))})):Np(e)))}getChildConfig(t,e,s){return e.children?He({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?He({routes:e._loadedRoutes,injector:e._loadedInjector}):function M0(n,t,e,s){const l=t.canLoad;return void 0===l||0===l.length?He(!0):He(l.map(p=>{const E=_u(p,n);return Ka(function u_(n){return n&&Hc(n.canLoad)}(E)?E.canLoad(t,e):n.runInContext(()=>E(t,e)))})).pipe(Wc(),f_())}(t,e,s).pipe((0,Yr.z)(l=>l?this.configLoader.loadChildren(t,e).pipe((0,Fr.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function Zw(n){return sh(wC(Op,3))}())):He({routes:[],injector:t})}lineralizeSegments(t,e){let s=[],l=e.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return He(s);if(l.numberOfChildren>1||!l.children[Mt])return sh(new _.vHH(4e3,Op));l=l.children[Mt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreateUrlTree(t,e,s,l){const d=this.createSegmentGroup(t,e.root,s,l);return new Ya(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return sn(t,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const E=l.substring(1);s[d]=e[E]}else s[d]=l}),s}createSegmentGroup(t,e,s,l){const d=this.createSegments(t,e.segments,s,l);let p={};return sn(e.children,(E,b)=>{p[b]=this.createSegmentGroup(t,E,s,l)}),new At(d,p)}createSegments(t,e,s,l){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,l):this.findOrReturn(d,s))}findPosParam(t,e,s){const l=s[e.path.substring(1)];if(!l)throw new _.vHH(4001,Op);return l}findOrReturn(t,e){let s=0;for(const l of e){if(l.path===t.path)return e.splice(s),l;s++}return t}}class UC{}class L0{constructor(t,e,s,l,d,p,E){this.injector=t,this.rootComponentType=e,this.config=s,this.urlTree=l,this.url=d,this.paramsInheritanceStrategy=p,this.urlSerializer=E}recognize(){const t=yu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Mt).pipe((0,it.U)(e=>{if(null===e)return null;const s=new t_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Qs(s,e),d=new mh(this.url,l);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,s=CC(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,s,l){return 0===s.segments.length&&s.hasChildren()?this.processChildren(t,e,s):this.processSegment(t,e,s,s.segments,l)}processChildren(t,e,s){return(0,gn.D)(Object.keys(s.children)).pipe(fu(l=>{const d=s.children[l],p=AC(e,l);return this.processSegmentGroup(t,p,d,l)}),C((l,d)=>l&&d?(l.push(...d),l):null),function Vv(n,t=!1){return(0,mn.e)((e,s)=>{let l=0;e.subscribe((0,ln.x)(s,d=>{const p=n(d,l++);(p||t)&&s.next(d),!p&&s.complete()}))})}(l=>null!==l),Gf(null),$m(),(0,it.U)(l=>{if(null===l)return null;const d=Lp(l);return function __(n){n.sort((t,e)=>t.value.outlet===Mt?-1:e.value.outlet===Mt?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,s,l,d){return(0,gn.D)(e).pipe(fu(p=>this.processSegmentAgainstRoute(p._injector??t,p,s,l,d)),Ys(p=>!!p),Ki(p=>{if(d_(p))return m_(s,l,d)?He([]):He(null);throw p}))}processSegmentAgainstRoute(t,e,s,l,d){if(e.redirectTo||!kC(e,s,l,d))return He(null);let p;if("**"===e.path){const E=l.length>0?Hv(l).parameters:{},b=VC(s)+l.length;p=He({snapshot:new t_(l,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$C(e),Yi(e),e.component??e._loadedComponent??null,e,Eh(s),b,jC(e)),consumedSegments:[],remainingSegments:[]})}else p=p_(s,e,l,t).pipe((0,it.U)(({matched:E,consumedSegments:b,remainingSegments:M,parameters:F})=>{if(!E)return null;const V=VC(s)+b.length;return{snapshot:new t_(b,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$C(e),Yi(e),e.component??e._loadedComponent??null,e,Eh(s),V,jC(e)),consumedSegments:b,remainingSegments:M}}));return p.pipe(un(E=>{if(null===E)return He(null);const{snapshot:b,consumedSegments:M,remainingSegments:F}=E;t=e._injector??t;const V=e._loadedInjector??t,te=function y_(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:De,slicedSegments:Le}=yu(s,M,F,te.filter(wt=>void 0===wt.redirectTo));if(0===Le.length&&De.hasChildren())return this.processChildren(V,te,De).pipe((0,it.U)(wt=>null===wt?null:[new Qs(b,wt)]));if(0===te.length&&0===Le.length)return He([new Qs(b,[])]);const at=Yi(e)===d;return this.processSegment(V,te,De,Le,at?Mt:d).pipe((0,it.U)(wt=>null===wt?null:[new Qs(b,wt)]))}))}}function BC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Lp(n){const t=[],e=new Set;for(const s of n){if(!BC(s)){t.push(s);continue}const l=t.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...s.children),e.add(l)):t.push(s)}for(const s of e){const l=Lp(s.children);t.push(new Qs(s.value,l))}return t.filter(s=>!e.has(s))}function Eh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function VC(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function $C(n){return n.data||{}}function jC(n){return n.resolve||{}}function E_(n){return"string"==typeof n.title||null===n.title}function Fp(n){return un(t=>{const e=n(t);return e?(0,gn.D)(e).pipe((0,it.U)(()=>t)):He(t)})}const Eu=new _.OlP("ROUTES");let Ih=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return He(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=Ka(e.loadComponent()).pipe((0,it.U)(I_),(0,Fr.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),fp(()=>{this.componentLoaders.delete(e)})),l=new Bv(s,()=>new lr.x).pipe(Vm());return this.componentLoaders.set(e,l),l}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return He({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const d=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,it.U)(E=>{this.onLoadEndListener&&this.onLoadEndListener(s);let b,M,F=!1;Array.isArray(E)?M=E:(b=E.create(e).injector,M=Nc(b.get(Eu,[],_.XFs.Self|_.XFs.Optional)));return{routes:M.map(_h),injector:b}}),fp(()=>{this.childrenLoaders.delete(s)})),p=new Bv(d,()=>new lr.x).pipe(Vm());return this.childrenLoaders.set(s,p),p}loadModuleFactoryOrRoutes(e){return Ka(e()).pipe((0,it.U)(I_),(0,Yr.z)(l=>l instanceof _.YKP||Array.isArray(l)?He(l):(0,gn.D)(this.compiler.compileModuleAsync(l))))}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(_.zs3),_.LFG(_.Sil))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function I_(n){return function Yw(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let C_=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new lr.x,this.configLoader=(0,_.f3M)(Ih),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(pu),this.rootContexts=(0,_.f3M)(Qa),this.navigationId=0,this.configLoader.onLoadEndListener=l=>this.events.next(new yC(l)),this.configLoader.onLoadStartListener=l=>this.events.next(new _C(l))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(e){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:s})}setupNavigations(e){return this.transitions=new Zi({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jo(s=>0!==s.id),(0,it.U)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),un(s=>{let l=!1,d=!1;return He(s).pipe((0,Fr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),un(p=>{const E=e.browserUrlTree.toString(),b=!e.navigated||p.extractedUrl.toString()!==E||E!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||b)&&e.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return V0(p.source)&&(e.browserUrlTree=p.extractedUrl),He(p).pipe(un(F=>{const V=this.transitions?.getValue();return this.events.next(new r0(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),V!==this.transitions?.getValue()?Ho.E:Promise.resolve(F)}),function kp(n,t,e,s){return un(l=>function Kw(n,t,e,s,l){return new FC(n,t,e,s,l).apply()}(n,t,e,l.extractedUrl,s).pipe((0,it.U)(d=>({...l,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Fr.b)(F=>{this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects},s.urlAfterRedirects=F.urlAfterRedirects}),function F0(n,t,e,s,l){return(0,Yr.z)(d=>function vu(n,t,e,s,l,d,p="emptyOnly"){return new L0(n,t,e,s,l,p,d).recognize().pipe(un(E=>null===E?function k0(n){return new Pr.y(t=>t.error(n))}(new UC):He(E)))}(n,t,e,d.urlAfterRedirects,s.serialize(d.urlAfterRedirects),s,l).pipe((0,it.U)(p=>({...d,targetSnapshot:p}))))}(this.environmentInjector,e.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Fr.b)(F=>{if(s.targetSnapshot=F.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!F.extras.skipLocationChange){const te=e.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);e.setBrowserUrl(te,F)}e.browserUrlTree=F.urlAfterRedirects}const V=new o0(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(V)}));if(b&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:V,extractedUrl:te,source:De,restoredState:Le,extras:at}=p,wt=new r0(V,this.urlSerializer.serialize(te),De,Le);this.events.next(wt);const vn=IC(te,e.rootComponentType).snapshot;return He(s={...p,targetSnapshot:vn,urlAfterRedirects:te,extras:{...at,skipLocationChange:!1,replaceUrl:!1}})}return e.rawUrlTree=p.rawUrl,p.resolve(null),Ho.E}),(0,Fr.b)(p=>{const E=new a0(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(E)}),(0,it.U)(p=>s={...p,guards:l_(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function PC(n,t){return(0,Yr.z)(e=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:p}}=e;return 0===p.length&&0===d.length?He({...e,guardsResult:!0}):function S0(n,t,e,s){return(0,gn.D)(n).pipe((0,Yr.z)(l=>function h_(n,t,e,s,l){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?He(d.map(E=>{const b=Ur(t)??l,M=_u(E,b);return Ka(function c_(n){return n&&Hc(n.canDeactivate)}(M)?M.canDeactivate(n,t,e,s):b.runInContext(()=>M(n,t,e,s))).pipe(Ys())})).pipe(Wc()):He(!0)}(l.component,l.route,e,t,s)),Ys(l=>!0!==l,!0))}(p,s,l,n).pipe((0,Yr.z)(E=>E&&function MC(n){return"boolean"==typeof n}(E)?function Hw(n,t,e,s){return(0,gn.D)(t).pipe(fu(l=>Bm(function OC(n,t){return null!==n&&t&&t(new c0(n)),He(!0)}(l.route.parent,s),function A0(n,t){return null!==n&&t&&t(new d0(n)),He(!0)}(l.route,s),function Ww(n,t,e){const s=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(p=>function w0(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(p)).filter(p=>null!==p).map(p=>Fv(()=>He(p.guards.map(b=>{const M=Ur(p.node)??e,F=_u(b,M);return Ka(function T0(n){return n&&Hc(n.canActivateChild)}(F)?F.canActivateChild(s,n):M.runInContext(()=>F(s,n))).pipe(Ys())})).pipe(Wc())));return He(d).pipe(Wc())}(n,l.path,e),function R0(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return He(!0);const l=s.map(d=>Fv(()=>{const p=Ur(t)??e,E=_u(d,p);return Ka(function Ja(n){return n&&Hc(n.canActivate)}(E)?E.canActivate(t,n):p.runInContext(()=>E(t,n))).pipe(Ys())}));return He(l).pipe(Wc())}(n,l.route,e))),Ys(l=>!0!==l,!0))}(s,d,n,t):He(E)),(0,it.U)(E=>({...e,guardsResult:E})))})}(this.environmentInjector,p=>this.events.next(p)),(0,Fr.b)(p=>{if(s.guardsResult=p.guardsResult,qa(p.guardsResult))throw s_(0,p.guardsResult);const E=new mC(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(E)}),jo(p=>!!p.guardsResult||(e.restoreHistory(p),this.cancelNavigationTransition(p,"",3,e),!1)),Fp(p=>{if(p.guards.canActivateChecks.length)return He(p).pipe((0,Fr.b)(E=>{const b=new l0(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(b)}),un(E=>{let b=!1;return He(E).pipe(function HC(n,t){return(0,Yr.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=e;if(!l.length)return He(e);let d=0;return(0,gn.D)(l).pipe(fu(p=>function WC(n,t,e,s){const l=n.routeConfig,d=n._resolve;return void 0!==l?.title&&!E_(l)&&(d[oh]=l.title),function zC(n,t,e,s){const l=function GC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===l.length)return He({});const d={};return(0,gn.D)(l).pipe((0,Yr.z)(p=>function U0(n,t,e,s){const l=Ur(t)??s,d=_u(n,l);return Ka(d.resolve?d.resolve(t,e):l.runInContext(()=>d(t,e)))}(n[p],t,e,s).pipe(Ys(),(0,Fr.b)(E=>{d[p]=E}))),hp(1),function $v(n){return(0,it.U)(()=>n)}(d),Ki(p=>d_(p)?Ho.E:sh(p)))}(d,n,t,s).pipe((0,it.U)(p=>(n._resolvedData=p,n.data=CC(n,e).resolve,l&&E_(l)&&(n.data[oh]=l.title),null)))}(p.route,s,n,t)),(0,Fr.b)(()=>d++),hp(1),(0,Yr.z)(p=>d===l.length?He(e):Ho.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Fr.b)({next:()=>b=!0,complete:()=>{b||(e.restoreHistory(E),this.cancelNavigationTransition(E,"",2,e))}}))}),(0,Fr.b)(E=>{const b=new u0(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(b)}))}),Fp(p=>{const E=b=>{const M=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,Fr.b)(F=>{b.component=F}),(0,it.U)(()=>{})));for(const F of b.children)M.push(...E(F));return M};return Um(E(p.targetSnapshot.root)).pipe(Gf(),Wo(1))}),Fp(()=>e.afterPreactivation()),(0,it.U)(p=>{const E=function _0(n,t,e){const s=Tp(n,t._root,e?e._root:void 0);return new EC(s,t)}(e.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return s={...p,targetRouterState:E}}),(0,Fr.b)(p=>{e.currentUrlTree=p.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),e.routerState=p.targetRouterState,"deferred"===e.urlUpdateStrategy&&(p.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,p),e.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>(0,it.U)(s=>(new a_(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,e.routeReuseStrategy,p=>this.events.next(p)),(0,Fr.b)({next:p=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new mu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{l=!0}}),fp(()=>{l||d||this.cancelNavigationTransition(s,"",1,e),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ki(p=>{if(d=!0,v0(p)){DC(p)||(e.navigated=!0,e.restoreHistory(s,!0));const E=new Dp(s.id,this.urlSerializer.serialize(s.extractedUrl),p.message,p.cancellationCode);if(this.events.next(E),DC(p)){const b=e.urlHandlingStrategy.merge(p.url,e.rawUrlTree),M={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||V0(s.source)};e.scheduleNavigation(b,"imperative",null,M,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{e.restoreHistory(s,!0);const E=new s0(s.id,this.urlSerializer.serialize(s.extractedUrl),p,s.targetSnapshot??void 0);this.events.next(E);try{s.resolve(e.errorHandler(p))}catch(b){s.reject(b)}}return Ho.E}))}))}cancelNavigationTransition(e,s,l,d){const p=new Dp(e.id,this.urlSerializer.serialize(e.extractedUrl),s,l);this.events.next(p),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V0(n){return"imperative"!==n}let KC=(()=>{class n{buildTitle(e){let s,l=e.root;for(;void 0!==l;)s=this.getResolvedTitleForRoute(l)??s,l=l.children.find(d=>d.outlet===Mt);return s}getResolvedTitleForRoute(e){return e.data[oh]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(qw)},providedIn:"root"}),n})(),qw=(()=>{class n extends KC{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(Us))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(QC)},providedIn:"root"}),n})();class qC{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let QC=(()=>{class n extends qC{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=_.n5z(n)))(s||n)}}(),n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w_=new _.OlP("",{providedIn:"root",factory:()=>({})});let Jw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(Xw)},providedIn:"root"}),n})(),Xw=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,s){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XC(n){throw n}function eD(n,t,e){return t.parse("/")}const tD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this.options=(0,_.f3M)(w_,{optional:!0})||{},this.errorHandler=this.options.errorHandler||XC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||eD,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>He(void 0),this.urlHandlingStrategy=(0,_.f3M)(Jw),this.routeReuseStrategy=(0,_.f3M)(YC),this.titleStrategy=(0,_.f3M)(KC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Nc((0,_.f3M)(Eu,{optional:!0})??[]),this.navigationTransitions=(0,_.f3M)(C_),this.urlSerializer=(0,_.f3M)(pu),this.location=(0,_.f3M)(Ae),this.rootComponentType=null,this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ya,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=IC(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{const l={replaceUrl:!0},d=e.state?.navigationId?e.state:null;if(e.state){const E={...e.state};delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(l.state=E)}const p=this.parseUrl(e.url);this.scheduleNavigation(p,s,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(_h),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:l,queryParams:d,fragment:p,queryParamsHandling:E,preserveFragment:b}=s,M=l||this.routerState.root,F=b?this.currentUrlTree.fragment:p;let V=null;switch(E){case"merge":V={...this.currentUrlTree.queryParams,...d};break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=d||null}return null!==V&&(V=this.removeEmptyProps(V)),fC(M,this.currentUrlTree,e,V,F??null)}navigateByUrl(e,s={skipLocationChange:!1}){const l=qa(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function rD(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new _.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return s}isActive(e,s){let l;if(l=!0===s?{...tD}:!1===s?{...nD}:s,qa(e))return Gv(this.currentUrlTree,e,l);const d=this.parseUrl(e);return Gv(this.currentUrlTree,d,l)}removeEmptyProps(e){return Object.keys(e).reduce((s,l)=>{const d=e[l];return null!=d&&(s[l]=d),s},{})}scheduleNavigation(e,s,l,d,p){if(this.disposed)return Promise.resolve(!1);let E,b,M,F;return p?(E=p.resolve,b=p.reject,M=p.promise):M=new Promise((V,te)=>{E=V,b=te}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),F=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):F=0,this.navigationTransitions.handleNavigationRequest({targetPageId:F,source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:d,resolve:E,reject:b,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(V=>Promise.reject(V))}setBrowserUrl(e,s){const l=this.urlSerializer.serialize(e),d={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===l?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class o{}let h=(()=>{class n{constructor(e,s,l,d,p){this.router=e,this.injector=l,this.preloadingStrategy=d,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(jo(e=>e instanceof mu),fu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const l=[];for(const d of s){d.providers&&!d._injector&&(d._injector=(0,_.MMx)(d.providers,e,`Route: ${d.path}`));const p=d._injector??e,E=d._loadedInjector??p;d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent?l.push(this.preloadConfig(p,d)):(d.children||d._loadedRoutes)&&l.push(this.processRoutes(E,d.children??d._loadedRoutes))}return(0,gn.D)(l).pipe((0,dp.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let l;l=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):He(null);const d=l.pipe((0,Yr.z)(p=>null===p?He(void 0):(s._loadedRoutes=p.routes,s._loadedInjector=p.injector,this.processRoutes(p.injector??e,p.routes))));if(s.loadComponent&&!s._loadedComponent){const p=this.loader.loadComponent(s);return(0,gn.D)([d,p]).pipe((0,dp.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(qi),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(o),_.LFG(Ih))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m=new _.OlP("");let v=(()=>{class n{constructor(e,s,l,d,p={}){this.urlSerializer=e,this.transitions=s,this.viewportScroller=l,this.zone=d,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof r0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof mu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Xm&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){_.$Z()},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();function N(n,t){return{\u0275kind:n,\u0275providers:t}}function Be(){const n=(0,_.f3M)(_.zs3);return t=>{const e=n.get(_.z2F);if(t!==e.components[0])return;const s=n.get(qi),l=n.get(ze);1===n.get(ot)&&s.initialNavigation(),n.get(Rn,null,_.XFs.Optional)?.setUpPreloading(),n.get(m,null,_.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),l.closed||(l.next(),l.unsubscribe())}}const ze=new _.OlP("",{factory:()=>new lr.x}),ot=new _.OlP("",{providedIn:"root",factory:()=>1});const Rn=new _.OlP("");function iD(n){return N(0,[{provide:Rn,useExisting:h},{provide:o,useExisting:n}])}const sD=new _.OlP("ROUTER_FORROOT_GUARD"),cD=[Ae,{provide:pu,useClass:ch},qi,Qa,{provide:gh,useFactory:function A(n){return n.routerState.root},deps:[qi]},Ih,[]];function dD(){return new _.PXZ("Router",qi)}let oD=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[cD,[],{provide:Eu,multi:!0,useValue:e},{provide:sD,useFactory:gD,deps:[[qi,new _.FiY,new _.tp0]]},{provide:w_,useValue:s||{}},s?.useHash?{provide:Ze,useClass:_e}:{provide:Ze,useClass:ve},{provide:m,useFactory:()=>{const n=(0,_.f3M)(Oi),t=(0,_.f3M)(_.R0b),e=(0,_.f3M)(w_),s=(0,_.f3M)(C_),l=(0,_.f3M)(pu);return e.scrollOffset&&n.setOffset(e.scrollOffset),new v(l,s,n,t,e)}},s?.preloadingStrategy?iD(s.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:dD},s?.initialNavigation?mD(s):[],[{provide:aD,useFactory:Be},{provide:_.tb,multi:!0,useExisting:aD}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Eu,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(sD,8))},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[o_]}),n})();function gD(n){return"guarded"}function mD(n){return["disabled"===n.initialNavigation?N(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const t=(0,_.f3M)(qi);return()=>{t.setUpLocationChangeListener()}}},{provide:ot,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?N(2,[{provide:ot,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:t=>{const e=t.get(oe,Promise.resolve());return()=>e.then(()=>new Promise(l=>{const d=t.get(qi),p=t.get(ze);(function s(l){t.get(qi).events.pipe(jo(p=>p instanceof mu||p instanceof Dp||p instanceof s0),(0,it.U)(p=>p instanceof mu||p instanceof Dp&&(0===p.code||1===p.code)&&null),jo(p=>null!==p),Wo(1)).subscribe(()=>{l()})})(()=>{l(!0)}),d.afterPreactivation=()=>(l(!0),p.closed?He(void 0):p),d.initialNavigation()}))}}]).\u0275providers:[]]}const aD=new _.OlP("");class Bp{}function vD(n,t){if(1&n&&(_.TgZ(0,"li"),_._uU(1),_.qZA()),2&n){const e=t.$implicit;_.xp6(1),_.AsE(" Humidity : ",e.humidity," - Tempterature : ",e.humidity,"")}}Bp.\u0275fac=function(t){return new(t||Bp)},Bp.\u0275mod=_.oAB({type:Bp}),Bp.\u0275inj=_.cJS({imports:[oD.forRoot([]),oD]});class b_{constructor(t){this.db=t,this.title="Firebase Data",this.sensors=[],this.currentsensor=null,this.currentIndex=-1,this.temp=""}ngOnInit(){this.db.list("sensor").valueChanges().subscribe(e=>{this.sensors=e})}}b_.\u0275fac=function(t){return new(t||b_)(_.Y36(cp))},b_.\u0275cmp=_.Xpm({type:b_,selectors:[["app-root"]],decls:28,vars:2,consts:[["role","banner",1,"toolbar"],[1,"spacer"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","rocket-smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],[4,"ngFor","ngForOf"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(t,e){1&t&&(_.TgZ(0,"div",0)(1,"span"),_._uU(2,"Welcome"),_.qZA(),_._UZ(3,"div",1),_.qZA(),_.TgZ(4,"div",2)(5,"div",3),_.O4$(),_.TgZ(6,"svg",4)(7,"title"),_._uU(8,"Firebase data"),_.qZA()(),_.kcU(),_.TgZ(9,"span"),_._uU(10),_.qZA(),_.O4$(),_.TgZ(11,"svg",5)(12,"title"),_._uU(13,"Data"),_.qZA(),_._UZ(14,"path",6),_.qZA()(),_.kcU(),_.TgZ(15,"h2"),_._uU(16,"Sensor"),_.qZA(),_.TgZ(17,"p"),_._uU(18,"Here are the data of Temperature and humidity "),_.qZA(),_.TgZ(19,"div",7)(20,"ul"),_.YNc(21,vD,2,2,"li",8),_.qZA()(),_._UZ(22,"footer"),_.O4$(),_.TgZ(23,"svg",9)(24,"title"),_._uU(25,"hello"),_.qZA(),_._UZ(26,"path",10),_.qZA()(),_.kcU(),_._UZ(27,"router-outlet")),2&t&&(_.xp6(10),_.hij("",e.title," "),_.xp6(11),_.Q6J("ngForOf",e.sensors))},dependencies:[pi,E0],styles:['[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']});class Vp{}Vp.\u0275fac=function(t){return new(t||Vp)},Vp.\u0275mod=_.oAB({type:Vp,bootstrap:[b_]}),Vp.\u0275inj=_.cJS({imports:[Dl,Bp,Yn.hO.initializeApp({apiKey:"AIzaSyDTyCRUaE_vi6HyGyAZs7AunzJlh9BNQsQ",authDomain:"plant-1f218.firebaseapp.com",projectId:"plant-1f218",storageBucket:"plant-1f218.appspot.com",messagingSenderId:"270129739978",appId:"1:270129739978:web:6818c7417a670fffee9c33",databaseURL:"https://plant-1f218-default-rtdb.europe-west1.firebasedatabase.app/"}),qI]}),oi().bootstrapModule(Vp).catch(n=>console.error(n))},9751:(Ke,me,x)=>{x.d(me,{y:()=>ae});var _=x(930),q=x(727),O=x(8822),ie=x(9635),re=x(2416),se=x(576),ce=x(2806);let ae=(()=>{class Z{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const Fe=new Z;return Fe.source=this,Fe.operator=ye,Fe}subscribe(ye,Fe,Ze){const ue=function j(Z){return Z&&Z instanceof _.Lv||function B(Z){return Z&&(0,se.m)(Z.next)&&(0,se.m)(Z.error)&&(0,se.m)(Z.complete)}(Z)&&(0,q.Nn)(Z)}(ye)?ye:new _.Hp(ye,Fe,Ze);return(0,ce.x)(()=>{const{operator:ve,source:_e}=this;ue.add(ve?ve.call(ue,_e):_e?this._subscribe(ue):this._trySubscribe(ue))}),ue}_trySubscribe(ye){try{return this._subscribe(ye)}catch(Fe){ye.error(Fe)}}forEach(ye,Fe){return new(Fe=oe(Fe))((Ze,ue)=>{const ve=new _.Hp({next:_e=>{try{ye(_e)}catch(Ae){ue(Ae),ve.unsubscribe()}},error:ue,complete:Ze});this.subscribe(ve)})}_subscribe(ye){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(ye)}[O.L](){return this}pipe(...ye){return(0,ie.U)(ye)(this)}toPromise(ye){return new(ye=oe(ye))((Fe,Ze)=>{let ue;this.subscribe(ve=>ue=ve,ve=>Ze(ve),()=>Fe(ue))})}}return Z.create=Me=>new Z(Me),Z})();function oe(Z){var Me;return null!==(Me=Z??re.v.Promise)&&void 0!==Me?Me:Promise}},7579:(Ke,me,x)=>{x.d(me,{x:()=>ce});var _=x(9751),q=x(727);const ie=(0,x(3888).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=x(8737),se=x(2806);let ce=(()=>{class oe extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Z=new ae(this,this);return Z.operator=j,Z}_throwIfClosed(){if(this.closed)throw new ie}next(j){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(j)}})}error(j){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Z}=this;for(;Z.length;)Z.shift().error(j)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Z,isStopped:Me,observers:ye}=this;return Z||Me?q.Lc:(this.currentObservers=null,ye.push(j),new q.w0(()=>{this.currentObservers=null,(0,re.P)(ye,j)}))}_checkFinalizedStatuses(j){const{hasError:Z,thrownError:Me,isStopped:ye}=this;Z?j.error(Me):ye&&j.complete()}asObservable(){const j=new _.y;return j.source=this,j}}return oe.create=(B,j)=>new ae(B,j),oe})();class ae extends ce{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,Z;null===(Z=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Z||Z.call(j,B)}error(B){var j,Z;null===(Z=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Z||Z.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,Z;return null!==(Z=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==Z?Z:q.Lc}}},930:(Ke,me,x)=>{x.d(me,{Hp:()=>Ze,Lv:()=>Z});var _=x(576),q=x(727),O=x(2416),ie=x(7849),re=x(5032);const se=oe("C",void 0,void 0);function oe(Ce,pe,we){return{kind:Ce,value:pe,error:we}}var B=x(3410),j=x(2806);class Z extends q.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,q.Nn)(pe)&&pe.add(this)):this.destination=Ae}static create(pe,we,xe){return new Ze(pe,we,xe)}next(pe){this.isStopped?_e(function ae(Ce){return oe("N",Ce,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?_e(function ce(Ce){return oe("E",void 0,Ce)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?_e(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function ye(Ce,pe){return Me.call(Ce,pe)}class Fe{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:we}=this;if(we.next)try{we.next(pe)}catch(xe){ue(xe)}}error(pe){const{partialObserver:we}=this;if(we.error)try{we.error(pe)}catch(xe){ue(xe)}else ue(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(we){ue(we)}}}class Ze extends Z{constructor(pe,we,xe){let Te;if(super(),(0,_.m)(pe)||!pe)Te={next:pe??void 0,error:we??void 0,complete:xe??void 0};else{let U;this&&O.v.useDeprecatedNextContext?(U=Object.create(pe),U.unsubscribe=()=>this.unsubscribe(),Te={next:pe.next&&ye(pe.next,U),error:pe.error&&ye(pe.error,U),complete:pe.complete&&ye(pe.complete,U)}):Te=pe}this.destination=new Fe(Te)}}function ue(Ce){O.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ce):(0,ie.h)(Ce)}function _e(Ce,pe){const{onStoppedNotification:we}=O.v;we&&B.z.setTimeout(()=>we(Ce,pe))}const Ae={closed:!0,next:re.Z,error:function ve(Ce){throw Ce},complete:re.Z}},727:(Ke,me,x)=>{x.d(me,{Lc:()=>se,w0:()=>re,Nn:()=>ce});var _=x(576);const O=(0,x(3888).d)(oe=>function(j){oe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Z,Me)=>`${Me+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ie=x(8737);class re{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const ye of j)ye.remove(this);else j.remove(this);const{initialTeardown:Z}=this;if((0,_.m)(Z))try{Z()}catch(ye){B=ye instanceof O?ye.errors:[ye]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const ye of Me)try{ae(ye)}catch(Fe){B=B??[],Fe instanceof O?B=[...B,...Fe.errors]:B.push(Fe)}}if(B)throw new O(B)}}add(B){var j;if(B&&B!==this)if(this.closed)ae(B);else{if(B instanceof re){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,ie.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,ie.P)(j,B),B instanceof re&&B._removeParent(this)}}re.EMPTY=(()=>{const oe=new re;return oe.closed=!0,oe})();const se=re.EMPTY;function ce(oe){return oe instanceof re||oe&&"closed"in oe&&(0,_.m)(oe.remove)&&(0,_.m)(oe.add)&&(0,_.m)(oe.unsubscribe)}function ae(oe){(0,_.m)(oe)?oe():oe.unsubscribe()}},2416:(Ke,me,x)=>{x.d(me,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ke,me,x)=>{x.d(me,{E:()=>q});const q=new(x(9751).y)(re=>re.complete())},8996:(Ke,me,x)=>{x.d(me,{D:()=>pe});var _=x(8421),q=x(5363),O=x(9468),se=x(9751),ae=x(2202),oe=x(576),B=x(9672);function Z(we,xe){if(!we)throw new Error("Iterable cannot be null");return new se.y(Te=>{(0,B.f)(Te,xe,()=>{const U=we[Symbol.asyncIterator]();(0,B.f)(Te,xe,()=>{U.next().then(he=>{he.done?Te.complete():Te.next(he.value)})},0,!0)})})}var Me=x(3670),ye=x(8239),Fe=x(1144),Ze=x(6495),ue=x(2206),ve=x(4532),_e=x(3260);function pe(we,xe){return xe?function Ce(we,xe){if(null!=we){if((0,Me.c)(we))return function ie(we,xe){return(0,_.Xf)(we).pipe((0,O.R)(xe),(0,q.Q)(xe))}(we,xe);if((0,Fe.z)(we))return function ce(we,xe){return new se.y(Te=>{let U=0;return xe.schedule(function(){U===we.length?Te.complete():(Te.next(we[U++]),Te.closed||this.schedule())})})}(we,xe);if((0,ye.t)(we))return function re(we,xe){return(0,_.Xf)(we).pipe((0,O.R)(xe),(0,q.Q)(xe))}(we,xe);if((0,ue.D)(we))return Z(we,xe);if((0,Ze.T)(we))return function j(we,xe){return new se.y(Te=>{let U;return(0,B.f)(Te,xe,()=>{U=we[ae.h](),(0,B.f)(Te,xe,()=>{let he,z;try{({value:he,done:z}=U.next())}catch(Y){return void Te.error(Y)}z?Te.complete():Te.next(he)},0,!0)}),()=>(0,oe.m)(U?.return)&&U.return()})}(we,xe);if((0,_e.L)(we))return function Ae(we,xe){return Z((0,_e.Q)(we),xe)}(we,xe)}throw(0,ve.z)(we)}(we,xe):(0,_.Xf)(we)}},8421:(Ke,me,x)=>{x.d(me,{Xf:()=>Me});var _=x(655),q=x(1144),O=x(8239),ie=x(9751),re=x(3670),se=x(2206),ce=x(4532),ae=x(6495),oe=x(3260),B=x(576),j=x(7849),Z=x(8822);function Me(Ce){if(Ce instanceof ie.y)return Ce;if(null!=Ce){if((0,re.c)(Ce))return function ye(Ce){return new ie.y(pe=>{const we=Ce[Z.L]();if((0,B.m)(we.subscribe))return we.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,q.z)(Ce))return function Fe(Ce){return new ie.y(pe=>{for(let we=0;we<Ce.length&&!pe.closed;we++)pe.next(Ce[we]);pe.complete()})}(Ce);if((0,O.t)(Ce))return function Ze(Ce){return new ie.y(pe=>{Ce.then(we=>{pe.closed||(pe.next(we),pe.complete())},we=>pe.error(we)).then(null,j.h)})}(Ce);if((0,se.D)(Ce))return ve(Ce);if((0,ae.T)(Ce))return function ue(Ce){return new ie.y(pe=>{for(const we of Ce)if(pe.next(we),pe.closed)return;pe.complete()})}(Ce);if((0,oe.L)(Ce))return function _e(Ce){return ve((0,oe.Q)(Ce))}(Ce)}throw(0,ce.z)(Ce)}function ve(Ce){return new ie.y(pe=>{(function Ae(Ce,pe){var we,xe,Te,U;return(0,_.mG)(this,void 0,void 0,function*(){try{for(we=(0,_.KL)(Ce);!(xe=yield we.next()).done;)if(pe.next(xe.value),pe.closed)return}catch(he){Te={error:he}}finally{try{xe&&!xe.done&&(U=we.return)&&(yield U.call(we))}finally{if(Te)throw Te.error}}pe.complete()})})(Ce,pe).catch(we=>pe.error(we))})}},6451:(Ke,me,x)=>{x.d(me,{T:()=>se});var _=x(8189),q=x(8421),O=x(515),ie=x(7669),re=x(8996);function se(...ce){const ae=(0,ie.yG)(ce),oe=(0,ie._6)(ce,1/0),B=ce;return B.length?1===B.length?(0,q.Xf)(B[0]):(0,_.J)(oe)((0,re.D)(B,ae)):O.E}},5403:(Ke,me,x)=>{x.d(me,{x:()=>q});var _=x(930);function q(ie,re,se,ce,ae){return new O(ie,re,se,ce,ae)}class O extends _.Lv{constructor(re,se,ce,ae,oe,B){super(re),this.onFinalize=oe,this.shouldUnsubscribe=B,this._next=se?function(j){try{se(j)}catch(Z){re.error(Z)}}:super._next,this._error=ae?function(j){try{ae(j)}catch(Z){re.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(j){re.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(Ke,me,x)=>{x.d(me,{U:()=>O});var _=x(4482),q=x(5403);function O(ie,re){return(0,_.e)((se,ce)=>{let ae=0;se.subscribe((0,q.x)(ce,oe=>{ce.next(ie.call(re,oe,ae++))}))})}},8189:(Ke,me,x)=>{x.d(me,{J:()=>O});var _=x(5577),q=x(4671);function O(ie=1/0){return(0,_.z)(q.y,ie)}},5577:(Ke,me,x)=>{x.d(me,{z:()=>ae});var _=x(4004),q=x(8421),O=x(4482),ie=x(9672),re=x(5403),ce=x(576);function ae(oe,B,j=1/0){return(0,ce.m)(B)?ae((Z,Me)=>(0,_.U)((ye,Fe)=>B(Z,ye,Me,Fe))((0,q.Xf)(oe(Z,Me))),j):("number"==typeof B&&(j=B),(0,O.e)((Z,Me)=>function se(oe,B,j,Z,Me,ye,Fe,Ze){const ue=[];let ve=0,_e=0,Ae=!1;const Ce=()=>{Ae&&!ue.length&&!ve&&B.complete()},pe=xe=>ve<Z?we(xe):ue.push(xe),we=xe=>{ye&&B.next(xe),ve++;let Te=!1;(0,q.Xf)(j(xe,_e++)).subscribe((0,re.x)(B,U=>{Me?.(U),ye?pe(U):B.next(U)},()=>{Te=!0},void 0,()=>{if(Te)try{for(ve--;ue.length&&ve<Z;){const U=ue.shift();Fe?(0,ie.f)(B,Fe,()=>we(U)):we(U)}Ce()}catch(U){B.error(U)}}))};return oe.subscribe((0,re.x)(B,pe,()=>{Ae=!0,Ce()})),()=>{Ze?.()}}(Z,Me,oe,j)))}},5363:(Ke,me,x)=>{x.d(me,{Q:()=>ie});var _=x(9672),q=x(4482),O=x(5403);function ie(re,se=0){return(0,q.e)((ce,ae)=>{ce.subscribe((0,O.x)(ae,oe=>(0,_.f)(ae,re,()=>ae.next(oe),se),()=>(0,_.f)(ae,re,()=>ae.complete(),se),oe=>(0,_.f)(ae,re,()=>ae.error(oe),se)))})}},3099:(Ke,me,x)=>{x.d(me,{B:()=>re});var _=x(8421),q=x(7579),O=x(930),ie=x(4482);function re(ce={}){const{connector:ae=(()=>new q.x),resetOnError:oe=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=ce;return Z=>{let Me,ye,Fe,Ze=0,ue=!1,ve=!1;const _e=()=>{ye?.unsubscribe(),ye=void 0},Ae=()=>{_e(),Me=Fe=void 0,ue=ve=!1},Ce=()=>{const pe=Me;Ae(),pe?.unsubscribe()};return(0,ie.e)((pe,we)=>{Ze++,!ve&&!ue&&_e();const xe=Fe=Fe??ae();we.add(()=>{Ze--,0===Ze&&!ve&&!ue&&(ye=se(Ce,j))}),xe.subscribe(we),!Me&&Ze>0&&(Me=new O.Hp({next:Te=>xe.next(Te),error:Te=>{ve=!0,_e(),ye=se(Ae,oe,Te),xe.error(Te)},complete:()=>{ue=!0,_e(),ye=se(Ae,B),xe.complete()}}),(0,_.Xf)(pe).subscribe(Me))})(Z)}}function se(ce,ae,...oe){if(!0===ae)return void ce();if(!1===ae)return;const B=new O.Hp({next:()=>{B.unsubscribe(),ce()}});return ae(...oe).subscribe(B)}},9468:(Ke,me,x)=>{x.d(me,{R:()=>q});var _=x(4482);function q(O,ie=0){return(0,_.e)((re,se)=>{se.add(O.schedule(()=>re.subscribe(se),ie))})}},8505:(Ke,me,x)=>{x.d(me,{b:()=>re});var _=x(576),q=x(4482),O=x(5403),ie=x(4671);function re(se,ce,ae){const oe=(0,_.m)(se)||ce||ae?{next:se,error:ce,complete:ae}:se;return oe?(0,q.e)((B,j)=>{var Z;null===(Z=oe.subscribe)||void 0===Z||Z.call(oe);let Me=!0;B.subscribe((0,O.x)(j,ye=>{var Fe;null===(Fe=oe.next)||void 0===Fe||Fe.call(oe,ye),j.next(ye)},()=>{var ye;Me=!1,null===(ye=oe.complete)||void 0===ye||ye.call(oe),j.complete()},ye=>{var Fe;Me=!1,null===(Fe=oe.error)||void 0===Fe||Fe.call(oe,ye),j.error(ye)},()=>{var ye,Fe;Me&&(null===(ye=oe.unsubscribe)||void 0===ye||ye.call(oe)),null===(Fe=oe.finalize)||void 0===Fe||Fe.call(oe)}))}):ie.y}},4408:(Ke,me,x)=>{x.d(me,{o:()=>re});var _=x(727);class q extends _.w0{constructor(ce,ae){super()}schedule(ce,ae=0){return this}}const O={setInterval(se,ce,...ae){const{delegate:oe}=O;return oe?.setInterval?oe.setInterval(se,ce,...ae):setInterval(se,ce,...ae)},clearInterval(se){const{delegate:ce}=O;return(ce?.clearInterval||clearInterval)(se)},delegate:void 0};var ie=x(8737);class re extends q{constructor(ce,ae){super(ce,ae),this.scheduler=ce,this.work=ae,this.pending=!1}schedule(ce,ae=0){var oe;if(this.closed)return this;this.state=ce;const B=this.id,j=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(j,B,ae)),this.pending=!0,this.delay=ae,this.id=null!==(oe=this.id)&&void 0!==oe?oe:this.requestAsyncId(j,this.id,ae),this}requestAsyncId(ce,ae,oe=0){return O.setInterval(ce.flush.bind(ce,this),oe)}recycleAsyncId(ce,ae,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return ae;null!=ae&&O.clearInterval(ae)}execute(ce,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ce,ae);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,ae){let B,oe=!1;try{this.work(ce)}catch(j){oe=!0,B=j||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:ce,scheduler:ae}=this,{actions:oe}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(oe,this),null!=ce&&(this.id=this.recycleAsyncId(ae,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ke,me,x)=>{x.d(me,{v:()=>O});var _=x(6063);class q{constructor(re,se=q.now){this.schedulerActionCtor=re,this.now=se}schedule(re,se=0,ce){return new this.schedulerActionCtor(this,re).schedule(ce,se)}}q.now=_.l.now;class O extends q{constructor(re,se=q.now){super(re,se),this.actions=[],this._active=!1}flush(re){const{actions:se}=this;if(this._active)return void se.push(re);let ce;this._active=!0;do{if(ce=re.execute(re.state,re.delay))break}while(re=se.shift());if(this._active=!1,ce){for(;re=se.shift();)re.unsubscribe();throw ce}}}},4986:(Ke,me,x)=>{x.d(me,{z:()=>O});var _=x(4408);const O=new(x(7565).v)(_.o)},6063:(Ke,me,x)=>{x.d(me,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(Ke,me,x)=>{x.d(me,{z:()=>_});const _={setTimeout(q,O,...ie){const{delegate:re}=_;return re?.setTimeout?re.setTimeout(q,O,...ie):setTimeout(q,O,...ie)},clearTimeout(q){const{delegate:O}=_;return(O?.clearTimeout||clearTimeout)(q)},delegate:void 0}},2202:(Ke,me,x)=>{x.d(me,{h:()=>q});const q=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ke,me,x)=>{x.d(me,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ke,me,x)=>{x.d(me,{_6:()=>se,jO:()=>ie,yG:()=>re});var _=x(576);function O(ce){return ce[ce.length-1]}function ie(ce){return(0,_.m)(O(ce))?ce.pop():void 0}function re(ce){return function q(ce){return ce&&(0,_.m)(ce.schedule)}(O(ce))?ce.pop():void 0}function se(ce,ae){return"number"==typeof O(ce)?ce.pop():ae}},8737:(Ke,me,x)=>{function _(q,O){if(q){const ie=q.indexOf(O);0<=ie&&q.splice(ie,1)}}x.d(me,{P:()=>_})},3888:(Ke,me,x)=>{function _(q){const ie=q(re=>{Error.call(re),re.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}x.d(me,{d:()=>_})},2806:(Ke,me,x)=>{x.d(me,{O:()=>ie,x:()=>O});var _=x(2416);let q=null;function O(re){if(_.v.useDeprecatedSynchronousErrorHandling){const se=!q;if(se&&(q={errorThrown:!1,error:null}),re(),se){const{errorThrown:ce,error:ae}=q;if(q=null,ce)throw ae}}else re()}function ie(re){_.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=re)}},9672:(Ke,me,x)=>{function _(q,O,ie,re=0,se=!1){const ce=O.schedule(function(){ie(),se?q.add(this.schedule(null,re)):this.unsubscribe()},re);if(q.add(ce),!se)return ce}x.d(me,{f:()=>_})},4671:(Ke,me,x)=>{function _(q){return q}x.d(me,{y:()=>_})},1144:(Ke,me,x)=>{x.d(me,{z:()=>_});const _=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(Ke,me,x)=>{x.d(me,{D:()=>q});var _=x(576);function q(O){return Symbol.asyncIterator&&(0,_.m)(O?.[Symbol.asyncIterator])}},576:(Ke,me,x)=>{function _(q){return"function"==typeof q}x.d(me,{m:()=>_})},3670:(Ke,me,x)=>{x.d(me,{c:()=>O});var _=x(8822),q=x(576);function O(ie){return(0,q.m)(ie[_.L])}},6495:(Ke,me,x)=>{x.d(me,{T:()=>O});var _=x(2202),q=x(576);function O(ie){return(0,q.m)(ie?.[_.h])}},8239:(Ke,me,x)=>{x.d(me,{t:()=>q});var _=x(576);function q(O){return(0,_.m)(O?.then)}},3260:(Ke,me,x)=>{x.d(me,{L:()=>ie,Q:()=>O});var _=x(655),q=x(576);function O(re){return(0,_.FC)(this,arguments,function*(){const ce=re.getReader();try{for(;;){const{value:ae,done:oe}=yield(0,_.qq)(ce.read());if(oe)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(ae)}}finally{ce.releaseLock()}})}function ie(re){return(0,q.m)(re?.getReader)}},4482:(Ke,me,x)=>{x.d(me,{A:()=>q,e:()=>O});var _=x(576);function q(ie){return(0,_.m)(ie?.lift)}function O(ie){return re=>{if(q(re))return re.lift(function(se){try{return ie(se,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ke,me,x)=>{function _(){}x.d(me,{Z:()=>_})},9635:(Ke,me,x)=>{x.d(me,{U:()=>O,z:()=>q});var _=x(4671);function q(...ie){return O(ie)}function O(ie){return 0===ie.length?_.y:1===ie.length?ie[0]:function(se){return ie.reduce((ce,ae)=>ae(ce),se)}}},7849:(Ke,me,x)=>{x.d(me,{h:()=>O});var _=x(2416),q=x(3410);function O(ie){q.z.setTimeout(()=>{const{onUnhandledError:re}=_.v;if(!re)throw ie;re(ie)})}},4532:(Ke,me,x)=>{function _(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(me,{z:()=>_})},655:(Ke,me,x)=>{function ie(z,Y){var ne={};for(var X in z)Object.prototype.hasOwnProperty.call(z,X)&&Y.indexOf(X)<0&&(ne[X]=z[X]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(X=Object.getOwnPropertySymbols(z);Pe<X.length;Pe++)Y.indexOf(X[Pe])<0&&Object.prototype.propertyIsEnumerable.call(z,X[Pe])&&(ne[X[Pe]]=z[X[Pe]])}return ne}function ae(z,Y,ne,X){return new(ne||(ne=Promise))(function(Se,qe){function Lt(Dt){try{_t(X.next(Dt))}catch(Qe){qe(Qe)}}function jt(Dt){try{_t(X.throw(Dt))}catch(Qe){qe(Qe)}}function _t(Dt){Dt.done?Se(Dt.value):function Pe(Se){return Se instanceof ne?Se:new ne(function(qe){qe(Se)})}(Dt.value).then(Lt,jt)}_t((X=X.apply(z,Y||[])).next())})}function ue(z){return this instanceof ue?(this.v=z,this):new ue(z)}function ve(z,Y,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,X=ne.apply(z,Y||[]),Se=[];return Pe={},qe("next"),qe("throw"),qe("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function qe(Nt){X[Nt]&&(Pe[Nt]=function($n){return new Promise(function(Xn,Je){Se.push([Nt,$n,Xn,Je])>1||Lt(Nt,$n)})})}function Lt(Nt,$n){try{!function jt(Nt){Nt.value instanceof ue?Promise.resolve(Nt.value.v).then(_t,Dt):Qe(Se[0][2],Nt)}(X[Nt]($n))}catch(Xn){Qe(Se[0][3],Xn)}}function _t(Nt){Lt("next",Nt)}function Dt(Nt){Lt("throw",Nt)}function Qe(Nt,$n){Nt($n),Se.shift(),Se.length&&Lt(Se[0][0],Se[0][1])}}function Ae(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,Y=z[Symbol.asyncIterator];return Y?Y.call(z):(z=function Z(z){var Y="function"==typeof Symbol&&Symbol.iterator,ne=Y&&z[Y],X=0;if(ne)return ne.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&X>=z.length&&(z=void 0),{value:z&&z[X++],done:!z}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),ne={},X("next"),X("throw"),X("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function X(Se){ne[Se]=z[Se]&&function(qe){return new Promise(function(Lt,jt){!function Pe(Se,qe,Lt,jt){Promise.resolve(jt).then(function(_t){Se({value:_t,done:Lt})},qe)}(Lt,jt,(qe=z[Se](qe)).done,qe.value)})}}}x.d(me,{FC:()=>ve,KL:()=>Ae,_T:()=>ie,mG:()=>ae,qq:()=>ue})},4650:(Ke,me,x)=>{x.d(me,{$8M:()=>zu,$Z:()=>ny,AFp:()=>bp,AaK:()=>ae,AsE:()=>lm,CRH:()=>zm,CZH:()=>jc,CqO:()=>Ay,D6c:()=>QC,EJc:()=>Sp,F4k:()=>Sy,FYo:()=>yg,FiY:()=>wa,GfV:()=>F_,JOm:()=>yr,LFG:()=>Ne,Lbi:()=>i_,Lck:()=>ZI,MMx:()=>cp,NdJ:()=>Xg,O4$:()=>as,OlP:()=>Vt,P3R:()=>Qh,PXZ:()=>Mp,Q6J:()=>Bf,QGY:()=>Jg,QP$:()=>In,Qsj:()=>nf,R0b:()=>Ur,RDi:()=>Hi,Rgc:()=>ah,SBq:()=>ka,Sil:()=>I0,Suo:()=>Wm,TTD:()=>oo,TgZ:()=>Kd,X6Q:()=>NC,XFs:()=>Xe,Xpm:()=>eo,Xts:()=>Wl,Y36:()=>Ua,YKP:()=>Rv,YNc:()=>Gd,Yjl:()=>no,Yz7:()=>Je,Z0I:()=>er,ZZ4:()=>Ih,_UZ:()=>Si,_Vd:()=>xo,_c5:()=>YC,_uU:()=>Qd,aQg:()=>Up,c2e:()=>v0,cJS:()=>Cr,cg1:()=>ep,dDg:()=>vh,dqk:()=>ht,eFA:()=>A0,eoX:()=>Hc,f3M:()=>$e,g9A:()=>y0,h0i:()=>hu,hGG:()=>qC,hij:()=>am,iGM:()=>mp,ifc:()=>Rt,ip1:()=>n_,jDz:()=>Zi,kL8:()=>fm,kcU:()=>xn,lG2:()=>to,lqb:()=>Gl,lri:()=>D0,n5z:()=>wl,oAB:()=>tn,q4F:()=>Qt,qLn:()=>Yl,qZA:()=>Yd,rWj:()=>b0,sBO:()=>Op,sIi:()=>Mc,s_b:()=>pp,soG:()=>Qa,tb:()=>s_,tp0:()=>w,uIk:()=>Ff,vHH:()=>ue,vpe:()=>sn,wAp:()=>ct,xp6:()=>cf,z2F:()=>zc,zSh:()=>pg,zs3:()=>Ql});var _=x(7579),q=x(727),O=x(9751),ie=x(6451),re=x(3099);function se(r){for(let i in r)if(r[i]===se)return i;throw Error("Could not find renamed property on target object.")}function ae(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ae).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function oe(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const B=se({__forward_ref__:se});function j(r){return r.__forward_ref__=j,r.toString=function(){return ae(this())},r}function Z(r){return Me(r)?r():r}function Me(r){return"function"==typeof r&&r.hasOwnProperty(B)&&r.__forward_ref__===j}function ye(r){return r&&!!r.\u0275providers}const Ze="https://g.co/ng/security#xss";class ue extends Error{constructor(i,o){super(function ve(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function _e(r){return"string"==typeof r?r:null==r?"":String(r)}function xe(r,i){throw new ue(-201,!1)}function Dt(r,i){null==r&&function Qe(r,i,o,a){throw new Error(`ASSERTION ERROR: ${r}`+(null==a?"":` [Expected=> ${o} ${a} ${i} <=Actual]`))}(i,r,null,"!=")}function Je(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Cr(r){return{providers:r.providers||[],imports:r.imports||[]}}function ur(r){return jn(r,tr)||jn(r,Ht)}function er(r){return null!==ur(r)}function jn(r,i){return r.hasOwnProperty(i)?r[i]:null}function wr(r){return r&&(r.hasOwnProperty(Ri)||r.hasOwnProperty(cr))?r[Ri]:null}const tr=se({\u0275prov:se}),Ri=se({\u0275inj:se}),Ht=se({ngInjectableDef:se}),cr=se({ngInjectorDef:se});var Xe=(()=>((Xe=Xe||{})[Xe.Default=0]="Default",Xe[Xe.Host=1]="Host",Xe[Xe.Self=2]="Self",Xe[Xe.SkipSelf=4]="SkipSelf",Xe[Xe.Optional=8]="Optional",Xe))();let hi;function Jt(r){const i=hi;return hi=r,i}function Hn(r,i,o){const a=ur(r);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Xe.Optional?null:void 0!==i?i:void xe(ae(r))}const ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xt={},Yt="__NG_DI_FLAG__",Vr="ngTempTokenPath",Is=/\n/gm,Jr="__source";let Pt;function Wn(r){const i=Pt;return Pt=r,i}function Xr(r,i=Xe.Default){if(void 0===Pt)throw new ue(-203,!1);return null===Pt?Hn(r,void 0,i):Pt.get(r,i&Xe.Optional?null:void 0,i)}function Ne(r,i=Xe.Default){return(function Br(){return hi}()||Xr)(Z(r),i)}function $e(r,i=Xe.Default){return Ne(r,lt(i))}function lt(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function dt(r){const i=[];for(let o=0;o<r.length;o++){const a=Z(r[o]);if(Array.isArray(a)){if(0===a.length)throw new ue(900,!1);let u,h=Xe.Default;for(let m=0;m<a.length;m++){const v=a[m],I=$(v);"number"==typeof I?-1===I?u=v.token:h|=I:u=v}i.push(Ne(u,h))}else i.push(Ne(a))}return i}function yt(r,i){return r[Yt]=i,r.prototype[Yt]=i,r}function $(r){return r[Yt]}function de(r){return{toString:r}.toString()}var J=(()=>((J=J||{})[J.OnPush=0]="OnPush",J[J.Default=1]="Default",J))(),Rt=(()=>{return(r=Rt||(Rt={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Rt;var r})();const en={},nt=[],Pn=se({\u0275cmp:se}),bt=se({\u0275dir:se}),Dn=se({\u0275pipe:se}),Cs=se({\u0275mod:se}),zn=se({\u0275fac:se}),Xs=se({__NG_ELEMENT_ID__:se});let Gc=0;function eo(r){return de(()=>{const o=!0===r.standalone,a={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===J.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||nt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Rt.Emulated,id:"c"+Gc++,styles:r.styles||nt,_:null,setInput:null,schemas:r.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},h=r.dependencies,m=r.features;return u.inputs=el(r.inputs,a),u.outputs=el(r.outputs),m&&m.forEach(v=>v(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(Xa).filter(Iu):null,u.pipeDefs=h?()=>("function"==typeof h?h():h).map(cn).filter(Iu):null,u})}function Xa(r){return Ot(r)||bn(r)}function Iu(r){return null!==r}function tn(r){return de(()=>({type:r.type,bootstrap:r.bootstrap||nt,declarations:r.declarations||nt,imports:r.imports||nt,exports:r.exports||nt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function el(r,i){if(null==r)return en;const o={};for(const a in r)if(r.hasOwnProperty(a)){let u=r[a],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=a,i&&(i[u]=h)}return o}const to=eo;function no(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Ot(r){return r[Pn]||null}function bn(r){return r[bt]||null}function cn(r){return r[Dn]||null}function In(r){const i=Ot(r)||bn(r)||cn(r);return null!==i&&i.standalone}function Gn(r,i){const o=r[Cs]||null;if(!o&&!0===i)throw new Error(`Type ${ae(r)} does not have '\u0275mod' property.`);return o}function hr(r){return Array.isArray(r)&&"object"==typeof r[1]}function $r(r){return Array.isArray(r)&&!0===r[1]}function ro(r){return 0!=(4&r.flags)}function jr(r){return r.componentOffset>-1}function tl(r){return 1==(1&r.flags)}function fr(r){return null!==r.template}function io(r){return 0!=(256&r[2])}function ns(r,i){return r.hasOwnProperty(zn)?r[zn]:null}class Oi{constructor(i,o,a){this.previousValue=i,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function oo(){return rs}function rs(r){return r.type.prototype.ngOnChanges&&(r.setInput=Xo),Jo}function Jo(){const r=ao(this),i=r?.current;if(i){const o=r.previous;if(o===en)r.previous=i;else for(let a in i)o[a]=i[a];r.current=null,this.ngOnChanges(i)}}function Xo(r,i,o,a){const u=this.declaredInputs[o],h=ao(r)||function ea(r,i){return r[is]=i}(r,{previous:en,current:null}),m=h.current||(h.current={}),v=h.previous,I=v[u];m[u]=new Oi(I&&I.currentValue,i,v===en),r[a]=i}oo.ngInherit=!0;const is="__ngSimpleChanges__";function ao(r){return r[is]||null}function fn(r){for(;Array.isArray(r);)r=r[0];return r}function Fn(r,i){return fn(i[r.index])}function Rs(r,i){return r.data[i]}function On(r,i){const o=i[r];return hr(o)?o:o[0]}function co(r){return 64==(64&r[2])}function ri(r,i){return null==i?null:r[i]}function ho(r){r[18]=0}function fo(r,i){r[5]+=i;let o=r,a=r[3];for(;null!==a&&(1===i&&1===o[5]||-1===i&&0===o[5]);)a[5]+=i,o=a,a=a[3]}const ft={lFrame:$p(null),bindingsEnabled:!0};function sa(){return ft.bindingsEnabled}function Ee(){return ft.lFrame.lView}function xt(){return ft.lFrame.tView}function Un(){let r=Ms();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ms(){return ft.lFrame.currentTNode}function Tr(r,i){const o=ft.lFrame;o.currentTNode=r,o.isParent=i}function aa(){return ft.lFrame.isParent}function mi(){return ft.lFrame.bindingIndex++}function cl(r,i){const o=ft.lFrame;o.bindingIndex=o.bindingRootIndex=r,Fu(i)}function Fu(r){ft.lFrame.currentDirectiveIndex=r}function Uu(){return ft.lFrame.currentQueryIndex}function dl(r){ft.lFrame.currentQueryIndex=r}function Bu(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Jc(r,i,o){if(o&Xe.SkipSelf){let u=i,h=r;for(;!(u=u.parent,null!==u||o&Xe.Host||(u=Bu(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;i=u,r=h}const a=ft.lFrame=Xc();return a.currentTNode=i,a.lView=r,!0}function la(r){const i=Xc(),o=r[1];ft.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Xc(){const r=ft.lFrame,i=null===r?null:r.child;return null===i?$p(r):i}function $p(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function bh(){const r=ft.lFrame;return ft.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const ua=bh;function Th(){const r=bh();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function pr(){return ft.lFrame.selectedIndex}function go(r){ft.lFrame.selectedIndex=r}function Gt(){const r=ft.lFrame;return Rs(r.tView,r.selectedIndex)}function as(){ft.lFrame.currentNamespace="svg"}function xn(){!function ed(){ft.lFrame.currentNamespace=null}()}function Ni(r,i){for(let o=i.directiveStart,a=i.directiveEnd;o<a;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:A}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),v&&((r.contentHooks||(r.contentHooks=[])).push(o,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,v)),I&&(r.viewHooks||(r.viewHooks=[])).push(-o,I),D&&((r.viewHooks||(r.viewHooks=[])).push(o,D),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,D)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(o,A)}}function Ar(r,i,o){pl(r,i,3,o)}function ca(r,i,o,a){(3&r[2])===o&&pl(r,i,o,a)}function Wr(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function pl(r,i,o,a){const h=a??-1,m=i.length-1;let v=0;for(let I=void 0!==a?65535&r[18]:0;I<m;I++)if("number"==typeof i[I+1]){if(v=i[I],null!=a&&v>=a)break}else i[I]<0&&(r[18]+=65536),(v<h||-1==h)&&(Vu(r,o,i,I),r[18]=(4294901760&r[18])+I+2),I++}function Vu(r,i,o,a){const u=o[a]<0,h=o[a+1],v=r[u?-o[a]:o[a]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class mo{constructor(i,o,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function qt(r,i,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const h=o[a++],m=o[a++],v=o[a++];r.setAttribute(i,m,v,h)}else{const h=u,m=o[++a];ks(h)?r.setProperty(i,h,m):r.setAttribute(i,h,m),a++}}return a}function Ns(r){return 3===r||4===r||6===r}function ks(r){return 64===r.charCodeAt(0)}function Li(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?o=u:0===o||da(r,o,u,null,-1===o||2===o?i[++a]:null)}}return r}function da(r,i,o,a,u){let h=0,m=r.length;if(-1===i)m=-1;else for(;h<r.length;){const v=r[h++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=h-1;break}}}for(;h<r.length;){const v=r[h];if("number"==typeof v)break;if(v===o){if(null===a)return void(null!==u&&(r[h+1]=u));if(a===r[h+1])return void(r[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==m&&(r.splice(m,0,i),h=m+1),r.splice(h++,0,o),null!==a&&r.splice(h++,0,a),null!==u&&r.splice(h++,0,u)}function ju(r){return-1!==r}function ha(r){return 32767&r}function Ls(r,i){let o=function fa(r){return r>>16}(r),a=i;for(;o>0;)a=a[15],o--;return a}let _i=!0;function pa(r){const i=_i;return _i=r,i}let ma=0;const sr={};function Fs(r,i){const o=yo(r,i);if(-1!==o)return o;const a=i[1];a.firstCreatePass&&(r.injectorIndex=i.length,us(a.data,r),us(i,null),us(a.blueprint,null));const u=_a(r,i),h=r.injectorIndex;if(ju(u)){const m=ha(u),v=Ls(u,i),I=v[1].data;for(let D=0;D<8;D++)i[h+D]=v[m+D]|I[m+D]}return i[h+8]=u,h}function us(r,i){r.push(0,0,0,0,0,0,0,0,i)}function yo(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function _a(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,a=null,u=i;for(;null!==u;){if(a=Wu(u),null===a)return-1;if(o++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function vl(r,i,o){!function yl(r,i,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Xs)&&(a=o[Xs]),null==a&&(a=o[Xs]=ma++);const u=255&a;i.data[r+(u>>5)]|=1<<u}(r,i,o)}function yi(r,i,o){if(o&Xe.Optional||void 0!==r)return r;xe()}function El(r,i,o,a){if(o&Xe.Optional&&void 0===a&&(a=null),0==(o&(Xe.Self|Xe.Host))){const u=r[9],h=Jt(void 0);try{return u?u.get(i,a,o&Xe.Optional):Hn(i,a,o&Xe.Optional)}finally{Jt(h)}}return yi(a,0,o)}function nd(r,i,o,a=Xe.Default,u){if(null!==r){if(1024&i[2]){const m=function id(r,i,o,a,u){let h=r,m=i;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const v=zr(h,m,o,a|Xe.Self,sr);if(v!==sr)return v;let I=h.parent;if(!I){const D=m[21];if(D){const A=D.get(o,sr,a);if(A!==sr)return A}I=Wu(m),m=m[15]}h=I}return u}(r,i,o,a,sr);if(m!==sr)return m}const h=zr(r,i,o,a,sr);if(h!==sr)return h}return El(i,o,a,u)}function zr(r,i,o,a,u){const h=function Cl(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Xs)?r[Xs]:void 0;return"number"==typeof i?i>=0?255&i:rd:i}(o);if("function"==typeof h){if(!Jc(i,r,a))return a&Xe.Host?yi(u,0,a):El(i,o,a,u);try{const m=h(a);if(null!=m||a&Xe.Optional)return m;xe()}finally{ua()}}else if("number"==typeof h){let m=null,v=yo(r,i),I=-1,D=a&Xe.Host?i[16][6]:null;for((-1===v||a&Xe.SkipSelf)&&(I=-1===v?_a(r,i):i[v+8],-1!==I&&oi(a,!1)?(m=i[1],v=ha(I),i=Ls(I,i)):v=-1);-1!==v;){const A=i[1];if(ya(h,v,A.data)){const N=Il(v,i,o,m,a,D);if(N!==sr)return N}I=i[v+8],-1!==I&&oi(a,i[1].data[v+8]===D)&&ya(h,v,i)?(m=A,v=ha(I),i=Ls(I,i)):v=-1}}return u}function Il(r,i,o,a,u,h){const m=i[1],v=m.data[r+8],A=vo(v,m,o,null==a?jr(v)&&_i:a!=m&&0!=(3&v.type),u&Xe.Host&&h===v);return null!==A?Gr(i,m,A,v):sr}function vo(r,i,o,a,u){const h=r.providerIndexes,m=i.data,v=1048575&h,I=r.directiveStart,A=h>>20,H=u?v+A:r.directiveEnd;for(let Q=a?v:v+A;Q<H;Q++){const fe=m[Q];if(Q<I&&o===fe||Q>=I&&fe.type===o)return Q}if(u){const Q=m[I];if(Q&&fr(Q)&&Q.type===o)return I}return null}function Gr(r,i,o,a){let u=r[o];const h=i.data;if(function Rr(r){return r instanceof mo}(u)){const m=u;m.resolving&&function Ce(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new ue(-200,`Circular dependency in DI detected for ${r}${o}`)}(function Ae(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():_e(r)}(h[o]));const v=pa(m.canSeeViewProviders);m.resolving=!0;const I=m.injectImpl?Jt(m.injectImpl):null;Jc(r,a,Xe.Default);try{u=r[o]=m.factory(void 0,h,r,a),i.firstCreatePass&&o>=a.directiveStart&&function td(r,i,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(a){const m=rs(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==I&&Jt(I),pa(v),m.resolving=!1,ua()}}return u}function ya(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function oi(r,i){return!(r&Xe.Self||r&Xe.Host&&i)}class Mr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,a){return nd(this._tNode,this._lView,i,lt(a),o)}}function rd(){return new Mr(Un(),Ee())}function wl(r){return de(()=>{const i=r.prototype.constructor,o=i[zn]||Dl(i),a=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==a;){const h=u[zn]||Dl(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Dl(r){return Me(r)?()=>{const i=Dl(Z(r));return i&&i()}:ns(r)}function Wu(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function zu(r){return function Hu(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const h=o[u];if(Ns(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(h===i)return o[u+1];u+=2}}}return null}(Un(),r)}const Us="__parameters__";function va(r,i,o){return de(()=>{const a=function sd(r){return function(...o){if(r){const a=r(...o);for(const u in a)this[u]=a[u]}}}(i);function u(...h){if(this instanceof u)return a.apply(this,h),this;const m=new u(...h);return v.annotation=m,v;function v(I,D,A){const N=I.hasOwnProperty(Us)?I[Us]:Object.defineProperty(I,Us,{value:[]})[Us];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(m),I}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class Vt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Je({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ai(r,i){r.forEach(o=>Array.isArray(o)?ai(o,i):i(o))}function Ia(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Co(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}const wa=yt(va("Optional"),8),w=yt(va("SkipSelf"),4);var yr=(()=>((yr=yr||{})[yr.Important=1]="Important",yr[yr.DashCase=2]="DashCase",yr))();const Ml=new Map;let Zp=0;const gd="__ngContext__";function or(r,i){hr(i)?(r[gd]=i[20],function Kp(r){Ml.set(r[20],r)}(i)):r[gd]=i}function xl(r,i){return undefined(r,i)}function js(r){const i=r[3];return $r(i)?i[3]:i}function So(r){return Lh(r[13])}function Nl(r){return Lh(r[4])}function Lh(r){for(;null!==r&&!$r(r);)r=r[4];return r}function Sa(r,i,o,a,u){if(null!=a){let h,m=!1;$r(a)?h=a:hr(a)&&(m=!0,a=a[0]);const v=fn(a);0===r&&null!==o?null==u?Aa(i,o,v):_s(i,o,v,u||null,!0):1===r&&null!==o?_s(i,o,v,u||null,!0):2===r?function Hs(r,i,o){const a=Bl(r,i);a&&function Fl(r,i,o,a){r.removeChild(i,o,a)}(r,a,i,o)}(i,v,m):3===r&&i.destroyNode(v),null!=h&&function Gh(r,i,o,a,u){const h=o[7];h!==fn(o)&&Sa(i,r,a,h,u);for(let v=10;v<o.length;v++){const I=o[v];Ra(I[1],I,r,i,a,h)}}(i,r,h,o,u)}}function kl(r,i,o){return r.createElement(i,o)}function Ll(r,i){const o=r[9],a=o.indexOf(i),u=i[3];512&i[2]&&(i[2]&=-513,fo(u,-1)),o.splice(a,1)}function Cd(r,i){if(r.length<=10)return;const o=10+i,a=r[o];if(a){const u=a[17];null!==u&&u!==r&&Ll(u,a),i>0&&(r[o-1][4]=a[4]);const h=Co(r,10+i);!function Bh(r,i){Ra(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(a[1],a);const m=h[19];null!==m&&m.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function wd(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Ra(r,i,o,3,null,null),function Id(r){let i=r[13];if(!i)return ic(r[1],r);for(;i;){let o=null;if(hr(i))o=i[13];else{const a=i[10];a&&(o=a)}if(!o){for(;i&&!i[4]&&i!==r;)hr(i)&&ic(i[1],i),i=i[3];null===i&&(i=r),hr(i)&&ic(i[1],i),o=i&&i[4]}i=o}}(i)}}function ic(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function tg(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let a=0;a<o.length;a+=2){const u=i[o[a]];if(!(u instanceof mo)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=u[h[m]],I=h[m+1];try{I.call(v)}finally{}}else try{h.call(u)}finally{}}}}(r,i),function $h(r,i){const o=r.cleanup,a=i[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?a[u=m]():a[u=-m].unsubscribe(),h+=2}else{const m=a[u=o[h+1]];o[h].call(m)}if(null!==a){for(let h=u+1;h<a.length;h++)(0,a[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&$r(i[3])){o!==i[3]&&Ll(o,i);const a=i[19];null!==a&&a.detachView(r)}!function Yp(r){Ml.delete(r[20])}(i)}}function jh(r,i,o){return function ms(r,i,o){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return o[0];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:h}=r.data[a.directiveStart+u];if(h===Rt.None||h===Rt.Emulated)return null}return Fn(a,o)}}(r,i.parent,o)}function _s(r,i,o,a,u){r.insertBefore(i,o,a,u)}function Aa(r,i,o){r.appendChild(i,o)}function Hh(r,i,o,a,u){null!==a?_s(r,i,o,a,u):Aa(r,i,o)}function Bl(r,i){return r.parentNode(i)}let Mo,Et,sc=function Dd(r,i,o){return 40&r.type?Fn(r,o):null};function ac(r,i,o,a){const u=jh(r,a,i),h=i[11],v=function Wh(r,i,o){return sc(r,i,o)}(a.parent||i[6],a,i);if(null!=u)if(Array.isArray(o))for(let I=0;I<o.length;I++)Hh(h,u,o[I],v,!1);else Hh(h,u,o,v,!1)}function Ro(r,i){if(null!==i){const o=i.type;if(3&o)return Fn(i,r);if(4&o)return ar(-1,r[i.index]);if(8&o){const a=i.child;if(null!==a)return Ro(r,a);{const u=r[i.index];return $r(u)?ar(-1,u):fn(u)}}if(32&o)return xl(i,r)()||fn(r[i.index]);{const a=zh(r,i);return null!==a?Array.isArray(a)?a[0]:Ro(js(r[16]),a):Ro(r,i.next)}}return null}function zh(r,i){return null!==i?r[16][6].projection[i.projection]:null}function ar(r,i){const o=10+r+1;if(o<i.length){const a=i[o],u=a[1].firstChild;if(null!==u)return Ro(a,u)}return i[7]}function Vl(r,i,o,a,u,h,m){for(;null!=o;){const v=a[o.index],I=o.type;if(m&&0===i&&(v&&or(fn(v),a),o.flags|=2),32!=(32&o.flags))if(8&I)Vl(r,i,o.child,a,u,h,!1),Sa(i,r,u,v,h);else if(32&I){const D=xl(o,a);let A;for(;A=D();)Sa(i,r,u,A,h);Sa(i,r,u,v,h)}else 16&I?$l(r,i,a,o,u,h):Sa(i,r,u,v,h);o=m?o.projectionNext:o.next}}function Ra(r,i,o,a,u,h){Vl(o,a,r.firstChild,i,u,h,!1)}function $l(r,i,o,a,u,h){const m=o[16],I=m[6].projection[a.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)Sa(i,r,u,I[D],h);else Vl(r,i,I,m[3],u,h,!0)}function ji(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function uc(r,i,o){const{mergedAttrs:a,classes:u,styles:h}=o;null!==a&&qt(r,i,a),null!==u&&ji(r,i,u),null!==h&&function lc(r,i,o){r.setAttribute(i,"style",o)}(r,i,h)}function Hi(r){Mo=r}function Kr(r){return function Vn(){if(void 0===Et&&(Et=null,ht.trustedTypes))try{Et=ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Et}()?.createScriptURL(r)||r}class Kh{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}function y(r){return r instanceof Kh?r.changingThisBreaksApplicationSecurity:r}function T(r,i){const o=function R(r){return r instanceof Kh&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Ze})`)}return o===i}const Ei=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Kt=(()=>((Kt=Kt||{})[Kt.NONE=0]="NONE",Kt[Kt.HTML=1]="HTML",Kt[Kt.STYLE=2]="STYLE",Kt[Kt.SCRIPT=3]="SCRIPT",Kt[Kt.URL=4]="URL",Kt[Kt.RESOURCE_URL=5]="RESOURCE_URL",Kt))();function M_(r){const i=Po();return i?i.sanitize(Kt.URL,r)||"":T(r,"URL")?y(r):function Ws(r){return(r=String(r)).match(Ei)?r:"unsafe:"+r}(_e(r))}function pc(r){const i=Po();if(i)return Kr(i.sanitize(Kt.RESOURCE_URL,r)||"");if(T(r,"ResourceURL"))return Kr(y(r));throw new ue(904,!1)}function Qh(r,i,o){return function Z0(r,i){return"src"===i&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===i&&("base"===r||"link"===r)?pc:M_}(i,o)(r)}function Po(){const r=Ee();return r&&r[12]}const Wl=new Vt("ENVIRONMENT_INITIALIZER"),P_=new Vt("INJECTOR",-1),Jh=new Vt("INJECTOR_DEF_TYPES");class gc{get(i,o=Xt){if(o===Xt){const a=new Error(`NullInjectorError: No provider for ${ae(i)}!`);throw a.name="NullInjectorError",a}return o}}function Xh(...r){return{\u0275providers:O_(0,r),\u0275fromNgModule:!0}}function O_(r,...i){const o=[],a=new Set;let u;return ai(i,h=>{const m=h;ug(m,o,[],a)&&(u||(u=[]),u.push(m))}),void 0!==u&&x_(u,o),o}function x_(r,i){for(let o=0;o<r.length;o++){const{providers:u}=r[o];cg(u,h=>{i.push(h)})}}function ug(r,i,o,a){if(!(r=Z(r)))return!1;let u=null,h=wr(r);const m=!h&&Ot(r);if(h||m){if(m&&!m.standalone)return!1;u=r}else{const I=r.ngModule;if(h=wr(I),!h)return!1;u=I}const v=a.has(u);if(m){if(v)return!1;if(a.add(u),m.dependencies){const I="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const D of I)ug(D,i,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let D;a.add(u);try{ai(h.imports,A=>{ug(A,i,o,a)&&(D||(D=[]),D.push(A))})}finally{}void 0!==D&&x_(D,i)}if(!v){const D=ns(u)||(()=>new u);i.push({provide:u,useFactory:D,deps:nt},{provide:Jh,useValue:u,multi:!0},{provide:Wl,useValue:()=>Ne(u),multi:!0})}const I=h.providers;null==I||v||cg(I,A=>{i.push(A)})}}return u!==r&&void 0!==r.providers}function cg(r,i){for(let o of r)ye(o)&&(o=o.\u0275providers),Array.isArray(o)?cg(o,i):i(o)}const dg=se({provide:String,useValue:se});function hg(r){return null!==r&&"object"==typeof r&&dg in r}function xa(r){return"function"==typeof r}const pg=new Vt("Set Injector scope."),zl={},mc={};let Nd;function _c(){return void 0===Nd&&(Nd=new gc),Nd}class Gl{}class k_ extends Gl{constructor(i,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yc(i,m=>this.processProvider(m)),this.records.set(P_,vr(void 0,this)),u.has("environment")&&this.records.set(Gl,vr(void 0,this));const h=this.records.get(pg);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Jh.multi,nt,Xe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Wn(this),a=Jt(void 0);try{return i()}finally{Wn(o),Jt(a)}}get(i,o=Xt,a=Xe.Default){this.assertNotDestroyed(),a=lt(a);const u=Wn(this),h=Jt(void 0);try{if(!(a&Xe.SkipSelf)){let v=this.records.get(i);if(void 0===v){const I=function _g(r){return"function"==typeof r||"object"==typeof r&&r instanceof Vt}(i)&&ur(i);v=I&&this.injectableDefInScope(I)?vr(tf(i),zl):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(a&Xe.Self?_c():this.parent).get(i,o=a&Xe.Optional&&o===Xt?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Vr]=m[Vr]||[]).unshift(ae(i)),u)throw m;return function L(r,i,o,a){const u=r[Vr];throw i[Jr]&&u.unshift(i[Jr]),r.message=function G(r,i,o,a=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=ae(i);if(Array.isArray(i))u=i.map(ae).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):ae(v)))}u=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${r.replace(Is,"\n  ")}`}("\n"+r.message,u,o,a),r.ngTokenPath=u,r[Vr]=null,r}(m,i,"R3InjectorError",this.source)}throw m}finally{Jt(h),Wn(u)}}resolveInjectorInitializers(){const i=Wn(this),o=Jt(void 0);try{const a=this.get(Wl.multi,nt,Xe.Self);for(const u of a)u()}finally{Wn(i),Jt(o)}}toString(){const i=[],o=this.records;for(const a of o.keys())i.push(ae(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(i){let o=xa(i=Z(i))?i:Z(i&&i.provide);const a=function q0(r){return hg(r)?vr(void 0,r.useValue):vr(function L_(r,i,o){let a;if(xa(r)){const u=Z(r);return ns(u)||tf(u)}if(hg(r))a=()=>Z(r.useValue);else if(function fg(r){return!(!r||!r.useFactory)}(r))a=()=>r.useFactory(...dt(r.deps||[]));else if(function xd(r){return!(!r||!r.useExisting)}(r))a=()=>Ne(Z(r.useExisting));else{const u=Z(r&&(r.useClass||r.provide));if(!function gg(r){return!!r.deps}(r))return ns(u)||tf(u);a=()=>new u(...dt(r.deps))}return a}(r),zl)}(i);if(xa(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=vr(void 0,zl,!0),u.factory=()=>dt(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,a)}hydrate(i,o){return o.value===zl&&(o.value=mc,o.value=o.factory()),"object"==typeof o.value&&o.value&&function mg(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Z(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function tf(r){const i=ur(r),o=null!==i?i.factory:ns(r);if(null!==o)return o;if(r instanceof Vt)throw new ue(204,!1);if(r instanceof Function)return function Y0(r){const i=r.length;if(i>0)throw function Bs(r,i){const o=[];for(let a=0;a<r;a++)o.push(i);return o}(i,"?"),new ue(204,!1);const o=function Qi(r){const i=r&&(r[tr]||r[Ht]);if(i){const o=function Ai(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new ue(204,!1)}function vr(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function yc(r,i){for(const o of r)Array.isArray(o)?yc(o,i):o&&ye(o)?yc(o.\u0275providers,i):i(o)}class kd{}class Na{}class Q0{resolveComponentFactory(i){throw function vc(r){const i=Error(`No component factory found for ${ae(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let xo=(()=>{class r{}return r.NULL=new Q0,r})();function J0(){return Ec(Un(),Ee())}function Ec(r,i){return new ka(Fn(r,i))}let ka=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=J0,r})();function Ld(r){return r instanceof ka?r.nativeElement:r}class yg{}let nf=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function Zl(){const r=Ee(),o=On(Un().index,r);return(hr(o)?o:r)[11]}(),r})(),vg=(()=>{class r{}return r.\u0275prov=Je({token:r,providedIn:"root",factory:()=>null}),r})();class F_{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Qt=new F_("15.0.3"),Ii={};function rf(r){return r.ngOriginalError}class Yl{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&rf(i);for(;o&&rf(o);)o=rf(o);return o||null}}function No(r){return r instanceof Function?r():r}function Cg(r,i,o){let a=r.length;for(;;){const u=r.indexOf(i,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const h=i.length;if(u+h===a||r.charCodeAt(u+h)<=32)return u}o=u+1}}const $_="ng-template";function nE(r,i,o){let a=0;for(;a<r.length;){let u=r[a++];if(o&&"class"===u){if(u=r[a],-1!==Cg(u.toLowerCase(),i,0))return!0}else if(1===u){for(;a<r.length&&"string"==typeof(u=r[a++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function j_(r){return 4===r.type&&r.value!==$_}function rE(r,i,o){return i===(4!==r.type||o?r.value:$_)}function iE(r,i,o){let a=4;const u=r.attrs||[],h=function uf(r){for(let i=0;i<r.length;i++)if(Ns(r[i]))return i;return r.length}(u);let m=!1;for(let v=0;v<i.length;v++){const I=i[v];if("number"!=typeof I){if(!m)if(4&a){if(a=2|1&a,""!==I&&!rE(r,I,o)||""===I&&1===i.length){if(vs(a))return!1;m=!0}}else{const D=8&a?I:i[++v];if(8&a&&null!==r.attrs){if(!nE(r.attrs,D,o)){if(vs(a))return!1;m=!0}continue}const N=af(8&a?"class":I,u,j_(r),o);if(-1===N){if(vs(a))return!1;m=!0;continue}if(""!==D){let H;H=N>h?"":u[N+1].toLowerCase();const Q=8&a?H:null;if(Q&&-1!==Cg(Q,D,0)||2&a&&D!==H){if(vs(a))return!1;m=!0}}}}else{if(!m&&!vs(a)&&!vs(I))return!1;if(m&&vs(I))continue;m=!1,a=I|1&a}}return vs(a)||m}function vs(r){return 0==(1&r)}function af(r,i,o,a){if(null===i)return-1;let u=0;if(a||!o){let h=!1;for(;u<i.length;){const m=i[u];if(m===r)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function sE(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const a=r[o];if("number"==typeof a)return-1;if(a===i)return o;o++}return-1}(i,r)}function lf(r,i,o=!1){for(let a=0;a<i.length;a++)if(iE(r,i[a],o))return!0;return!1}function Dg(r,i){return r?":not("+i.trim()+")":i}function W_(r){let i=r[0],o=1,a=2,u="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&a){const v=r[++o];u+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+m:4&a&&(u+=" "+m);else""!==u&&!vs(m)&&(i+=Dg(h,u),u=""),a=m,h=h||!vs(a);o++}return""!==u&&(i+=Dg(h,u)),i}const It={};function cf(r){z_(xt(),Ee(),pr()+r,!1)}function z_(r,i,o,a){if(!a)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&Ar(i,h,o)}else{const h=r.preOrderHooks;null!==h&&ca(i,h,0,o)}go(o)}function ff(r,i=null,o=null,a){const u=K_(r,i,o,a);return u.resolveInjectorInitializers(),u}function K_(r,i=null,o=null,a,u=new Set){const h=[o||nt,Xh(r)];return a=a||("object"==typeof r?void 0:ae(r)),new k_(h,i||_c(),a||null,u)}let Ql=(()=>{class r{static create(o,a){if(Array.isArray(o))return ff({name:""},a,o,"");{const u=o.name??"";return ff({name:u},o.parent,o.providers,u)}}}return r.THROW_IF_NOT_FOUND=Xt,r.NULL=new gc,r.\u0275prov=Je({token:r,providedIn:"any",factory:()=>Ne(P_)}),r.__NG_ELEMENT_ID__=-1,r})();function Ua(r,i=Xe.Default){const o=Ee();return null===o?Ne(r,i):nd(Un(),o,Z(r),i)}function ny(){throw new Error("invalid")}function Dc(r,i){const o=r.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const u=o[a],h=o[a+1];if(-1!==h){const m=r.data[h];dl(u),m.contentQueries(2,i[h],h)}}}function mf(r,i,o,a,u,h,m,v,I,D,A){const N=i.blueprint.slice();return N[0]=u,N[2]=76|a,(null!==A||r&&1024&r[2])&&(N[2]|=1024),ho(N),N[3]=N[15]=r,N[8]=o,N[10]=m||r&&r[10],N[11]=v||r&&r[11],N[12]=I||r&&r[12]||null,N[9]=D||r&&r[9]||null,N[6]=h,N[20]=function fd(){return Zp++}(),N[21]=A,N[16]=2==i.type?r[16]:N,N}function Fo(r,i,o,a,u){let h=r.data[i];if(null===h)h=function _f(r,i,o,a,u){const h=Ms(),m=aa(),I=r.data[i]=function xg(r,i,o,a,u,h){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,a,u);return null===r.firstChild&&(r.firstChild=I),null!==h&&(m?null==h.child&&null!==I.parent&&(h.child=I):null===h.next&&(h.next=I)),I}(r,i,o,a,u),function Dh(){return ft.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=u;const m=function oa(){const r=ft.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Tr(h,!0),h}function Ud(r,i,o,a){if(0===o)return-1;const u=i.length;for(let h=0;h<o;h++)i.push(a),r.blueprint.push(a),r.data.push(null);return u}function Bd(r,i,o){la(i);try{const a=r.viewQuery;null!==a&&$d(1,a,o);const u=r.template;null!==u&&ry(r,i,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Dc(r,i),r.staticViewQueries&&$d(2,r.viewQuery,o);const h=r.components;null!==h&&function IE(r,i){for(let o=0;o<i.length;o++)AE(r,i[o])}(i,h)}catch(a){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),a}finally{i[2]&=-5,Th()}}function Jl(r,i,o,a){const u=i[2];if(128!=(128&u)){la(i);try{ho(i),function ll(r){return ft.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&ry(r,i,o,2,a);const m=3==(3&u);if(m){const D=r.preOrderCheckHooks;null!==D&&Ar(i,D,null)}else{const D=r.preOrderHooks;null!==D&&ca(i,D,0,null),Wr(i,0)}if(function Bg(r){for(let i=So(r);null!==i;i=Nl(i)){if(!i[2])continue;const o=i[9];for(let a=0;a<o.length;a++){const u=o[a],h=u[3];0==(512&u[2])&&fo(h,1),u[2]|=512}}}(i),function SE(r){for(let i=So(r);null!==i;i=Nl(i))for(let o=10;o<i.length;o++){const a=i[o],u=a[1];co(a)&&Jl(u,a,u.template,a[8])}}(i),null!==r.contentQueries&&Dc(r,i),m){const D=r.contentCheckHooks;null!==D&&Ar(i,D)}else{const D=r.contentHooks;null!==D&&ca(i,D,1),Wr(i,1)}!function Ba(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const u=o[a];if(u<0)go(~u);else{const h=u,m=o[++a],v=o[++a];cl(m,h),v(2,i[h])}}}finally{go(-1)}}(r,i);const v=r.components;null!==v&&function EE(r,i){for(let o=0;o<i.length;o++)Sf(r,i[o])}(i,v);const I=r.viewQuery;if(null!==I&&$d(2,I,a),m){const D=r.viewCheckHooks;null!==D&&Ar(i,D)}else{const D=r.viewHooks;null!==D&&ca(i,D,2),Wr(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,fo(i[3],-1))}finally{Th()}}}function ry(r,i,o,a,u){const h=pr(),m=2&a;try{go(-1),m&&i.length>22&&z_(r,i,22,!1),o(a,u)}finally{go(h)}}function Va(r,i,o){if(ro(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}function yf(r,i,o){!sa()||(function kg(r,i,o,a){const u=o.directiveStart,h=o.directiveEnd;jr(o)&&function ly(r,i,o){const a=Fn(i,r),u=Pg(o),h=r[10],m=wi(r,mf(r,u,null,o.onPush?32:16,a,i,h,h.createRenderer(a,o),null,null,null));r[i.index]=m}(i,o,r.data[u+o.componentOffset]),r.firstCreatePass||Fs(o,i),or(a,i);const m=o.initialInputs;for(let v=u;v<h;v++){const I=r.data[v],D=Gr(i,r,v,o);or(D,i),null!==m&&Ug(0,v-u,D,I,0,m),fr(I)&&(On(o.index,i)[8]=Gr(i,r,v,o))}}(r,i,o,Fn(o,i)),64==(64&o.flags)&&Df(r,i,o))}function vf(r,i,o=Fn){const a=i.localNames;if(null!==a){let u=i.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],v=-1===m?o(i,r):r[m];r[u++]=v}}}function Pg(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Xl(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Xl(r,i,o,a,u,h,m,v,I,D){const A=22+a,N=A+u,H=function Ef(r,i){const o=[];for(let a=0;a<i;a++)o.push(a<r?null:It);return o}(A,N),Q="function"==typeof D?D():D;return H[1]={type:r,blueprint:H,template:o,queries:null,viewQuery:v,declTNode:i,data:H.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:I,consts:Q,incompleteFirstPass:!1}}function If(r,i,o,a){const u=Tc(i);null===o?u.push(a):(u.push(o),r.firstCreatePass&&cy(r).push(a,u.length-1))}function iy(r,i,o,a){for(let u in r)if(r.hasOwnProperty(u)){o=null===o?{}:o;const h=r[u];null===a?bc(o,i,u,h):a.hasOwnProperty(u)&&bc(o,i,a[u],h)}return o}function bc(r,i,o,a){r.hasOwnProperty(o)?r[o].push(i,a):r[o]=[i,a]}function Cf(r,i){const o=On(i,r);16&o[2]||(o[2]|=32)}function wf(r,i,o,a){let u=!1;if(sa()){const h=null===a?null:{"":-1},m=function bf(r,i){const o=r.directiveRegistry;let a=null,u=null;if(o)for(let h=0;h<o.length;h++){const m=o[h];if(lf(i,m.selectors,!1))if(a||(a=[]),fr(m))if(null!==m.findHostDirectiveDefs){const v=[];u=u||new Map,m.findHostDirectiveDefs(m,v,u),a.unshift(...v,m),Uo(r,i,v.length)}else a.unshift(m),Uo(r,i,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,a,u),a.push(m)}return null===a?null:[a,u]}(r,o);let v,I;null===m?v=I=null:[v,I]=m,null!==v&&(u=!0,sy(r,i,o,v,h,I)),h&&function Fg(r,i,o){if(i){const a=r.localNames=[];for(let u=0;u<i.length;u+=2){const h=o[i[u+1]];if(null==h)throw new ue(-301,!1);a.push(i[u],h)}}}(o,a,h)}return o.mergedAttrs=Li(o.mergedAttrs,o.attrs),u}function sy(r,i,o,a,u,h){for(let D=0;D<a.length;D++)vl(Fs(o,i),r,a[D].type);!function bE(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}(o,r.data.length,a.length);for(let D=0;D<a.length;D++){const A=a[D];A.providersResolver&&A.providersResolver(A)}let m=!1,v=!1,I=Ud(r,i,a.length,null);for(let D=0;D<a.length;D++){const A=a[D];o.mergedAttrs=Li(o.mergedAttrs,A.hostAttrs),Tf(r,o,i,I,A),ay(I,A,u),null!==A.contentQueries&&(o.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(o.flags|=64);const N=A.type.prototype;!m&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),m=!0),!v&&(N.ngOnChanges||N.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),v=!0),I++}!function CE(r,i,o){const u=i.directiveEnd,h=r.data,m=i.attrs,v=[];let I=null,D=null;for(let A=i.directiveStart;A<u;A++){const N=h[A],H=o?o.get(N):null,fe=H?H.outputs:null;I=iy(N.inputs,A,I,H?H.inputs:null),D=iy(N.outputs,A,D,fe);const Oe=null===I||null===m||j_(i)?null:TE(I,A,m);v.push(Oe)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=8),I.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=v,i.inputs=I,i.outputs=D}(r,o,h)}function Df(r,i,o){const a=o.directiveStart,u=o.directiveEnd,h=o.index,m=function po(){return ft.lFrame.currentDirectiveIndex}();try{go(h);for(let v=a;v<u;v++){const I=r.data[v],D=i[v];Fu(v),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Lg(I,D)}}finally{go(-1),Fu(m)}}function Lg(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Uo(r,i,o){i.componentOffset=o,(r.components||(r.components=[])).push(i.index)}function ay(r,i,o){if(o){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)o[i.exportAs[a]]=r;fr(i)&&(o[""]=r)}}function Tf(r,i,o,a,u){r.data[a]=u;const h=u.factory||(u.factory=ns(u.type)),m=new mo(h,fr(u),Ua);r.blueprint[a]=m,o[a]=m,function DE(r,i,o,a,u){const h=u.hostBindings;if(h){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const v=~i.index;(function oy(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(m)!=v&&m.push(v),m.push(o,a,h)}}(r,i,a,Ud(r,o,u.hostVars,It),u)}function zs(r,i,o,a,u,h){const m=Fn(r,i);!function eu(r,i,o,a,u,h,m){if(null==h)r.removeAttribute(i,u,o);else{const v=null==m?_e(h):m(h,a||"",u);r.setAttribute(i,u,v,o)}}(i[11],m,h,r.value,o,a,u)}function Ug(r,i,o,a,u,h){const m=h[i];if(null!==m){const v=a.setInput;for(let I=0;I<m.length;){const D=m[I++],A=m[I++],N=m[I++];null!==v?a.setInput(o,N,D,A):o[A]=N}}}function TE(r,i,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(r.hasOwnProperty(h)){null===a&&(a=[]);const m=r[h];for(let v=0;v<m.length;v+=2)if(m[v]===i){a.push(h,m[v+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function uy(r,i,o,a){return[r,!0,!1,i,null,0,a,o,null,null]}function Sf(r,i){const o=On(i,r);if(co(o)){const a=o[1];48&o[2]?Jl(a,o,a.template,o[8]):o[5]>0&&Af(o)}}function Af(r){for(let a=So(r);null!==a;a=Nl(a))for(let u=10;u<a.length;u++){const h=a[u];if(co(h))if(512&h[2]){const m=h[1];Jl(m,h,m.template,h[8])}else h[5]>0&&Af(h)}const o=r[1].components;if(null!==o)for(let a=0;a<o.length;a++){const u=On(o[a],r);co(u)&&u[5]>0&&Af(u)}}function AE(r,i){const o=On(i,r),a=o[1];(function Vd(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(a,o),Bd(a,o,o[8])}function wi(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function tu(r){for(;r;){r[2]|=32;const i=js(r);if(io(r)&&!i)return r;r=i}return null}function Rf(r,i,o,a=!0){const u=i[10];u.begin&&u.begin();try{Jl(r,i,r.template,o)}catch(m){throw a&&Vg(i,m),m}finally{u.end&&u.end()}}function $d(r,i,o){dl(0),i(r,o)}function Tc(r){return r[7]||(r[7]=[])}function cy(r){return r.cleanup||(r.cleanup=[])}function Vg(r,i){const o=r[9],a=o?o.get(Yl,null):null;a&&a.handleError(i)}function $g(r,i,o,a,u){for(let h=0;h<o.length;){const m=o[h++],v=o[h++],I=i[m],D=r.data[m];null!==D.setInput?D.setInput(I,u,a,v):I[v]=u}}function Wi(r,i,o){const a=function ss(r,i){return fn(i[r])}(i,r);!function Fh(r,i,o){r.setValue(i,o)}(r[11],a,o)}function jd(r,i,o){let a=o?r.styles:null,u=o?r.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?h=v:1==h?u=oe(u,v):2==h&&(a=oe(a,v+": "+i[++m]+";"))}o?r.styles=a:r.stylesWithoutHost=a,o?r.classes=u:r.classesWithoutHost=u}function xr(r,i,o,a,u=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&a.push(fn(h)),$r(h))for(let v=10;v<h.length;v++){const I=h[v],D=I[1].firstChild;null!==D&&xr(I[1],I,D,a)}const m=o.type;if(8&m)xr(r,i,o.child,a);else if(32&m){const v=xl(o,i);let I;for(;I=v();)a.push(I)}else if(16&m){const v=zh(i,o);if(Array.isArray(v))a.push(...v);else{const I=js(i[16]);xr(I[1],I,v,a,!0)}}o=u?o.projectionNext:o.next}return a}class Sc{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return xr(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if($r(i)){const o=i[8],a=o?o.indexOf(this):-1;a>-1&&(Cd(i,a),Co(o,a))}this._attachedToViewContainer=!1}wd(this._lView[1],this._lView)}onDestroy(i){If(this._lView[1],this._lView,null,i)}markForCheck(){tu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Rf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rc(r,i){Ra(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=i}}class ME extends Sc{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Rf(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class jg extends xo{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Ot(i);return new Ac(o,this.ngModule)}}function dy(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class OE{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,a){a=lt(a);const u=this.injector.get(i,Ii,a);return u!==Ii||o===Ii?u:this.parentInjector.get(i,o,a)}}class Ac extends Na{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function oE(r){return r.map(W_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return dy(this.componentDef.inputs)}get outputs(){return dy(this.componentDef.outputs)}create(i,o,a,u){let h=(u=u||this.ngModule)instanceof Gl?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new OE(i,h):i,v=m.get(yg,null);if(null===v)throw new ue(407,!1);const I=m.get(vg,null),D=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=a?function Og(r,i,o){return r.selectRootElement(i,o===Rt.ShadowDom)}(D,a,this.componentDef.encapsulation):kl(D,A,function PE(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(A)),H=this.componentDef.onPush?288:272,Q=Xl(0,null,null,1,0,null,null,null,null,null),fe=mf(null,Q,null,H,null,null,v,D,I,m,null);let Oe,Be;la(fe);try{const ze=this.componentDef;let ot,be=null;ze.findHostDirectiveDefs?(ot=[],be=new Map,ze.findHostDirectiveDefs(ze,ot,be),ot.push(ze)):ot=[ze];const Ct=function hy(r,i){const o=r[1];return r[22]=i,Fo(o,22,2,"#host",null)}(fe,N),yn=function NE(r,i,o,a,u,h,m,v){const I=u[1];!function Hg(r,i,o,a){for(const u of r)i.mergedAttrs=Li(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(jd(i,i.mergedAttrs,!0),null!==o&&uc(a,o,i))}(a,r,i,m);const D=h.createRenderer(i,o),A=mf(u,Pg(o),null,o.onPush?32:16,u[r.index],r,h,D,v||null,null,null);return I.firstCreatePass&&Uo(I,r,a.length-1),wi(u,A),u[r.index]=A}(Ct,N,ze,ot,fe,v,D);Be=Rs(Q,22),N&&function kE(r,i,o,a){if(a)qt(r,o,["ng-version",Qt.full]);else{const{attrs:u,classes:h}=function aE(r){const i=[],o=[];let a=1,u=2;for(;a<r.length;){let h=r[a];if("string"==typeof h)2===u?""!==h&&i.push(h,r[++a]):8===u&&o.push(h);else{if(!vs(u))break;u=h}a++}return{attrs:i,classes:o}}(i.selectors[0]);u&&qt(r,o,u),h&&h.length>0&&ji(r,o,h.join(" "))}}(D,ze,N,a),void 0!==o&&function Wg(r,i,o){const a=r.projection=[];for(let u=0;u<i.length;u++){const h=o[u];a.push(null!=h?Array.from(h):null)}}(Be,this.ngContentSelectors,o),Oe=function Pf(r,i,o,a,u,h){const m=Un(),v=u[1],I=Fn(m,u);sy(v,u,m,o,null,a);for(let A=0;A<o.length;A++)or(Gr(u,v,m.directiveStart+A,m),u);Df(v,u,m),I&&or(I,u);const D=Gr(u,v,m.directiveStart+m.componentOffset,m);if(r[8]=u[8]=D,null!==h)for(const A of h)A(D,i);return Va(v,m,r),D}(yn,ze,ot,be,fe,[LE]),Bd(Q,fe,null)}finally{Th()}return new Hd(this.componentType,Oe,Ec(Be,fe),fe,Be)}}class Hd extends kd{constructor(i,o,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new ME(u),this.componentType=i}setInput(i,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[i])){const h=this._rootLView;$g(h[1],h,u,i,o),Cf(h,this._tNode.index)}}get injector(){return new Mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function LE(){const r=Un();Ni(Ee()[1],r)}let Nf=null;function ja(){if(!Nf){const r=ht.Symbol;if(r&&r.iterator)Nf=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const a=i[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Nf=a)}}}return Nf}function Mc(r){return!!Wd(r)&&(Array.isArray(r)||!(r instanceof Map)&&ja()in r)}function Wd(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Nr(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Ff(r,i,o,a){const u=Ee();return Nr(u,mi(),i)&&(xt(),zs(Gt(),u,r,i,o,a)),Ff}function Qn(r,i,o,a,u,h){const v=function Ha(r,i,o,a){const u=Nr(r,i,o);return Nr(r,i+1,a)||u}(r,function ii(){return ft.lFrame.bindingIndex}(),o,u);return function Sr(r){const i=ft.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2),v?i+_e(o)+a+_e(u)+h:It}function Gd(r,i,o,a,u,h,m,v){const I=Ee(),D=xt(),A=r+22,N=D.firstCreatePass?function zd(r,i,o,a,u,h,m,v,I){const D=i.consts,A=Fo(i,r,4,m||null,ri(D,v));wf(i,o,A,ri(D,I)),Ni(i,A);const N=A.tViews=Xl(2,A,a,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,D);return null!==i.queries&&(i.queries.template(i,A),N.queries=i.queries.embeddedTView(A)),A}(A,D,I,i,o,a,u,h,m):D.data[A];Tr(N,!1);const H=I[11].createComment("");ac(D,I,H,N),or(H,I),wi(I,I[A]=uy(H,I,H,N)),tl(N)&&yf(D,I,N),null!=m&&vf(I,N,v)}function Bf(r,i,o){const a=Ee();return Nr(a,mi(),i)&&function Ci(r,i,o,a,u,h,m,v){const I=Fn(i,o);let A,D=i.inputs;!v&&null!=D&&(A=D[a])?($g(r,o,A,a,u),jr(i)&&Cf(o,i.index)):3&i.type&&(a=function wE(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(a),u=null!=m?m(u,i.value||"",a):u,h.setProperty(I,a,u))}(xt(),Gt(),a,r,i,a[11],o,!1),Bf}function Vf(r,i,o,a,u){const m=u?"class":"style";$g(r,o,i.inputs[m],m,a)}function Kd(r,i,o,a){const u=Ee(),h=xt(),m=22+r,v=u[11],I=u[m]=kl(v,i,function Sh(){return ft.lFrame.currentNamespace}()),D=h.firstCreatePass?function wy(r,i,o,a,u,h,m){const v=i.consts,D=Fo(i,r,2,u,ri(v,h));return wf(i,o,D,ri(v,m)),null!==D.attrs&&jd(D,D.attrs,!1),null!==D.mergedAttrs&&jd(D,D.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,D),D}(m,h,u,0,i,o,a):h.data[m];return Tr(D,!0),uc(v,I,D),32!=(32&D.flags)&&ac(h,u,I,D),0===function ia(){return ft.lFrame.elementDepthCount}()&&or(I,u),function ol(){ft.lFrame.elementDepthCount++}(),tl(D)&&(yf(h,u,D),Va(h,D,u)),null!==a&&vf(u,D),Kd}function Yd(){let r=Un();aa()?function Ps(){ft.lFrame.isParent=!1}():(r=r.parent,Tr(r,!1));const i=r;!function xu(){ft.lFrame.elementDepthCount--}();const o=xt();return o.firstCreatePass&&(Ni(o,r),ro(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function ml(r){return 0!=(8&r.flags)}(i)&&Vf(o,i,Ee(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function $u(r){return 0!=(16&r.flags)}(i)&&Vf(o,i,Ee(),i.stylesWithoutHost,!1),Yd}function Si(r,i,o,a){return Kd(r,i,o,a),Yd(),Si}function Jg(r){return!!r&&"function"==typeof r.then}function Sy(r){return!!r&&"function"==typeof r.subscribe}const Ay=Sy;function Xg(r,i,o,a){const u=Ee(),h=xt(),m=Un();return function My(r,i,o,a,u,h,m){const v=tl(a),D=r.firstCreatePass&&cy(r),A=i[8],N=Tc(i);let H=!0;if(3&a.type||m){const Oe=Fn(a,i),Be=m?m(Oe):Oe,ze=N.length,ot=m?Ct=>m(fn(Ct[a.index])):a.index;let be=null;if(!m&&v&&(be=function WE(r,i,o,a){const u=r.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===o&&u[h+1]===a){const v=i[7],I=u[h+2];return v.length>I?v[I]:null}"string"==typeof m&&(h+=2)}return null}(r,i,u,a.index)),null!==be)(be.__ngLastListenerFn__||be).__ngNextListenerFn__=h,be.__ngLastListenerFn__=h,H=!1;else{h=Oy(a,i,A,h,!1);const Ct=o.listen(Be,u,h);N.push(h,Ct),D&&D.push(u,ot,ze,ze+1)}}else h=Oy(a,i,A,h,!1);const Q=a.outputs;let fe;if(H&&null!==Q&&(fe=Q[u])){const Oe=fe.length;if(Oe)for(let Be=0;Be<Oe;Be+=2){const yn=i[fe[Be]][fe[Be+1]].subscribe(h),Rn=N.length;N.push(h,yn),D&&D.push(u,a.index,Rn,-(Rn+1))}}}(h,u,u[11],m,r,i,a),Xg}function Py(r,i,o,a){try{return!1!==o(a)}catch(u){return Vg(r,u),!1}}function Oy(r,i,o,a,u){return function h(m){if(m===Function)return a;tu(r.componentOffset>-1?On(r.index,i):i);let I=Py(i,0,a,m),D=h.__ngNextListenerFn__;for(;D;)I=Py(i,0,D,m)&&I,D=D.__ngNextListenerFn__;return u&&!1===I&&(m.preventDefault(),m.returnValue=!1),I}}function Qd(r,i=""){const o=Ee(),a=xt(),u=r+22,h=a.firstCreatePass?Fo(a,u,1,i,null):a.data[u],m=o[u]=function nc(r,i){return r.createText(i)}(o[11],i);ac(a,o,m,h),Tr(h,!1)}function am(r,i,o){const a=Ee(),u=function iu(r,i,o,a){return Nr(r,mi(),o)?i+_e(o)+a:It}(a,r,i,o);return u!==It&&Wi(a,pr(),u),am}function lm(r,i,o,a,u){const h=Ee(),m=Qn(h,r,i,o,a,u);return m!==It&&Wi(h,pr(),m),lm}const lu=void 0;var II=["en",[["a","p"],["AM","PM"],lu],[["AM","PM"],lu,lu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lu,"{1} 'at' {0}",lu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EI(r){const o=Math.floor(Math.abs(r)),a=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Oc={};function ep(r){const i=function CI(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=tv(i);if(o)return o;const a=i.split("-")[0];if(o=tv(a),o)return o;if("en"===a)return II;throw new ue(701,!1)}function fm(r){return ep(r)[ct.PluralCase]}function tv(r){return r in Oc||(Oc[r]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[r]),Oc[r]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const uu="en-US";let tp=uu;class hu{}class Rv{}function ZI(r,i){return new Mv(r,i??null)}class Mv extends hu{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jg(this);const a=Gn(i);this._bootstrapComponents=No(a.bootstrap),this._r3Injector=K_(i,o,[{provide:hu,useValue:this},{provide:xo,useValue:this.componentFactoryResolver}],ae(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Lm extends Rv{constructor(i){super(),this.moduleType=i}create(i){return new Mv(this.moduleType,i)}}class YI extends hu{constructor(i,o,a){super(),this.componentFactoryResolver=new jg(this),this.instance=null;const u=new k_([...i,{provide:hu,useValue:this},{provide:xo,useValue:this.componentFactoryResolver}],o||_c(),a,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function cp(r,i,o=null){return new YI(r,i,o).injector}let qI=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=O_(0,o.type),u=a.length>0?cp([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Je({token:r,providedIn:"environment",factory:()=>new r(Ne(Gl))}),r})();function Zi(r){r.getStandaloneInjector=i=>i.get(qI).getOrCreateStandaloneInjector(r)}function Wv(r){return i=>{setTimeout(r,void 0,i)}}const sn=class Hv extends _.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,a){let u=i,h=o||(()=>null),m=a;if(i&&"object"==typeof i){const I=i;u=I.next?.bind(I),h=I.error?.bind(I),m=I.complete?.bind(I)}this.__isAsync&&(h=Wv(h),u&&(u=Wv(u)),m&&(m=Wv(m)));const v=super.subscribe({next:u,error:h,complete:m});return i instanceof q.w0&&i.add(v),v}};function Ka(){return this._results[ja()]()}class kc{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ja(),a=kc.prototype;a[o]||(a[o]=Ka)}get changes(){return this._changes||(this._changes=new sn)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const a=this;a.dirty=!1;const u=function gr(r){return r.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function qu(r,i,o){if(r.length!==i.length)return!1;for(let a=0;a<r.length;a++){let u=r[a],h=i[a];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ah=(()=>{class r{}return r.__NG_ELEMENT_ID__=aC,r})();const zv=ah,Gv=class extends zv{constructor(i,o,a){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(i,o){const a=this._declarationTContainer.tViews,u=mf(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null,o||null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(a)),Bd(a,u,i),new Sc(u)}};function aC(){return lh(Un(),Ee())}function lh(r,i){return 4&r.type?new Gv(i,r,Ec(r,i)):null}let pp=(()=>{class r{}return r.__NG_ELEMENT_ID__=Zv,r})();function Zv(){return Lc(Un(),Ee())}const Kv=pp,uh=class extends Kv{constructor(i,o,a){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=a}get element(){return Ec(this._hostTNode,this._hostLView)}get injector(){return new Mr(this._hostTNode,this._hostLView)}get parentInjector(){const i=_a(this._hostTNode,this._hostLView);if(ju(i)){const o=Ls(i,this._hostLView),a=ha(i);return new Mr(o[1].data[a+8],o)}return new Mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Ya(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,a){let u,h;"number"==typeof a?u=a:null!=a&&(u=a.index,h=a.injector);const m=i.createEmbeddedView(o||{},h);return this.insert(m,u),m}createComponent(i,o,a,u,h){const m=i&&!function Io(r){return"function"==typeof r}(i);let v;if(m)v=o;else{const N=o||{};v=N.index,a=N.injector,u=N.projectableNodes,h=N.environmentInjector||N.ngModuleRef}const I=m?i:new Ac(Ot(i)),D=a||this.parentInjector;if(!h&&null==I.ngModule){const H=(m?D:this.parentInjector).get(Gl,null);H&&(h=H)}const A=I.create(D,u,void 0,h);return this.insert(A.hostView,v),A}insert(i,o){const a=i._lView,u=a[1];if(function na(r){return $r(r[3])}(a)){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const N=a[3],H=new uh(N,N[6],N[3]);H.detach(H.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function Xp(r,i,o,a){const u=10+a,h=o.length;a>0&&(o[u-1][4]=i),a<h-10?(i[4]=o[u],Ia(o,10+a,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function eg(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=64}(u,a,m,h);const v=ar(h,m),I=a[11],D=Bl(I,m[7]);return null!==D&&function Vh(r,i,o,a,u,h){a[0]=u,a[6]=i,Ra(r,a,o,1,u,h)}(u,m[6],I,a,D,v),i.attachToViewContainerRef(),Ia(At(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Ya(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),a=Cd(this._lContainer,o);a&&(Co(At(this._lContainer),o),wd(a[1],a))}detach(i){const o=this._adjustIndex(i,-1),a=Cd(this._lContainer,o);return a&&null!=Co(At(this._lContainer),o)?new Sc(a):null}_adjustIndex(i,o=0){return i??this.length+o}};function Ya(r){return r[8]}function At(r){return r[8]||(r[8]=[])}function Lc(r,i){let o;const a=i[r.index];if($r(a))o=a;else{let u;if(8&r.type)u=fn(a);else{const h=i[11];u=h.createComment("");const m=Fn(r,i);_s(h,Bl(h,m),u,function ng(r,i){return r.nextSibling(i)}(h,m),!1)}i[r.index]=o=uy(a,i,u,r),wi(i,o)}return new uh(o,r,i)}class jm{constructor(i){this.queryList=i,this.matches=null}clone(){return new jm(this.queryList)}setDirty(){this.queryList.setDirty()}}class zo{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const a=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);u.push(this.queries[m.indexInDeclarationView].clone())}return new zo(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Xv(i,o).matches&&this.queries[o].setDirty()}}class Yv{constructor(i,o,a=null){this.predicate=i,this.flags=o,this.read=a}}class pu{constructor(i=[]){this.queries=i}elementStart(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(i,u);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new pu(o):null}template(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class ch{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new ch(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(i,o,lC(o,h)),this.matchTNodeWithReadOption(i,o,vo(o,i,h,!1,!1))}else a===ah?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,vo(o,i,a,!1,!1))}matchTNodeWithReadOption(i,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===ka||u===pp||u===ah&&4&o.type)this.addMatch(o.index,-2);else{const h=vo(o,i,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function lC(r,i){const o=r.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===i)return o[a+1];return null}function dh(r,i,o,a){return-1===o?function gp(r,i){return 11&r.type?Ec(r,i):4&r.type?lh(r,i):null}(i,r):-2===o?function qv(r,i,o){return o===ka?Ec(i,r):o===ah?lh(i,r):o===pp?Lc(i,r):void 0}(r,i,a):Gr(r,r[1],o,i)}function hh(r,i,o,a){const u=i[19].queries[a];if(null===u.matches){const h=r.data,m=o.matches,v=[];for(let I=0;I<m.length;I+=2){const D=m[I];v.push(D<0?null:dh(i,h[D],m[I+1],o.metadata.read))}u.matches=v}return u.matches}function Hm(r,i,o,a){const u=r.queries.getByIndex(o),h=u.matches;if(null!==h){const m=hh(r,i,u,o);for(let v=0;v<h.length;v+=2){const I=h[v];if(I>0)a.push(m[v/2]);else{const D=h[v+1],A=i[-I];for(let N=10;N<A.length;N++){const H=A[N];H[17]===H[3]&&Hm(H[1],H,D,a)}if(null!==A[9]){const N=A[9];for(let H=0;H<N.length;H++){const Q=N[H];Hm(Q[1],Q,D,a)}}}}}return a}function mp(r){const i=Ee(),o=xt(),a=Uu();dl(a+1);const u=Xv(o,a);if(r.dirty&&function uo(r){return 4==(4&r[2])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const h=u.crossesNgTemplate?Hm(o,i,a,[]):hh(o,i,u,a);r.reset(h,Ld),r.notifyOnChanges()}return!0}return!1}function Wm(r,i,o,a){const u=xt();if(u.firstCreatePass){const h=Un();(function Jv(r,i,o){null===r.queries&&(r.queries=new pu),r.queries.track(new ch(i,o))})(u,new Yv(i,o,a),h.index),function yp(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function Qv(r,i,o){const a=new kc(4==(4&o));If(r,i,a,a.destroy),null===i[19]&&(i[19]=new zo),i[19].queries.push(new jm(a))}(u,Ee(),o)}function zm(){return function uC(r,i){return r[19].queries[i].queryList}(Ee(),Uu())}function Xv(r,i){return r.queries.getByIndex(i)}function mh(...r){}const n_=new Vt("Application Initializer");let jc=(()=>{class r{constructor(o){this.appInits=o,this.resolve=mh,this.reject=mh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(Jg(h))o.push(h);else if(Ay(h)){const m=new Promise((v,I)=>{h.subscribe({complete:v,error:I})});o.push(m)}}Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Ne(n_,8))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const bp=new Vt("AppId",{providedIn:"root",factory:function _0(){return`${r_()}${r_()}${r_()}`}});function r_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const y0=new Vt("Platform Initializer"),i_=new Vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),s_=new Vt("appBootstrapListener");let v0=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Qa=new Vt("LocaleId",{providedIn:"root",factory:()=>$e(Qa,Xe.Optional|Xe.SkipSelf)||function bC(){return typeof $localize<"u"&&$localize.locale||uu}()}),Sp=new Vt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class o_{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let I0=(()=>{class r{compileModuleSync(o){return new Lm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),h=No(Gn(o).declarations).reduce((m,v)=>{const I=Ot(v);return I&&m.push(new Ac(I)),m},[]);return new o_(a,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const SC=(()=>Promise.resolve(0))();function _h(r){typeof Zone>"u"?SC.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Ur{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sn(!1),this.onMicrotaskEmpty=new sn(!1),this.onStable=new sn(!1),this.onError=new sn(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Yi(){let r=ht.requestAnimationFrame,i=ht.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Rp(r){const i=()=>{!function C0(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ht,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,l_(r),r.isCheckStableRunning=!0,a_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),l_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,h,m,v)=>{try{return w0(r),o.invokeTask(u,h,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),_u(r)}},onInvoke:(o,a,u,h,m,v,I)=>{try{return w0(r),o.invoke(u,h,m,v,I)}finally{r.shouldCoalesceRunChangeDetection&&i(),_u(r)}},onHasTask:(o,a,u,h)=>{o.hasTask(u,h),a===u&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,l_(r),a_(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,u,h)=>(o.handleError(u,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ur.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(Ur.isInAngularZone())throw new ue(909,!1)}run(i,o,a){return this._inner.run(i,o,a)}runTask(i,o,a,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,i,RC,mh,mh);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(i,o,a){return this._inner.runGuarded(i,o,a)}runOutsideAngular(i){return this._outer.run(i)}}const RC={};function a_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function l_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function w0(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function _u(r){r._nesting--,a_(r)}class yh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sn,this.onMicrotaskEmpty=new sn,this.onStable=new sn,this.onError=new sn}run(i,o,a){return i.apply(o,a)}runGuarded(i,o,a){return i.apply(o,a)}runOutsideAngular(i){return i()}runTask(i,o,a,u){return i.apply(o,a)}}const D0=new Vt(""),b0=new Vt("");let u_,vh=(()=>{class r{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,u_||(function MC(r){u_=r}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ur.assertNotInAngularZone(),_h(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_h(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}}return r.\u0275fac=function(o){return new(o||r)(Ne(Ur),Ne(Hc),Ne(b0))},r.\u0275prov=Je({token:r,factory:r.\u0275fac}),r})(),Hc=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return u_?.findTestabilityInTree(this,o,a)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),Ja=null;const T0=new Vt("AllowMultipleToken"),c_=new Vt("PlatformDestroyListeners");class Mp{constructor(i,o){this.name=i,this.token=o}}function A0(r,i,o=[]){const a=`Platform: ${i}`,u=new Vt(a);return(h=[])=>{let m=h_();if(!m||m.injector.get(T0,!1)){const v=[...o,...h,{provide:u,useValue:!0}];r?r(v):function Wc(r){if(Ja&&!Ja.get(T0,!1))throw new ue(400,!1);Ja=r;const i=r.get(M0);(function S0(r){const i=r.get(y0,null);i&&i.forEach(o=>o())})(r)}(function R0(r=[],i){return Ql.create({name:i,providers:[{provide:pg,useValue:"platform"},{provide:c_,useValue:new Set([()=>Ja=null])},...r]})}(v,a))}return function OC(r){const i=h_();if(!i)throw new ue(401,!1);return i}()}}function h_(){return Ja?.get(M0)??null}let M0=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function P0(r,i){let o;return o="noop"===r?new yh:("zone.js"===r?void 0:r)||new Ur(i),o}(a?.ngZone,function f_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:Ur,useValue:u}];return u.run(()=>{const m=Ql.create({providers:h,parent:this.injector,name:o.moduleType.name}),v=o.create(m),I=v.injector.get(Yl,null);if(!I)throw new ue(402,!1);return u.runOutsideAngular(()=>{const D=u.onError.subscribe({next:A=>{I.handleError(A)}});v.onDestroy(()=>{yu(this._modules,v),D.unsubscribe()})}),function Pp(r,i,o){try{const a=o();return Jg(a)?a.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>r.handleError(a)),a}}(I,u,()=>{const D=v.injector.get(jc);return D.runInitializers(),D.donePromise.then(()=>(function iv(r){Dt(r,"Expected localeId to be defined"),"string"==typeof r&&(tp=r.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Qa,uu)||uu),this._moduleDoBootstrap(v),v))})})}bootstrapModule(o,a=[]){const u=p_({},a);return function $w(r,i,o){const a=new Lm(o);return Promise.resolve(a)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const a=o.injector.get(zc);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ue(403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(c_,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Ne(Ql))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function p_(r,i){return Array.isArray(i)?i.reduce(p_,r):{...r,...i}}let zc=(()=>{class r{constructor(o,a,u){this._zone=o,this._injector=a,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new O.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new O.y(v=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Ur.assertNotInAngularZone(),_h(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{Ur.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{I.unsubscribe(),D.unsubscribe()}});this.isStable=(0,ie.T)(h,m.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof Na;if(!this._injector.get(jc).done)throw!u&&In(o),new ue(405,false);let m;m=u?o:this._injector.get(xo).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const v=function d_(r){return r.isBoundToModule}(m)?void 0:this._injector.get(hu),D=m.create(Ql.NULL,[],a||m.selector,v),A=D.location.nativeElement,N=D.injector.get(D0,null);return N?.registerApplication(A),D.onDestroy(()=>{this.detachView(D.hostView),yu(this.components,D),N?.unregisterApplication(A)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;yu(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(s_,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>yu(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ue(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(Ne(Ur),Ne(Gl),Ne(Yl))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function yu(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}function NC(){return!1}let Op=(()=>{class r{}return r.__NG_ELEMENT_ID__=xp,r})();function xp(r){return function x0(r,i,o){if(jr(r)&&!o){const a=On(r.index,i);return new Sc(a,a)}return 47&r.type?new Sc(i[16],i):null}(Un(),Ee(),16==(16&r))}class F0{constructor(){}supports(i){return Mc(i)}create(i){return new WC(i)}}const HC=(r,i)=>i;class WC{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||HC}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,a=this._removalsHead,u=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<E_(a,u,h)?o:a,v=E_(m,u,h),I=m.currentIndex;if(m===a)u--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{h||(h=[]);const D=v-u,A=I-u;if(D!=A){for(let H=0;H<D;H++){const Q=H<h.length?h[H]:h[H]=0,fe=Q+H;A<=fe&&fe<D&&(h[H]=Q+1)}h[m.previousIndex]=A-D}}v!==I&&i(m,v,I)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Mc(i))throw new ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,m,o=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)h=i[v],m=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,v),a=!0),o=o._next}else u=0,function Zg(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[ja()]();let a;for(;!(a=o.next()).done;)i(a.value)}}(i,v=>{m=this._trackByFn(u,v),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,v,m,u)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,a,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,u)):i=this._addAfter(new zC(o,a),h,u),i}_verifyReinsertion(i,o,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,o,a),this._addToMoves(i,a),i}_moveAfter(i,o,a){return this._unlink(i),this._insertAfter(i,o,a),this._addToMoves(i,a),i}_addAfter(i,o,a){return this._insertAfter(i,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,a){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new U0),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,a=i._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new U0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class zC{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GC{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const o=i._prevDup,a=i._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class U0{constructor(){this.map=new Map}put(i){const o=i.trackById;let a=this.map.get(o);a||(a=new GC,this.map.set(o,a)),a.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E_(r,i,o){const a=r.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+i+u}class Fp{constructor(){}supports(i){return i instanceof Map||Wd(i)}create(){return new ZC}}class ZC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Wd(i)))throw new ue(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const a=i._prev;return o._next=i,o._prev=a,i._prev=o,a&&(a._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const a=new B0(i);return this._records.set(i,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(a=>o(i[a],a))}}class B0{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Eu(){return new Ih([new F0])}let Ih=(()=>{class r{constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:a=>r.create(o,a||Eu()),deps:[[r,new w,new wa]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new ue(901,!1)}}return r.\u0275prov=Je({token:r,providedIn:"root",factory:Eu}),r})();function I_(){return new Up([new Fp])}let Up=(()=>{class r{constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:a=>r.create(o,a||I_()),deps:[[r,new w,new wa]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new ue(901,!1)}}return r.\u0275prov=Je({token:r,providedIn:"root",factory:I_}),r})();const YC=A0(null,"core",[]);let qC=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Ne(zc))},r.\u0275mod=tn({type:r}),r.\u0275inj=Cr({}),r})();function QC(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(Ke,me,x)=>{x.d(me,{Z:()=>Fe});var _=x(2090),q=x(4859),O=x(9681),ie=x(1877);class re{constructor(ue,ve){this._delegate=ue,this.firebase=ve,(0,O._addComponent)(ue,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ue,ve=O._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(ue);return!Ae.isInitialized()&&"EXPLICIT"===(null===(_e=Ae.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:ve})}_removeServiceInstance(ue,ve=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(ve)}_addComponent(ue){(0,O._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,O._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function oe(){const Ze=function ae(Ze){const ue={},ve={__esModule:!0,initializeApp:function Ce(Te,U={}){const he=O.initializeApp(Te,U);if((0,_.r3)(ue,he.name))return ue[he.name];const z=new Ze(he,ve);return ue[he.name]=z,z},app:Ae,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function we(Te){const U=Te.name,he=U.replace("-compat","");if(O._registerComponent(Te)&&"PUBLIC"===Te.type){const z=(Y=Ae())=>{if("function"!=typeof Y[he])throw ce.create("invalid-app-argument",{appName:U});return Y[he]()};void 0!==Te.serviceProps&&(0,_.ZB)(z,Te.serviceProps),ve[he]=z,Ze.prototype[he]=function(...Y){return this._getService.bind(this,U).apply(this,Te.multipleInstances?Y:[])}}return"PUBLIC"===Te.type?ve[he]:null},removeApp:function _e(Te){delete ue[Te]},useAsService:function xe(Te,U){return"serverAuth"===U?null:U},modularAPIs:O}};function Ae(Te){if(!(0,_.r3)(ue,Te=Te||O._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:Te});return ue[Te]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function pe(){return Object.keys(ue).map(Te=>ue[Te])}}),Ae.App=Ze,ve}(re);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function ue(ve){(0,_.ZB)(Ze,ve)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),Ze}(),j=new ie.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=B;!function ye(Ze){(0,O.registerVersion)("@firebase/app-compat","0.2.0",Ze)}()},9681:(Ke,me,x)=>{x.r(me),x.d(me,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Qi,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>Nt,_addOrOverwriteComponent:()=>$n,_apps:()=>Dt,_clearComponents:()=>Cr,_components:()=>Qe,_getProvider:()=>Je,_registerComponent:()=>Xn,_removeServiceInstance:()=>zt,deleteApp:()=>Ri,getApp:()=>wr,getApps:()=>tr,initializeApp:()=>Ai,onLog:()=>Xe,registerVersion:()=>cr,setLogLevel:()=>hi});var _=x(5861),q=x(4859),O=x(1877),ie=x(2090),re=x(8766);class se{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function ce(Ne){return"VERSION"===Ne.getComponent()?.type}($e)){const lt=$e.getImmediate();return`${lt.library}/${lt.version}`}return null}).filter($e=>$e).join(" ")}}const ae="@firebase/app",B=new O.Yd("@firebase/app"),jt="[DEFAULT]",_t={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dt=new Map,Qe=new Map;function Nt(Ne,ge){try{Ne.container.addComponent(ge)}catch($e){B.debug(`Component ${ge.name} failed to register with FirebaseApp ${Ne.name}`,$e)}}function $n(Ne,ge){Ne.container.addOrOverwriteComponent(ge)}function Xn(Ne){const ge=Ne.name;if(Qe.has(ge))return B.debug(`There were multiple attempts to register component ${ge}.`),!1;Qe.set(ge,Ne);for(const $e of Dt.values())Nt($e,Ne);return!0}function Je(Ne,ge){const $e=Ne.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),Ne.container.getProvider(ge)}function zt(Ne,ge,$e=jt){Je(Ne,ge).clearInstance($e)}function Cr(){Qe.clear()}const er=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(ge,$e,lt){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=lt,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const Qi="9.15.0";function Ai(Ne,ge={}){let $e=Ne;"object"!=typeof ge&&(ge={name:ge});const lt=Object.assign({name:jt,automaticDataCollectionEnabled:!1},ge),dt=lt.name;if("string"!=typeof dt||!dt)throw er.create("bad-app-name",{appName:String(dt)});if($e||($e=(0,ie.aH)()),!$e)throw er.create("no-options");const yt=Dt.get(dt);if(yt){if((0,ie.vZ)($e,yt.options)&&(0,ie.vZ)(lt,yt.config))return yt;throw er.create("duplicate-app",{appName:dt})}const $=new q.H0(dt);for(const G of Qe.values())$.addComponent(G);const L=new jn($e,lt,$);return Dt.set(dt,L),L}function wr(Ne=jt){const ge=Dt.get(Ne);if(!ge&&Ne===jt)return Ai();if(!ge)throw er.create("no-app",{appName:Ne});return ge}function tr(){return Array.from(Dt.values())}function Ri(Ne){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,_.Z)(function*(Ne){const ge=Ne.name;Dt.has(ge)&&(Dt.delete(ge),yield Promise.all(Ne.container.getProviders().map($e=>$e.delete())),Ne.isDeleted=!0)})).apply(this,arguments)}function cr(Ne,ge,$e){var lt;let dt=null!==(lt=_t[Ne])&&void 0!==lt?lt:Ne;$e&&(dt+=`-${$e}`);const yt=dt.match(/\s|\//),$=ge.match(/\s|\//);if(yt||$){const L=[`Unable to register library "${dt}" with version "${ge}":`];return yt&&L.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),yt&&$&&L.push("and"),$&&L.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void B.warn(L.join(" "))}Xn(new q.wA(`${dt}-version`,()=>({library:dt,version:ge}),"VERSION"))}function Xe(Ne,ge){if(null!==Ne&&"function"!=typeof Ne)throw er.create("invalid-log-argument");(0,O.Am)(Ne,ge)}function hi(Ne){(0,O.Ub)(Ne)}const Hn="firebase-heartbeat-store";let Mi=null;function ht(){return Mi||(Mi=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(Ne,ge)=>{0===ge&&Ne.createObjectStore(Hn)}}).catch(Ne=>{throw er.create("idb-open",{originalErrorMessage:Ne.message})})),Mi}function st(){return(st=(0,_.Z)(function*(Ne){try{return(yield ht()).transaction(Hn).objectStore(Hn).get(Yt(Ne))}catch(ge){if(ge instanceof ie.ZR)B.warn(ge.message);else{const $e=er.create("idb-get",{originalErrorMessage:ge?.message});B.warn($e.message)}}})).apply(this,arguments)}function fi(Ne,ge){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,_.Z)(function*(Ne,ge){try{const lt=(yield ht()).transaction(Hn,"readwrite");return yield lt.objectStore(Hn).put(ge,Yt(Ne)),lt.done}catch($e){if($e instanceof ie.ZR)B.warn($e.message);else{const lt=er.create("idb-set",{originalErrorMessage:$e?.message});B.warn(lt.message)}}})).apply(this,arguments)}function Yt(Ne){return`${Ne.name}!${Ne.options.appId}`}class Is{constructor(ge){this.container=ge,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new Pt($e),this._heartbeatsCachePromise=this._storage.read().then(lt=>(this._heartbeatsCache=lt,lt))}triggerHeartbeat(){var ge=this;return(0,_.Z)(function*(){const lt=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=Ut();if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),ge._heartbeatsCache.lastSentHeartbeatDate!==dt&&!ge._heartbeatsCache.heartbeats.some(yt=>yt.date===dt))return ge._heartbeatsCache.heartbeats.push({date:dt,agent:lt}),ge._heartbeatsCache.heartbeats=ge._heartbeatsCache.heartbeats.filter(yt=>{const $=new Date(yt.date).valueOf();return Date.now()-$<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,_.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache||0===ge._heartbeatsCache.heartbeats.length)return"";const $e=Ut(),{heartbeatsToSend:lt,unsentEntries:dt}=function Jr(Ne,ge=1024){const $e=[];let lt=Ne.slice();for(const dt of Ne){const yt=$e.find($=>$.agent===dt.agent);if(yt){if(yt.dates.push(dt.date),Wn($e)>ge){yt.dates.pop();break}}else if($e.push({agent:dt.agent,dates:[dt.date]}),Wn($e)>ge){$e.pop();break}lt=lt.slice(1)}return{heartbeatsToSend:$e,unsentEntries:lt}}(ge._heartbeatsCache.heartbeats),yt=(0,ie.L)(JSON.stringify({version:2,heartbeats:lt}));return ge._heartbeatsCache.lastSentHeartbeatDate=$e,dt.length>0?(ge._heartbeatsCache.heartbeats=dt,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache.heartbeats=[],ge._storage.overwrite(ge._heartbeatsCache)),yt})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Pt{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,_.Z)(function*(){return(yield ge._canUseIndexedDBPromise)&&(yield function tt(Ne){return st.apply(this,arguments)}(ge.app))||{heartbeats:[]}})()}overwrite(ge){var $e=this;return(0,_.Z)(function*(){var lt;if(yield $e._canUseIndexedDBPromise){const yt=yield $e.read();return fi($e.app,{lastSentHeartbeatDate:null!==(lt=ge.lastSentHeartbeatDate)&&void 0!==lt?lt:yt.lastSentHeartbeatDate,heartbeats:ge.heartbeats})}})()}add(ge){var $e=this;return(0,_.Z)(function*(){var lt;if(yield $e._canUseIndexedDBPromise){const yt=yield $e.read();return fi($e.app,{lastSentHeartbeatDate:null!==(lt=ge.lastSentHeartbeatDate)&&void 0!==lt?lt:yt.lastSentHeartbeatDate,heartbeats:[...yt.heartbeats,...ge.heartbeats]})}})()}}function Wn(Ne){return(0,ie.L)(JSON.stringify({version:2,heartbeats:Ne})).length}!function Xr(Ne){Xn(new q.wA("platform-logger",ge=>new se(ge),"PRIVATE")),Xn(new q.wA("heartbeat",ge=>new Is(ge),"PRIVATE")),cr(ae,"0.9.0",Ne),cr(ae,"0.9.0","esm2017"),cr("fire-js","")}("")},4859:(Ke,me,x)=>{x.d(me,{H0:()=>ae,wA:()=>O,zt:()=>re});var _=x(5861),q=x(2090);class O{constructor(B,j,Z){this.name=B,this.instanceFactory=j,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ie="[DEFAULT]";class re{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const Z=new q.BH;if(this.instancesDeferred.set(j,Z),this.isInitialized(j)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:j});Me&&Z.resolve(Me)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const Z=this.normalizeInstanceIdentifier(B?.identifier),Me=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(ye){if(Me)return null;throw ye}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ce(oe){return"EAGER"===oe.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[j,Z]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(j);try{const ye=this.getOrInitializeService({instanceIdentifier:Me});Z.resolve(ye)}catch{}}}}clearInstance(B=ie){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,_.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...j.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ie){return this.instances.has(B)}getOptions(B=ie){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,Z=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:Z,options:j});for(const[ye,Fe]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(ye)&&Fe.resolve(Me);return Me}onInit(B,j){var Z;const Me=this.normalizeInstanceIdentifier(j),ye=null!==(Z=this.onInitCallbacks.get(Me))&&void 0!==Z?Z:new Set;ye.add(B),this.onInitCallbacks.set(Me,ye);const Fe=this.instances.get(Me);return Fe&&B(Fe,Me),()=>{ye.delete(B)}}invokeOnInitCallbacks(B,j){const Z=this.onInitCallbacks.get(j);if(Z)for(const Me of Z)try{Me(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let Z=this.instances.get(B);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=B,oe===ie?void 0:oe),options:j}),this.instances.set(B,Z),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(Z,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Z)}catch{}var oe;return Z||null}normalizeInstanceIdentifier(B=ie){return this.component?this.component.multipleInstances?B:ie:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new re(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(Ke,me,x)=>{x.d(me,{Am:()=>oe,Ub:()=>ae,Yd:()=>ce,in:()=>q});const _=[];var q=(()=>{return(B=q||(q={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",q;var B})();const O={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},ie=q.INFO,re={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},se=(B,j,...Z)=>{if(j<B.logLevel)return;const Me=(new Date).toISOString(),ye=re[j];if(!ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ye](`[${Me}]  ${B.name}:`,...Z)};class ce{constructor(j){this.name=j,this._logLevel=ie,this._logHandler=se,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in q))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...j),this._logHandler(this,q.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...j),this._logHandler(this,q.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,q.INFO,...j),this._logHandler(this,q.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,q.WARN,...j),this._logHandler(this,q.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...j),this._logHandler(this,q.ERROR,...j)}}function ae(B){_.forEach(j=>{j.setLogLevel(B)})}function oe(B,j){for(const Z of _){let Me=null;j&&j.level&&(Me=O[j.level]),Z.userLogHandler=null===B?null:(ye,Fe,...Ze)=>{const ue=Ze.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch{return null}}).filter(ve=>ve).join(" ");Fe>=(Me??ye.logLevel)&&B({level:q[Fe].toLowerCase(),message:ue,args:Ze,type:ye.name})}}}},259:(Ke,me,x)=>{x.d(me,{C6:()=>_.getApps,Mq:()=>_.getApp});var _=x(9681);(0,_.registerVersion)("firebase","9.15.0","app")},9260:(Ke,me,x)=>{x.d(me,{Z:()=>_.Z});var _=x(3942);_.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(Ke,me,x)=>{x.r(me);var _=x(5861),q=x(3942),O=x(2090),ie=x(9681),re=x(1877),se=x(655),ce=x(4859);const Fe=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ue=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new re.Yd("@firebase/auth");function Ae(g,...c){_e.logLevel<=re.in.ERROR&&_e.error(`Auth (${ie.SDK_VERSION}): ${g}`,...c)}function Ce(g,...c){throw Te(g,...c)}function pe(g,...c){return Te(g,...c)}function we(g,c,f){const y=Object.assign(Object.assign({},Ze()),{[c]:f});return new O.LL("auth","Firebase",y).create(c,{appName:g.name})}function xe(g,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&Ce(g,"argument-error"),we(g,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Te(g,...c){if("string"!=typeof g){const f=c[0],y=[...c.slice(1)];return y[0]&&(y[0].appName=g.name),g._errorFactory.create(f,...y)}return ue.create(g,...c)}function U(g,c,...f){if(!g)throw Te(c,...f)}function he(g){const c="INTERNAL ASSERTION FAILED: "+g;throw Ae(c),new Error(c)}function z(g,c){g||he(c)}const Y=new Map;function ne(g){z(g instanceof Function,"Expected a class definition");let c=Y.get(g);return c?(z(c instanceof g,"Instance stored in cache mismatched with class"),c):(c=new g,Y.set(g,c),c)}function Se(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function qe(){return"http:"===Lt()||"https:"===Lt()}function Lt(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Dt{constructor(c,f){this.shortDelay=c,this.longDelay=f,z(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qe()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qe(g,c){z(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class Nt{static initialize(c,f,y){this.fetchImpl=c,f&&(this.headersImpl=f),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Xn=new Dt(3e4,6e4);function Je(g,c){return g.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:g.tenantId}):c}function zt(g,c,f,y){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,_.Z)(function*(g,c,f,y,T={}){return ur(g,T,(0,_.Z)(function*(){let R={},W={};y&&("GET"===c?W=y:R={body:JSON.stringify(y)});const le=(0,O.xO)(Object.assign({key:g.config.apiKey},W)).slice(1),ke=yield g._getAdditionalHeaders();return ke["Content-Type"]="application/json",g.languageCode&&(ke["X-Firebase-Locale"]=g.languageCode),Nt.fetch()(Ai(g,g.config.apiHost,f,le),Object.assign({method:c,headers:ke,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ur(g,c,f){return er.apply(this,arguments)}function er(){return(er=(0,_.Z)(function*(g,c,f){g._canInitEmulator=!1;const y=Object.assign(Object.assign({},$n),c);try{const T=new wr(g),R=yield Promise.race([f(),T.promise]);T.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw tr(g,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const le=R.ok?W.errorMessage:W.error.message,[ke,je]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw tr(g,"credential-already-in-use",W);if("EMAIL_EXISTS"===ke)throw tr(g,"email-already-in-use",W);if("USER_DISABLED"===ke)throw tr(g,"user-disabled",W);const et=y[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw we(g,et,je);Ce(g,et)}}catch(T){if(T instanceof O.ZR)throw T;Ce(g,"network-request-failed")}})).apply(this,arguments)}function jn(g,c,f,y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,_.Z)(function*(g,c,f,y,T={}){const R=yield zt(g,c,f,y,T);return"mfaPendingCredential"in R&&Ce(g,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ai(g,c,f,y){const T=`${c}${f}?${y}`;return g.config.emulator?Qe(g.config,T):`${g.config.apiScheme}://${T}`}class wr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,y)=>{this.timer=setTimeout(()=>y(pe(this.auth,"network-request-failed")),Xn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(g,c,f){const y={appName:g.name};f.email&&(y.email=f.email),f.phoneNumber&&(y.phoneNumber=f.phoneNumber);const T=pe(g,c,y);return T.customData._tokenResponse=f,T}function Ht(){return(Ht=(0,_.Z)(function*(g,c){return zt(g,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function cr(g,c){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,_.Z)(function*(g,c){return zt(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function hi(g,c){return Br.apply(this,arguments)}function Br(){return(Br=(0,_.Z)(function*(g,c){return zt(g,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Jt(g){if(g)try{const c=new Date(Number(g));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function ht(){return(ht=(0,_.Z)(function*(g,c=!1){const f=(0,O.m9)(g),y=yield f.getIdToken(c),T=st(y);U(T&&T.exp&&T.auth_time&&T.iat,f.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,W=R?.sign_in_provider;return{claims:T,token:y,authTime:Jt(tt(T.auth_time)),issuedAtTime:Jt(tt(T.iat)),expirationTime:Jt(tt(T.exp)),signInProvider:W||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function tt(g){return 1e3*Number(g)}function st(g){const[c,f,y]=g.split(".");if(void 0===c||void 0===f||void 0===y)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(f);return T?JSON.parse(T):(Ae("Failed to decode base64 JWT payload"),null)}catch(T){return Ae("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Xt(g,c){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,_.Z)(function*(g,c,f=!1){if(f)return c;try{return yield c}catch(y){throw y instanceof O.ZR&&Vr(y)&&g.auth.currentUser===g&&(yield g.auth.signOut()),y}})).apply(this,arguments)}function Vr({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class kn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const T=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const y=this.getInterval(c);this.timerId=setTimeout((0,_.Z)(function*(){yield f.iteration()}),y)}iteration(){var c=this;return(0,_.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&c.schedule(!0))}c.schedule()})()}}class Is{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jt(this.lastLoginAt),this.creationTime=Jt(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ut(g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,_.Z)(function*(g){var c;const f=g.auth,y=yield g.getIdToken(),T=yield Xt(g,hi(f,{idToken:y}));U(T?.users.length,f,"internal-error");const R=T.users[0];g._notifyReloadListener(R);const W=null!==(c=R.providerUserInfo)&&void 0!==c&&c.length?Ne(R.providerUserInfo):[],le=Xr(g.providerData,W),et=!!g.isAnonymous&&!(g.email&&R.passwordHash||le?.length),Re={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:le,metadata:new Is(R.createdAt,R.lastLoginAt),isAnonymous:et};Object.assign(g,Re)})).apply(this,arguments)}function Wn(){return(Wn=(0,_.Z)(function*(g){const c=(0,O.m9)(g);yield Ut(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Xr(g,c){return[...g.filter(y=>!c.some(T=>T.providerId===y.providerId)),...c]}function Ne(g){return g.map(c=>{var{providerId:f}=c,y=(0,se._T)(c,["providerId"]);return{providerId:f,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function $e(){return($e=(0,_.Z)(function*(g,c){const f=yield ur(g,{},(0,_.Z)(function*(){const y=(0,O.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:T,apiKey:R}=g.config,W=Ai(g,T,"/v1/token",`key=${R}`),le=yield g._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",Nt.fetch()(W,{method:"POST",headers:le,body:y})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){U(c.idToken,"internal-error"),U(typeof c.idToken<"u","internal-error"),U(typeof c.refreshToken<"u","internal-error");const f="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function fi(g){const c=st(g);return U(c,"internal-error"),U(typeof c.exp<"u","internal-error"),U(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var y=this;return(0,_.Z)(function*(){return U(!y.accessToken||y.refreshToken,c,"user-token-expired"),f||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(c,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var y=this;return(0,_.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:W}=yield function ge(g,c){return $e.apply(this,arguments)}(c,f);y.updateTokensAndExpiration(T,R,Number(W))})()}updateTokensAndExpiration(c,f,y){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(c,f){const{refreshToken:y,accessToken:T,expirationTime:R}=f,W=new lt;return y&&(U("string"==typeof y,"internal-error",{appName:c}),W.refreshToken=y),T&&(U("string"==typeof T,"internal-error",{appName:c}),W.accessToken=T),R&&(U("number"==typeof R,"internal-error",{appName:c}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return he("not implemented")}}function dt(g,c){U("string"==typeof g||typeof g>"u","internal-error",{appName:c})}class yt{constructor(c){var{uid:f,auth:y,stsTokenManager:T}=c,R=(0,se._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=y,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Is(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,_.Z)(function*(){const y=yield Xt(f,f.stsTokenManager.getToken(f.auth,c));return U(y,f.auth,"internal-error"),f.accessToken!==y&&(f.accessToken=y,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),y})()}getIdTokenResult(c){return function Mi(g){return ht.apply(this,arguments)}(this,c)}reload(){return function Pt(g){return Wn.apply(this,arguments)}(this)}_assign(c){this!==c&&(U(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new yt(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var y=this;return(0,_.Z)(function*(){let T=!1;c.idToken&&c.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(c),T=!0),f&&(yield Ut(y)),yield y.auth._persistUserIfCurrent(y),T&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var c=this;return(0,_.Z)(function*(){const f=yield c.getIdToken();return yield Xt(c,function Ri(g,c){return Ht.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var y,T,R,W,le,ke,je,et;const Re=null!==(y=f.displayName)&&void 0!==y?y:void 0,_n=null!==(T=f.email)&&void 0!==T?T:void 0,Or=null!==(R=f.phoneNumber)&&void 0!==R?R:void 0,jl=null!==(W=f.photoURL)&&void 0!==W?W:void 0,Ei=null!==(le=f.tenantId)&&void 0!==le?le:void 0,Ws=null!==(ke=f._redirectEventId)&&void 0!==ke?ke:void 0,Sn=null!==(je=f.createdAt)&&void 0!==je?je:void 0,Pa=null!==(et=f.lastLoginAt)&&void 0!==et?et:void 0,{uid:qn,emailVerified:Ad,isAnonymous:Hl,providerData:dc,stsTokenManager:sg}=f;U(qn&&sg,c,"internal-error");const og=lt.fromJSON(this.name,sg);U("string"==typeof qn,c,"internal-error"),dt(Re,c.name),dt(_n,c.name),U("boolean"==typeof Ad,c,"internal-error"),U("boolean"==typeof Hl,c,"internal-error"),dt(Or,c.name),dt(jl,c.name),dt(Ei,c.name),dt(Ws,c.name),dt(Sn,c.name),dt(Pa,c.name);const Oa=new yt({uid:qn,auth:c,email:_n,emailVerified:Ad,displayName:Re,isAnonymous:Hl,photoURL:jl,phoneNumber:Or,tenantId:Ei,stsTokenManager:og,createdAt:Sn,lastLoginAt:Pa});return dc&&Array.isArray(dc)&&(Oa.providerData=dc.map(hc=>Object.assign({},hc))),Ws&&(Oa._redirectEventId=Ws),Oa}static _fromIdTokenResponse(c,f,y=!1){return(0,_.Z)(function*(){const T=new lt;T.updateFromServerResponse(f);const R=new yt({uid:f.localId,auth:c,stsTokenManager:T,isAnonymous:y});return yield Ut(R),R})()}}const L=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(f,y){var T=this;return(0,_.Z)(function*(){T.storage[f]=y})()}_get(f){var y=this;return(0,_.Z)(function*(){const T=y.storage[f];return void 0===T?null:T})()}_remove(f){var y=this;return(0,_.Z)(function*(){delete y.storage[f]})()}_addListener(f,y){}_removeListener(f,y){}}return g.type="NONE",g})();function G(g,c,f){return`firebase:${g}:${c}:${f}`}class de{constructor(c,f,y){this.persistence=c,this.auth=f,this.userKey=y;const{config:T,name:R}=this.auth;this.fullUserKey=G(this.userKey,T.apiKey,R),this.fullPersistenceKey=G("persistence",T.apiKey,R),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,_.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?yt._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,_.Z)(function*(){if(f.persistence===c)return;const y=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,y?f.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,y="authUser"){return(0,_.Z)(function*(){if(!f.length)return new de(ne(L),c,y);const T=(yield Promise.all(f.map(function(){var je=(0,_.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return je.apply(this,arguments)}}()))).filter(je=>je);let R=T[0]||ne(L);const W=G(y,c.config.apiKey,c.name);let le=null;for(const je of f)try{const et=yield je._get(W);if(et){const Re=yt._fromJSON(c,et);je!==R&&(le=Re),R=je;break}}catch{}const ke=T.filter(je=>je._shouldAllowMigration);return R._shouldAllowMigration&&ke.length?(R=ke[0],le&&(yield R._set(W,le.toJSON())),yield Promise.all(f.map(function(){var je=(0,_.Z)(function*(et){if(et!==R)try{yield et._remove(W)}catch{}});return function(et){return je.apply(this,arguments)}}())),new de(R,c,y)):new de(R,c,y)})()}}function J(g){const c=g.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(en(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(We(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Pn(c))return"Blackberry";if(bt(c))return"Webos";if(vt(c))return"Safari";if((c.includes("chrome/")||Rt(c))&&!c.includes("edge/"))return"Chrome";if(nt(c))return"Android";{const y=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function We(g=(0,O.z$)()){return/firefox\//i.test(g)}function vt(g=(0,O.z$)()){const c=g.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Rt(g=(0,O.z$)()){return/crios\//i.test(g)}function en(g=(0,O.z$)()){return/iemobile/i.test(g)}function nt(g=(0,O.z$)()){return/android/i.test(g)}function Pn(g=(0,O.z$)()){return/blackberry/i.test(g)}function bt(g=(0,O.z$)()){return/webos/i.test(g)}function Dn(g=(0,O.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function Gc(g=(0,O.z$)()){return Dn(g)||nt(g)||bt(g)||Pn(g)||/windows phone/i.test(g)||en(g)}function Ko(g,c=[]){let f;switch(g){case"Browser":f=J((0,O.z$)());break;case"Worker":f=`${J((0,O.z$)())}-${g}`;break;default:f=g}const y=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${ie.SDK_VERSION}/${y}`}class Xa{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,f){const y=R=>new Promise((W,le)=>{try{W(c(R))}catch(ke){le(ke)}});y.onAbort=f,this.queue.push(y);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(c){var f=this;return(0,_.Z)(function*(){if(f.auth.currentUser===c)return;const y=[];try{for(const T of f.queue)yield T(c),T.onAbort&&y.push(T.onAbort)}catch(T){y.reverse();for(const R of y)try{R()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Iu{constructor(c,f,y){this.app=c,this.heartbeatServiceProvider=f,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cu(this),this.idTokenSubscription=new Cu(this),this.beforeStateQueue=new Xa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(c,f){var y=this;return f&&(this._popupRedirectResolver=ne(f)),this._initializationPromise=this.queue((0,_.Z)(function*(){var T,R;if(!y._deleted&&(y.persistenceManager=yield de.create(y,c),!y._deleted)){if(null!==(T=y._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(f),y.lastNotifiedUid=(null===(R=y.currentUser)||void 0===R?void 0:R.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,_.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f,!0)}})()}initializeCurrentUser(c){var f=this;return(0,_.Z)(function*(){var y;const T=yield f.assertedPersistence.getCurrentUser();let R=T,W=!1;if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const le=null===(y=f.redirectUser)||void 0===y?void 0:y._redirectEventId,ke=R?._redirectEventId,je=yield f.tryRedirectSignIn(c);(!le||le===ke)&&je?.user&&(R=je.user,W=!0)}if(!R)return f.directlySetCurrentUser(null);if(!R._redirectEventId){if(W)try{yield f.beforeStateQueue.runMiddleware(R)}catch(le){R=T,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(le))}return R?f.reloadAndSetCurrentUserOrClear(R):f.directlySetCurrentUser(null)}return U(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===R._redirectEventId?f.directlySetCurrentUser(R):f.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(c){var f=this;return(0,_.Z)(function*(){let y=null;try{y=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch{yield f._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,_.Z)(function*(){try{yield Ut(c)}catch(y){if("auth/network-request-failed"!==y?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function _t(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var c=this;return(0,_.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,_.Z)(function*(){const y=c?(0,O.m9)(c):null;return y&&U(y.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(y&&y._clone(f))})()}_updateCurrentUser(c,f=!1){var y=this;return(0,_.Z)(function*(){if(!y._deleted)return c&&U(y.tenantId===c.tenantId,y,"tenant-id-mismatch"),f||(yield y.beforeStateQueue.runMiddleware(c)),y.queue((0,_.Z)(function*(){yield y.directlySetCurrentUser(c),y.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,_.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var f=this;return this.queue((0,_.Z)(function*(){yield f.assertedPersistence.setPersistence(ne(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new O.LL("auth","Firebase",c())}onAuthStateChanged(c,f,y){return this.registerStateListener(this.authStateSubscription,c,f,y)}beforeAuthStateChanged(c,f){return this.beforeStateQueue.pushCallback(c,f)}onIdTokenChanged(c,f,y){return this.registerStateListener(this.idTokenSubscription,c,f,y)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var y=this;return(0,_.Z)(function*(){const T=yield y.getOrInitRedirectPersistenceManager(f);return null===c?T.removeCurrentUser():T.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,_.Z)(function*(){if(!f.redirectPersistenceManager){const y=c&&ne(c)||f._popupRedirectResolver;U(y,f,"argument-error"),f.redirectPersistenceManager=yield de.create(f,[ne(y._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,_.Z)(function*(){var y,T;return f._isInitialized&&(yield f.queue((0,_.Z)(function*(){}))),(null===(y=f._currentUser)||void 0===y?void 0:y._redirectEventId)===c?f._currentUser:(null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,_.Z)(function*(){if(c===f.currentUser)return f.queue((0,_.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,y,T){if(this._deleted)return()=>{};const R="function"==typeof f?f:f.next.bind(f),W=this._isInitialized?Promise.resolve():this._initializationPromise;return U(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof f?c.addObserver(f,y,T):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,_.Z)(function*(){f.currentUser&&f.currentUser!==c&&f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh(),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Ko(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,_.Z)(function*(){var f;const y={"X-Client-Version":c.clientVersion};c.app.options.appId&&(y["X-Firebase-gmpid"]=c.app.options.appId);const T=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return T&&(y["X-Firebase-Client"]=T),y})()}}function tn(g){return(0,O.m9)(g)}class Cu{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,O.ne)(f=>this.observer=f)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function to(g){const c=g.indexOf(":");return c<0?"":g.substr(0,c+1)}function Ot(g){if(!g)return null;const c=Number(g);return isNaN(c)?null:c}class cn{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return he("not implemented")}_getIdTokenResponse(c){return he("not implemented")}_linkToIdToken(c,f){return he("not implemented")}_getReauthenticationResolver(c){return he("not implemented")}}function In(g,c){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,_.Z)(function*(g,c){return zt(g,"POST","/v1/accounts:resetPassword",Je(g,c))})).apply(this,arguments)}function ei(g,c){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,_.Z)(function*(g,c){return zt(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function pt(g,c){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,_.Z)(function*(g,c){return zt(g,"POST","/v1/accounts:update",Je(g,c))})).apply(this,arguments)}function pi(){return(pi=(0,_.Z)(function*(g,c){return jn(g,"POST","/v1/accounts:signInWithPassword",Je(g,c))})).apply(this,arguments)}function dn(g,c){return ti.apply(this,arguments)}function ti(){return(ti=(0,_.Z)(function*(g,c){return zt(g,"POST","/v1/accounts:sendOobCode",Je(g,c))})).apply(this,arguments)}function on(g,c){return ws.apply(this,arguments)}function ws(){return(ws=(0,_.Z)(function*(g,c){return dn(g,c)})).apply(this,arguments)}function Ji(g,c){return gt.apply(this,arguments)}function gt(){return(gt=(0,_.Z)(function*(g,c){return dn(g,c)})).apply(this,arguments)}function Yo(g,c){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,_.Z)(function*(g,c){return dn(g,c)})).apply(this,arguments)}function Zc(g,c){return ni.apply(this,arguments)}function ni(){return(ni=(0,_.Z)(function*(g,c){return dn(g,c)})).apply(this,arguments)}function Xi(){return(Xi=(0,_.Z)(function*(g,c){return jn(g,"POST","/v1/accounts:signInWithEmailLink",Je(g,c))})).apply(this,arguments)}function Dr(){return(Dr=(0,_.Z)(function*(g,c){return jn(g,"POST","/v1/accounts:signInWithEmailLink",Je(g,c))})).apply(this,arguments)}class Pi extends cn{constructor(c,f,y,T=null){super("password",y),this._email=c,this._password=f,this._tenantId=T}static _fromEmailAndPassword(c,f){return new Pi(c,f,"password")}static _fromEmailAndCode(c,f,y=null){return new Pi(c,f,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,_.Z)(function*(){switch(f.signInMethod){case"password":return function dr(g,c){return pi.apply(this,arguments)}(c,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Ln(g,c){return Xi.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:Ce(c,"internal-error")}})()}_linkToIdToken(c,f){var y=this;return(0,_.Z)(function*(){switch(y.signInMethod){case"password":return ei(c,{idToken:f,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function bs(g,c){return Dr.apply(this,arguments)}(c,{idToken:f,email:y._email,oobCode:y._password});default:Ce(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function hn(g,c){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,_.Z)(function*(g,c){return jn(g,"POST","/v1/accounts:signInWithIdp",Je(g,c))})).apply(this,arguments)}class br extends cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new br(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):Ce("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:T}=f,R=(0,se._T)(f,["providerId","signInMethod"]);if(!y||!T)return null;const W=new br(y,T);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(c){return hn(c,this.buildRequest())}_linkToIdToken(c,f){const y=this.buildRequest();return y.idToken=f,hn(c,y)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,hn(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,O.xO)(f)}return c}}function wu(g,c){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,_.Z)(function*(g,c){return zt(g,"POST","/v1/accounts:sendVerificationCode",Je(g,c))})).apply(this,arguments)}function nr(){return(nr=(0,_.Z)(function*(g,c){return jn(g,"POST","/v1/accounts:signInWithPhoneNumber",Je(g,c))})).apply(this,arguments)}function Du(){return(Du=(0,_.Z)(function*(g,c){const f=yield jn(g,"POST","/v1/accounts:signInWithPhoneNumber",Je(g,c));if(f.temporaryProof)throw tr(g,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const hr={USER_NOT_FOUND:"user-not-found"};function ro(){return(ro=(0,_.Z)(function*(g,c){return jn(g,"POST","/v1/accounts:signInWithPhoneNumber",Je(g,Object.assign(Object.assign({},c),{operation:"REAUTH"})),hr)})).apply(this,arguments)}class jr extends cn{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new jr({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new jr({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function es(g,c){return nr.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function Zn(g,c){return Du.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function $r(g,c){return ro.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:y,verificationCode:T}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:y,code:T}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:y,phoneNumber:T,temporaryProof:R}=c;return y||f||T||R?new jr({verificationId:f,verificationCode:y,phoneNumber:T,temporaryProof:R}):null}}class io{constructor(c){var f,y,T,R,W,le;const ke=(0,O.zd)((0,O.pd)(c)),je=null!==(f=ke.apiKey)&&void 0!==f?f:null,et=null!==(y=ke.oobCode)&&void 0!==y?y:null,Re=function tl(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=ke.mode)&&void 0!==T?T:null);U(je&&et&&Re,"argument-error"),this.apiKey=je,this.operation=Re,this.code=et,this.continueUrl=null!==(R=ke.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=ke.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(le=ke.tenantId)&&void 0!==le?le:null}static parseLink(c){const f=function fr(g){const c=(0,O.zd)((0,O.pd)(g)).link,f=c?(0,O.zd)((0,O.pd)(c)).deep_link_id:null,y=(0,O.zd)((0,O.pd)(g)).deep_link_id;return(y?(0,O.zd)((0,O.pd)(y)).link:null)||y||f||c||g}(c);try{return new io(f)}catch{return null}}}let nl=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(f,y){return Pi._fromEmailAndPassword(f,y)}static credentialWithLink(f,y){const T=io.parseLink(y);return U(T,"argument-error"),Pi._fromEmailAndCode(f,T.code,T.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class gi{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ts extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class so extends ts{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return U("providerId"in f&&"signInMethod"in f,"argument-error"),br._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return U(c.idToken||c.accessToken,"argument-error"),br._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return so.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return so.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:y,oauthTokenSecret:T,pendingToken:R,nonce:W,providerId:le}=c;if(!y&&!T&&!f&&!R||!le)return null;try{return new so(le)._credential({idToken:f,accessToken:y,nonce:W,pendingToken:R})}catch{return null}}}let bu=(()=>{class g extends ts{constructor(){super("facebook.com")}static credential(f){return br._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Yc=(()=>{class g extends ts{constructor(){super("google.com"),this.addScope("profile")}static credential(f,y){return br._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:y})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:T}=f;if(!y&&!T)return null;try{return g.credential(y,T)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),rl=(()=>{class g extends ts{constructor(){super("github.com")}static credential(f){return br._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class qo extends cn{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return hn(c,this.buildRequest())}_linkToIdToken(c,f){const y=this.buildRequest();return y.idToken=f,hn(c,y)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,hn(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:T,pendingToken:R}=f;return y&&T&&R&&y===T?new qo(y,R):null}static _create(c,f){return new qo(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hr extends gi{constructor(c){U(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Hr.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Hr.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=qo.fromJSON(c);return U(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:y}=c;if(!f||!y)return null;try{return qo._create(y,f)}catch{return null}}}let Su=(()=>{class g extends ts{constructor(){super("twitter.com")}static credential(f,y){return br._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:y})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:y,oauthTokenSecret:T}=f;if(!y||!T)return null;try{return g.credential(y,T)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function il(g,c){return Au.apply(this,arguments)}function Au(){return(Au=(0,_.Z)(function*(g,c){return jn(g,"POST","/v1/accounts:signUp",Je(g,c))})).apply(this,arguments)}class rr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,y,T=!1){return(0,_.Z)(function*(){const R=yield yt._fromIdTokenResponse(c,y,T),W=Ru(y);return new rr({user:R,providerId:W,_tokenResponse:y,operationType:f})})()}static _forOperation(c,f,y){return(0,_.Z)(function*(){yield c._updateTokensIfNecessary(y,!0);const T=Ru(y);return new rr({user:c,providerId:T,_tokenResponse:y,operationType:f})})()}}function Ru(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function qc(){return(qc=(0,_.Z)(function*(g){var c;const f=tn(g);if(yield f._initializationPromise,null!==(c=f.currentUser)&&void 0!==c&&c.isAnonymous)return new rr({user:f.currentUser,providerId:null,operationType:"signIn"});const y=yield il(f,{returnSecureToken:!0}),T=yield rr._fromIdTokenResponse(f,"signIn",y,!0);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class Pu extends O.ZR{constructor(c,f,y,T){var R;super(f.code,f.message),this.operationType=y,this.user=T,Object.setPrototypeOf(this,Pu.prototype),this.customData={appName:c.name,tenantId:null!==(R=c.tenantId)&&void 0!==R?R:void 0,_serverResponse:f.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(c,f,y,T){return new Pu(c,f,y,T)}}function ns(g,c,f,y){return("reauthenticate"===c?f._getReauthenticationResolver(g):f._getIdTokenResponse(g)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Pu._fromErrorAndOperation(g,R,c,y):R})}function Oi(g){return new Set(g.map(({providerId:c})=>c).filter(c=>!!c))}function rs(){return(rs=(0,_.Z)(function*(g,c){const f=(0,O.m9)(g);yield is(!0,f,c);const{providerUserInfo:y}=yield cr(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),T=Oi(y||[]);return f.providerData=f.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function Jo(g,c){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,_.Z)(function*(g,c,f=!1){const y=yield Xt(g,c._linkToIdToken(g.auth,yield g.getIdToken()),f);return rr._forOperation(g,"link",y)})).apply(this,arguments)}function is(g,c,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,_.Z)(function*(g,c,f){yield Ut(c);const T=!1===g?"provider-already-linked":"no-such-provider";U(Oi(c.providerData).has(f)===g,c.auth,T)})).apply(this,arguments)}function ea(g,c){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,_.Z)(function*(g,c,f=!1){const{auth:y}=g,T="reauthenticate";try{const R=yield Xt(g,ns(y,T,c,g),f);U(R.idToken,y,"internal-error");const W=st(R.idToken);U(W,y,"internal-error");const{sub:le}=W;return U(g.uid===le,y,"user-mismatch"),rr._forOperation(g,T,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ce(y,"user-mismatch"),R}})).apply(this,arguments)}function ta(g,c){return ir.apply(this,arguments)}function ir(){return(ir=(0,_.Z)(function*(g,c,f=!1){const y="signIn",T=yield ns(g,y,c),R=yield rr._fromIdTokenResponse(g,y,T);return f||(yield g._updateCurrentUser(R.user)),R})).apply(this,arguments)}function an(g,c){return lo.apply(this,arguments)}function lo(){return(lo=(0,_.Z)(function*(g,c){return ta(tn(g),c)})).apply(this,arguments)}function fn(g,c){return As.apply(this,arguments)}function As(){return(As=(0,_.Z)(function*(g,c){const f=(0,O.m9)(g);return yield is(!1,f,c.providerId),Jo(f,c)})).apply(this,arguments)}function ss(g,c){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,_.Z)(function*(g,c){return ea((0,O.m9)(g),c)})).apply(this,arguments)}function Ou(g,c){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,_.Z)(function*(g,c){return jn(g,"POST","/v1/accounts:signInWithCustomToken",Je(g,c))})).apply(this,arguments)}function On(){return(On=(0,_.Z)(function*(g,c){const f=tn(g),y=yield Ou(f,{token:c,returnSecureToken:!0}),T=yield rr._fromIdTokenResponse(f,"signIn",y);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class uo{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?co._fromServerResponse(c,f):Ce(c,"internal-error")}}class co extends uo{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new co(f)}}function na(g,c,f){var y;U((null===(y=f.url)||void 0===y?void 0:y.length)>0,g,"invalid-continue-uri"),U(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(U(f.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(U(f.android.packageName.length>0,g,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function ho(){return(ho=(0,_.Z)(function*(g,c,f){const y=(0,O.m9)(g),T={requestType:"PASSWORD_RESET",email:c};f&&na(y,T,f),yield Ji(y,T)})).apply(this,arguments)}function ft(){return(ft=(0,_.Z)(function*(g,c,f){yield In((0,O.m9)(g),{oobCode:c,newPassword:f})})).apply(this,arguments)}function sl(){return(sl=(0,_.Z)(function*(g,c){yield pt((0,O.m9)(g),{oobCode:c})})).apply(this,arguments)}function ia(g,c){return ol.apply(this,arguments)}function ol(){return(ol=(0,_.Z)(function*(g,c){const f=(0,O.m9)(g),y=yield In(f,{oobCode:c}),T=y.requestType;switch(U(T,f,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(y.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(y.mfaInfo,f,"internal-error");default:U(y.email,f,"internal-error")}let R=null;return y.mfaInfo&&(R=uo._fromServerResponse(tn(f),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function sa(){return(sa=(0,_.Z)(function*(g,c){const{data:f}=yield ia((0,O.m9)(g),c);return f.email})).apply(this,arguments)}function Nu(){return(Nu=(0,_.Z)(function*(g,c,f){const y=tn(g),T=yield il(y,{returnSecureToken:!0,email:c,password:f}),R=yield rr._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}function ku(){return(ku=(0,_.Z)(function*(g,c,f){const y=(0,O.m9)(g),T={requestType:"EMAIL_SIGNIN",email:c};U(f.handleCodeInApp,y,"argument-error"),f&&na(y,T,f),yield Yo(y,T)})).apply(this,arguments)}function Ms(){return(Ms=(0,_.Z)(function*(g,c,f){const y=(0,O.m9)(g),T=nl.credentialWithLink(c,f||Se());return U(T._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),an(y,T)})).apply(this,arguments)}function oa(g,c){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,_.Z)(function*(g,c){return zt(g,"POST","/v1/accounts:createAuthUri",Je(g,c))})).apply(this,arguments)}function Ps(){return(Ps=(0,_.Z)(function*(g,c){const y={identifier:c,continueUri:qe()?Se():"http://localhost"},{signinMethods:T}=yield oa((0,O.m9)(g),y);return T||[]})).apply(this,arguments)}function Lu(){return(Lu=(0,_.Z)(function*(g,c){const f=(0,O.m9)(g),T={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};c&&na(f.auth,T,c);const{email:R}=yield on(f.auth,T);R!==g.email&&(yield g.reload())})).apply(this,arguments)}function nn(){return(nn=(0,_.Z)(function*(g,c,f){const y=(0,O.m9)(g),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:c};f&&na(y.auth,R,f);const{email:W}=yield Zc(y.auth,R);W!==g.email&&(yield g.reload())})).apply(this,arguments)}function ii(g,c){return ll.apply(this,arguments)}function ll(){return(ll=(0,_.Z)(function*(g,c){return zt(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Sr(){return(Sr=(0,_.Z)(function*(g,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const y=(0,O.m9)(g),R={idToken:yield y.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},W=yield Xt(y,ii(y.auth,R));y.displayName=W.displayName||null,y.photoURL=W.photoUrl||null;const le=y.providerData.find(({providerId:ke})=>"password"===ke);le&&(le.displayName=y.displayName,le.photoURL=y.photoURL),yield y._updateTokensIfNecessary(W)})).apply(this,arguments)}function cl(g,c,f){return po.apply(this,arguments)}function po(){return(po=(0,_.Z)(function*(g,c,f){const{auth:y}=g,R={idToken:yield g.getIdToken(),returnSecureToken:!0};c&&(R.email=c),f&&(R.password=f);const W=yield Xt(g,ei(y,R));yield g._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class os{constructor(c,f,y={}){this.isNewUser=c,this.providerId=f,this.profile=y}}class Uu extends os{constructor(c,f,y,T){super(c,f,y),this.username=T}}class dl extends os{constructor(c,f){super(c,"facebook.com",f)}}class Bu extends Uu{constructor(c,f){super(c,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Jc extends os{constructor(c,f){super(c,"google.com",f)}}class la extends Uu{constructor(c,f,y){super(c,"twitter.com",f,y)}}function Xc(g){const{user:c,_tokenResponse:f}=g;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Fu(g){var c,f;if(!g)return null;const{providerId:y}=g,T=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},R=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!y&&g?.idToken){const W=null===(f=null===(c=st(g.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(W)return new os(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!y)return null;switch(y){case"facebook.com":return new dl(R,T);case"github.com":return new Bu(R,T);case"google.com":return new Jc(R,T);case"twitter.com":return new la(R,T,g.screenName||null);case"custom":case"anonymous":return new os(R,null);default:return new os(R,y,T)}}(f)}class as{constructor(c,f,y){this.type=c,this.credential=f,this.auth=y}static _fromIdtoken(c,f){return new as("enroll",c,f)}static _fromMfaPendingCredential(c){return new as("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,y;if(c?.multiFactorSession){if(null!==(f=c.multiFactorSession)&&void 0!==f&&f.pendingCredential)return as._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(y=c.multiFactorSession)&&void 0!==y&&y.idToken)return as._fromIdtoken(c.multiFactorSession.idToken)}return null}}class fl{constructor(c,f,y){this.session=c,this.hints=f,this.signInResolver=y}static _fromError(c,f){const y=tn(c),T=f.customData._serverResponse,R=(T.mfaInfo||[]).map(le=>uo._fromServerResponse(y,le));U(T.mfaPendingCredential,y,"internal-error");const W=as._fromMfaPendingCredential(T.mfaPendingCredential);return new fl(W,R,function(){var le=(0,_.Z)(function*(ke){const je=yield ke._process(y,W);delete T.mfaInfo,delete T.mfaPendingCredential;const et=Object.assign(Object.assign({},T),{idToken:je.idToken,refreshToken:je.refreshToken});switch(f.operationType){case"signIn":const Re=yield rr._fromIdTokenResponse(y,f.operationType,et);return yield y._updateCurrentUser(Re.user),Re;case"reauthenticate":return U(f.user,y,"internal-error"),rr._forOperation(f.user,f.operationType,et);default:Ce(y,"internal-error")}});return function(ke){return le.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,_.Z)(function*(){return f.signInResolver(c)})()}}function ed(g,c){return zt(g,"POST","/v2/accounts/mfaEnrollment:start",Je(g,c))}class Ni{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(y=>uo._fromServerResponse(c.auth,y)))})}static _fromUser(c){return new Ni(c)}getSession(){var c=this;return(0,_.Z)(function*(){return as._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,f){var y=this;return(0,_.Z)(function*(){const T=c,R=yield y.getSession(),W=yield Xt(y.user,T._process(y.user.auth,R,f));return yield y.user._updateTokensIfNecessary(W),y.user.reload()})()}unenroll(c){var f=this;return(0,_.Z)(function*(){const y="string"==typeof c?c:c.uid,T=yield f.user.getIdToken(),R=yield Xt(f.user,function td(g,c){return zt(g,"POST","/v2/accounts/mfaEnrollment:withdraw",Je(g,c))}(f.user.auth,{idToken:T,mfaEnrollmentId:y}));f.enrolledFactors=f.enrolledFactors.filter(({uid:W})=>W!==y),yield f.user._updateTokensIfNecessary(R);try{yield f.user.reload()}catch(W){if("auth/user-token-expired"!==W?.code)throw W}})()}}const Ar=new WeakMap,Wr="__sak";class pl{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Wr,"1"),this.storage.removeItem(Wr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const gl=(()=>{class g extends pl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,y)=>this.onStorageEvent(f,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vu(){const g=(0,O.z$)();return vt(g)||Dn(g)}()&&function eo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gc(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const y of Object.keys(this.listeners)){const T=this.storage.getItem(y),R=this.localCache[y];T!==R&&f(y,R,T)}}onStorageEvent(f,y=!1){if(!f.key)return void this.forAllChangedKeys((le,ke,je)=>{this.notifyListeners(le,je)});const T=f.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(T);if(f.newValue!==le)null!==f.newValue?this.storage.setItem(T,f.newValue):this.storage.removeItem(T);else if(this.localCache[T]===f.newValue&&!y)return}const R=()=>{const le=this.storage.getItem(T);!y&&this.localCache[T]===le||this.notifyListeners(T,le)},W=this.storage.getItem(T);!function Xs(){return(0,O.w1)()&&10===document.documentMode}()||W===f.newValue||f.newValue===f.oldValue?R():setTimeout(R,10)}notifyListeners(f,y){this.localCache[f]=y;const T=this.listeners[f];if(T)for(const R of Array.from(T))R(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,y,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:y,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,y){var T=()=>super._set,R=this;return(0,_.Z)(function*(){yield T().call(R,f,y),R.localCache[f]=JSON.stringify(y)})()}_get(f){var y=()=>super._get,T=this;return(0,_.Z)(function*(){const R=yield y().call(T,f);return T.localCache[f]=JSON.stringify(R),R})()}_remove(f){var y=()=>super._remove,T=this;return(0,_.Z)(function*(){yield y().call(T,f),delete T.localCache[f]})()}}return g.type="LOCAL",g})(),si=(()=>{class g extends pl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,y){}_removeListener(f,y){}}return g.type="SESSION",g})();let $u=(()=>{class g{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const y=this.receivers.find(R=>R.isListeningto(f));if(y)return y;const T=new g(f);return this.receivers.push(T),T}isListeningto(f){return this.eventTarget===f}handleEvent(f){var y=this;return(0,_.Z)(function*(){const T=f,{eventId:R,eventType:W,data:le}=T.data,ke=y.handlersMap[W];if(!ke?.size)return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const je=Array.from(ke).map(function(){var Re=(0,_.Z)(function*(_n){return _n(T.origin,le)});return function(_n){return Re.apply(this,arguments)}}()),et=yield function ml(g){return Promise.all(g.map(function(){var c=(0,_.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(y){return{fulfilled:!1,reason:y}}});return function(f){return c.apply(this,arguments)}}()))}(je);T.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:et})})()}_subscribe(f,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(y)}_unsubscribe(f,y){this.handlersMap[f]&&y&&this.handlersMap[f].delete(y),(!y||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function ki(g="",c=10){let f="";for(let y=0;y<c;y++)f+=Math.floor(10*Math.random());return g+f}class _l{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,y=50){var T=this;return(0,_.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,le;return new Promise((ke,je)=>{const et=ki("",20);R.port1.start();const Re=setTimeout(()=>{je(new Error("unsupported_event"))},y);le={messageChannel:R,onMessage(_n){const Or=_n;if(Or.data.eventId===et)switch(Or.data.status){case"ack":clearTimeout(Re),W=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),ke(Or.data.response);break;default:clearTimeout(Re),clearTimeout(W),je(new Error("invalid_response"))}}},T.handlers.add(le),R.port1.addEventListener("message",le.onMessage),T.target.postMessage({eventType:c,eventId:et,data:f},[R.port2])}).finally(()=>{le&&T.removeMessageHandler(le)})})()}}function qt(){return window}function ks(){return typeof qt().WorkerGlobalScope<"u"&&"function"==typeof qt().importScripts}function da(){return(da=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fa="firebaseLocalStorageDb",_i="firebaseLocalStorage",pa="fbase_key";class Fi{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function ls(g,c){return g.transaction([_i],c?"readwrite":"readonly").objectStore(_i)}function ma(){const g=indexedDB.open(fa,1);return new Promise((c,f)=>{g.addEventListener("error",()=>{f(g.error)}),g.addEventListener("upgradeneeded",()=>{const y=g.result;try{y.createObjectStore(_i,{keyPath:pa})}catch(T){f(T)}}),g.addEventListener("success",(0,_.Z)(function*(){const y=g.result;y.objectStoreNames.contains(_i)?c(y):(y.close(),yield function ga(){const g=indexedDB.deleteDatabase(fa);return new Fi(g).toPromise()}(),c(yield ma()))}))})}function sr(g,c,f){return yl.apply(this,arguments)}function yl(){return(yl=(0,_.Z)(function*(g,c,f){const y=ls(g,!0).put({[pa]:c,value:f});return new Fi(y).toPromise()})).apply(this,arguments)}function us(){return(us=(0,_.Z)(function*(g,c){const f=ls(g,!1).get(c),y=yield new Fi(f).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function yo(g,c){const f=ls(g,!0).delete(c);return new Fi(f).toPromise()}const yi=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,_.Z)(function*(){return f.db||(f.db=yield ma()),f.db})()}_withRetries(f){var y=this;return(0,_.Z)(function*(){let T=0;for(;;)try{const R=yield y._openDb();return yield f(R)}catch(R){if(T++>3)throw R;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,_.Z)(function*(){return ks()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,_.Z)(function*(){f.receiver=$u._getInstance(function ha(){return ks()?self:null}()),f.receiver._subscribe("keyChanged",function(){var y=(0,_.Z)(function*(T,R){return{keyProcessed:(yield f._poll()).includes(R.key)}});return function(T,R){return y.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var y=(0,_.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return y.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,_.Z)(function*(){var y,T;if(f.activeServiceWorker=yield function Li(){return da.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new _l(f.activeServiceWorker);const R=yield f.sender._send("ping",{},800);!R||(null===(y=R[0])||void 0===y?void 0:y.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var y=this;return(0,_.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function ju(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:f},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const f=yield ma();return yield sr(f,Wr,"1"),yield yo(f,Wr),!0}catch{}return!1})()}_withPendingWrite(f){var y=this;return(0,_.Z)(function*(){y.pendingWrites++;try{yield f()}finally{y.pendingWrites--}})()}_set(f,y){var T=this;return(0,_.Z)(function*(){return T._withPendingWrite((0,_.Z)(function*(){return yield T._withRetries(R=>sr(R,f,y)),T.localCache[f]=y,T.notifyServiceWorker(f)}))})()}_get(f){var y=this;return(0,_.Z)(function*(){const T=yield y._withRetries(R=>function Fs(g,c){return us.apply(this,arguments)}(R,f));return y.localCache[f]=T,T})()}_remove(f){var y=this;return(0,_.Z)(function*(){return y._withPendingWrite((0,_.Z)(function*(){return yield y._withRetries(T=>yo(T,f)),delete y.localCache[f],y.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,_.Z)(function*(){const y=yield f._withRetries(W=>{const le=ls(W,!1).getAll();return new Fi(le).toPromise()});if(!y)return[];if(0!==f.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:W,value:le}of y)R.add(W),JSON.stringify(f.localCache[W])!==JSON.stringify(le)&&(f.notifyListeners(W,le),T.push(W));for(const W of Object.keys(f.localCache))f.localCache[W]&&!R.has(W)&&(f.notifyListeners(W,null),T.push(W));return T})()}notifyListeners(f,y){this.localCache[f]=y;const T=this.listeners[f];if(T)for(const R of Array.from(T))R(y)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function El(g,c){return zt(g,"POST","/v2/accounts/mfaSignIn:start",Je(g,c))}function Il(){return(Il=(0,_.Z)(function*(g){return(yield zt(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gr(g){return new Promise((c,f)=>{const y=document.createElement("script");y.setAttribute("src",g),y.onload=c,y.onerror=T=>{const R=pe("internal-error");R.customData=T,f(R)},y.type="text/javascript",y.charset="UTF-8",function vo(){var g,c;return null!==(c=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==c?c:document}().appendChild(y)})}function Cl(g){return`__${g}${Math.floor(1e6*Math.random())}`}const Mr=1e12;class rd{constructor(c){this.auth=c,this.counter=Mr,this._widgets=new Map}render(c,f){const y=this.counter;return this._widgets.set(y,new wl(c,this.auth.name,f||{})),this.counter++,y}reset(c){var f;const y=c||Mr;null===(f=this._widgets.get(y))||void 0===f||f.delete(),this._widgets.delete(y)}getResponse(c){var f;return(null===(f=this._widgets.get(c||Mr))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,_.Z)(function*(){var y;return null===(y=f._widgets.get(c||Mr))||void 0===y||y.execute(),""})()}}class wl{constructor(c,f,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof c?document.getElementById(c):c;U(T,"argument-error",{appName:f}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dl(g){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<g;y++)c.push(f.charAt(Math.floor(Math.random()*f.length)));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const id=Cl("rcb"),Wu=new Dt(3e4,6e4);class Ui{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=qt().grecaptcha)||void 0===c||!c.render)}load(c,f=""){return U(function Us(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(f),c,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(qt().grecaptcha):new Promise((y,T)=>{const R=qt().setTimeout(()=>{T(pe(c,"network-request-failed"))},Wu.get());qt()[id]=()=>{qt().clearTimeout(R),delete qt()[id];const le=qt().grecaptcha;if(!le)return void T(pe(c,"internal-error"));const ke=le.render;le.render=(je,et)=>{const Re=ke(je,et);return this.counter++,Re},this.hostLanguage=f,y(le)},Gr(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:id,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(R),T(pe(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var f;return!(null===(f=qt().grecaptcha)||void 0===f||!f.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Eo{load(c){return(0,_.Z)(function*(){return new rd(c)})()}clearedOneInstance(){}}const Gu="recaptcha",sd={theme:"light",type:"image"};class va{constructor(c,f=Object.assign({},sd),y){this.parameters=f,this.type=Gu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tn(y),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof c?document.getElementById(c):c;U(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eo:new Ui,this.validateStartingState()}verify(){var c=this;return(0,_.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),y=c.getAssertedRecaptcha();return y.getResponse(f)||new Promise(R=>{const W=le=>{!le||(c.tokenChangeListeners.delete(W),R(le))};c.tokenChangeListeners.add(W),c.isInvisible&&y.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(y=>y(f)),"function"==typeof c)c(f);else if("string"==typeof c){const y=qt()[c];"function"==typeof y&&y(f)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,_.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const y=document.createElement("div");f.appendChild(y),f=y}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,_.Z)(function*(){U(qe()&&!ks(),c.auth,"internal-error"),yield function od(){let g=null;return new Promise(c=>{"complete"!==document.readyState?(g=()=>c(),window.addEventListener("load",g)):c()}).catch(c=>{throw g&&window.removeEventListener("load",g),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function zr(g){return Il.apply(this,arguments)}(c.auth);U(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vi{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=jr._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function bl(){return(bl=(0,_.Z)(function*(g,c,f){const y=tn(g),T=yield Ku(y,c,(0,O.m9)(f));return new vi(T,R=>an(y,R))})).apply(this,arguments)}function Tl(){return(Tl=(0,_.Z)(function*(g,c,f){const y=(0,O.m9)(g);yield is(!1,y,"phone");const T=yield Ku(y.auth,c,(0,O.m9)(f));return new vi(T,R=>fn(y,R))})).apply(this,arguments)}function ad(){return(ad=(0,_.Z)(function*(g,c,f){const y=(0,O.m9)(g),T=yield Ku(y.auth,c,(0,O.m9)(f));return new vi(T,R=>ss(y,R))})).apply(this,arguments)}function Ku(g,c,f){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,_.Z)(function*(g,c,f){var y;const T=yield f.verify();try{let R;if(U("string"==typeof T,g,"argument-error"),U(f.type===Gu,g,"argument-error"),R="string"==typeof c?{phoneNumber:c}:c,"session"in R){const W=R.session;if("phoneNumber"in R)return U("enroll"===W.type,g,"internal-error"),(yield ed(g,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{U("signin"===W.type,g,"internal-error");const le=(null===(y=R.multiFactorHint)||void 0===y?void 0:y.uid)||R.multiFactorUid;return U(le,g,"missing-multi-factor-info"),(yield El(g,{mfaPendingCredential:W.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield wu(g,{phoneNumber:R.phoneNumber,recaptchaToken:T});return W}}finally{f._reset()}})).apply(this,arguments)}function ld(){return(ld=(0,_.Z)(function*(g,c){yield Jo((0,O.m9)(g),c)})).apply(this,arguments)}let Al=(()=>{class g{constructor(f){this.providerId=g.PROVIDER_ID,this.auth=tn(f)}verifyPhoneNumber(f,y){return Ku(this.auth,f,(0,O.m9)(y))}static credential(f,y){return jr._fromVerification(f,y)}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:y,temporaryProof:T}=f;return y&&T?jr._fromTokenResponse(y,T):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Zt(g,c){return c?ne(c):(U(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Ea extends cn{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return hn(c,this._buildIdpRequest())}_linkToIdToken(c,f){return hn(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return hn(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function Io(g){return ta(g.auth,new Ea(g),g.bypassAuthState)}function qu(g){const{auth:c,user:f}=g;return U(f,c,"internal-error"),ea(f,new Ea(g),g.bypassAuthState)}function gr(g){return ai.apply(this,arguments)}function ai(){return(ai=(0,_.Z)(function*(g){const{auth:c,user:f}=g;return U(f,c,"internal-error"),Jo(f,new Ea(g),g.bypassAuthState)})).apply(this,arguments)}class Ia{constructor(c,f,y,T,R=!1){this.auth=c,this.resolver=y,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,_.Z)(function*(y,T){c.pendingPromise={resolve:y,reject:T};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(R){c.reject(R)}});return function(y,T){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,_.Z)(function*(){const{urlResponse:y,sessionId:T,postBody:R,tenantId:W,error:le,type:ke}=c;if(le)return void f.reject(le);const je={auth:f.auth,requestUri:y,sessionId:T,tenantId:W||void 0,postBody:R||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(ke)(je))}catch(et){f.reject(et)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Io;case"linkViaPopup":case"linkViaRedirect":return gr;case"reauthViaPopup":case"reauthViaRedirect":return qu;default:Ce(this.auth,"internal-error")}}resolve(c){z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Co=new Dt(2e3,1e4);function Ca(){return(Ca=(0,_.Z)(function*(g,c,f){const y=tn(g);xe(g,c,gi);const T=Zt(y,f);return new Yn(y,"signInViaPopup",c,T).executeNotNull()})).apply(this,arguments)}function Qu(){return(Qu=(0,_.Z)(function*(g,c,f){const y=(0,O.m9)(g);xe(y.auth,c,gi);const T=Zt(y.auth,f);return new Yn(y.auth,"reauthViaPopup",c,T,y).executeNotNull()})).apply(this,arguments)}function Kn(){return(Kn=(0,_.Z)(function*(g,c,f){const y=(0,O.m9)(g);xe(y.auth,c,gi);const T=Zt(y.auth,f);return new Yn(y.auth,"linkViaPopup",c,T,y).executeNotNull()})).apply(this,arguments)}let Yn=(()=>{class g extends Ia{constructor(f,y,T,R,W){super(f,y,R,W),this.provider=T,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var f=this;return(0,_.Z)(function*(){const y=yield f.execute();return U(y,f.auth,"internal-error"),y})()}onExecution(){var f=this;return(0,_.Z)(function*(){z(1===f.filter.length,"Popup operations only handle one event");const y=ki();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],y),f.authWindow.associatedEvent=y,f.resolver._originValidation(f.auth).catch(T=>{f.reject(T)}),f.resolver._isIframeWebStorageSupported(f.auth,T=>{T||f.reject(pe(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const f=()=>{var y,T;this.pollId=null!==(T=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Co.get())};f()}}return g.currentPopupAction=null,g})();const Pr=new Map;class cs extends Ia{constructor(c,f,y=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,y),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,_.Z)(function*(){let y=Pr.get(f.auth._key());if(!y){try{const R=(yield function gn(g,c){return He.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;y=()=>Promise.resolve(R)}catch(T){y=()=>Promise.reject(T)}Pr.set(f.auth._key(),y)}return f.bypassAuthState||Pr.set(f.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,y=this;return(0,_.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(y,c);if("unknown"!==c.type){if(c.eventId){const T=yield y.auth._redirectUserForId(c.eventId);if(T)return y.user=T,f().call(y,c);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function He(){return(He=(0,_.Z)(function*(g,c){const f=ln(c),y=mn(g);if(!(yield y._isAvailable()))return!1;const T="true"===(yield y._get(f));return yield y._remove(f),T})).apply(this,arguments)}function wo(g,c){return it.apply(this,arguments)}function it(){return(it=(0,_.Z)(function*(g,c){return mn(g)._set(ln(c),"true")})).apply(this,arguments)}function Do(g,c){Pr.set(g._key(),c)}function mn(g){return ne(g._redirectPersistence)}function ln(g){return G("pendingRedirect",g.config.apiKey,g.name)}function C(){return(C=(0,_.Z)(function*(g,c,f){const y=tn(g);xe(g,c,gi);const T=Zt(y,f);return yield wo(T,y),T._openRedirect(y,c,"signInViaRedirect")})).apply(this,arguments)}function k(){return(k=(0,_.Z)(function*(g,c,f){const y=(0,O.m9)(g);xe(y.auth,c,gi);const T=Zt(y.auth,f);yield wo(T,y.auth);const R=yield rt(y);return T._openRedirect(y.auth,c,"reauthViaRedirect",R)})).apply(this,arguments)}function Ie(){return(Ie=(0,_.Z)(function*(g,c,f){const y=(0,O.m9)(g);xe(y.auth,c,gi);const T=Zt(y.auth,f);yield is(!1,y,c.providerId),yield wo(T,y.auth);const R=yield rt(y);return T._openRedirect(y.auth,c,"linkViaRedirect",R)})).apply(this,arguments)}function Ye(){return(Ye=(0,_.Z)(function*(g,c){return yield tn(g)._initializationPromise,Ge(g,c,!1)})).apply(this,arguments)}function Ge(g,c){return ut.apply(this,arguments)}function ut(){return(ut=(0,_.Z)(function*(g,c,f=!1){const y=tn(g),T=Zt(y,c),W=yield new cs(y,T,f).execute();return W&&!f&&(delete W.user._redirectEventId,yield y._persistUserIfCurrent(W.user),yield y._setRedirectUser(null,c)),W})).apply(this,arguments)}function rt(g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,_.Z)(function*(g){const c=ki(`${g.uid}:::`);return g._redirectEventId=c,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),c})).apply(this,arguments)}class Bi{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(c,y)&&(f=!0,this.sendToConsumer(c,y),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function mr(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ds(g);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var y;if(c.error&&!ds(c)){const T=(null===(y=c.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";f.onError(pe(this.auth,T))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const y=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&y}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Da(c))}saveEventToCache(c){this.cachedEventUids.add(Da(c)),this.lastProcessedEventTime=Date.now()}}function Da(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(c=>c).join("-")}function ds({type:g,error:c}){return"unknown"===g&&"auth/no-auth-event"===c?.code}function li(g){return hs.apply(this,arguments)}function hs(){return(hs=(0,_.Z)(function*(g,c={}){return zt(g,"GET","/v1/projects",c)})).apply(this,arguments)}const Ah=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rh=/^https?/;function Ju(){return(Ju=(0,_.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:c}=yield li(g);for(const f of c)try{if(bo(f))return}catch{}Ce(g,"unauthorized-domain")})).apply(this,arguments)}function bo(g){const c=Se(),{protocol:f,hostname:y}=new URL(c);if(g.startsWith("chrome-extension://")){const W=new URL(g);return""===W.hostname&&""===y?"chrome-extension:"===f&&g.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&W.hostname===y}if(!Rh.test(f))return!1;if(Ah.test(g))return y===g;const T=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(y)}const Wp=new Dt(3e4,6e4);function cd(){const g=qt().___jsl;if(g?.H)for(const c of Object.keys(g.H))if(g.H[c].r=g.H[c].r||[],g.H[c].L=g.H[c].L||[],g.H[c].r=[...g.H[c].L],g.CP)for(let f=0;f<g.CP.length;f++)g.CP[f]=null}let ui=null;function zp(g){return ui=ui||function Rl(g){return new Promise((c,f)=>{var y,T,R;function W(){cd(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{cd(),f(pe(g,"network-request-failed"))},timeout:Wp.get()})}if(null!==(T=null===(y=qt().gapi)||void 0===y?void 0:y.iframes)&&void 0!==T&&T.Iframe)c(gapi.iframes.getContext());else{if(null===(R=qt().gapi)||void 0===R||!R.load){const le=Cl("iframefcb");return qt()[le]=()=>{gapi.load?W():f(pe(g,"network-request-failed"))},Gr(`https://apis.google.com/js/api.js?onload=${le}`).catch(ke=>f(ke))}W()}}).catch(c=>{throw ui=null,c})}(g),ui}const Gp=new Dt(5e3,15e3),Mh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _r(g){const c=g.config;U(c.authDomain,g,"auth-domain-config-required");const f=c.emulator?Qe(c,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,y={apiKey:c.apiKey,appName:g.name,v:ie.SDK_VERSION},T=fs.get(g.config.apiHost);T&&(y.eid=T);const R=g._getFrameworks();return R.length&&(y.fw=R.join(",")),`${f}?${(0,O.xO)(y).slice(1)}`}function ba(){return ba=(0,_.Z)(function*(g){const c=yield zp(g),f=qt().gapi;return U(f,g,"internal-error"),c.open({where:document.body,url:_r(g),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mh,dontclear:!0},y=>new Promise(function(){var T=(0,_.Z)(function*(R,W){yield y.restyle({setHideOnLeave:!1});const le=pe(g,"network-request-failed"),ke=qt().setTimeout(()=>{W(le)},Gp.get());function je(){qt().clearTimeout(ke),R(y)}y.ping(je).then(je,()=>{W(le)})});return function(R,W){return T.apply(this,arguments)}}()))}),ba.apply(this,arguments)}const Ph={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yr{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ml(g,c,f,y,T,R){U(g.config.authDomain,g,"auth-domain-config-required"),U(g.config.apiKey,g,"invalid-api-key");const W={apiKey:g.config.apiKey,appName:g.name,authType:f,redirectUrl:y,v:ie.SDK_VERSION,eventId:T};if(c instanceof gi){c.setDefaultLanguage(g.languageCode),W.providerId=c.providerId||"",(0,O.xb)(c.getCustomParameters())||(W.customParameters=JSON.stringify(c.getCustomParameters()));for(const[ke,je]of Object.entries(R||{}))W[ke]=je}if(c instanceof ts){const ke=c.getScopes().filter(je=>""!==je);ke.length>0&&(W.scopes=ke.join(","))}g.tenantId&&(W.tid=g.tenantId);const le=W;for(const ke of Object.keys(le))void 0===le[ke]&&delete le[ke];return`${function Zp({config:g}){return g.emulator?Qe(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,O.xO)(le).slice(1)}`}const fd="webStorageSupport",pd=class Kp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=si,this._completeRedirectFn=Ge,this._overrideRedirectResult=Do}_openPopup(c,f,y,T){var R=this;return(0,_.Z)(function*(){var W;z(null===(W=R.eventManagers[c._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const le=Ml(c,f,y,Se(),T);return function dd(g,c,f,y=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),W=Math.max((window.screen.availWidth-y)/2,0).toString();let le="";const ke=Object.assign(Object.assign({},Ph),{width:y.toString(),height:T.toString(),top:R,left:W}),je=(0,O.z$)().toLowerCase();f&&(le=Rt(je)?"_blank":f),We(je)&&(c=c||"http://localhost",ke.scrollbars="yes");const et=Object.entries(ke).reduce((_n,[Or,jl])=>`${_n}${Or}=${jl},`,"");if(function zn(g=(0,O.z$)()){var c;return Dn(g)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(je)&&"_self"!==le)return function xh(g,c){const f=document.createElement("a");f.href=g,f.target=c;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(y)}(c||"",le),new yr(null);const Re=window.open(c||"",le,et);U(Re,g,"popup-blocked");try{Re.focus()}catch{}return new yr(Re)}(c,le,ki())})()}_openRedirect(c,f,y,T){var R=this;return(0,_.Z)(function*(){return yield R._originValidation(c),function Ns(g){qt().location.href=g}(Ml(c,f,y,Se(),T)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:T,promise:R}=this.eventManagers[f];return T?Promise.resolve(T):(z(R,"If manager is not set, promise should be"),R)}const y=this.initAndGetManager(c);return this.eventManagers[f]={promise:y},y.catch(()=>{delete this.eventManagers[f]}),y}initAndGetManager(c){var f=this;return(0,_.Z)(function*(){const y=yield function A_(g){return ba.apply(this,arguments)}(c),T=new Bi(c);return y.register("authEvent",R=>(U(R?.authEvent,c,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:T},f.iframes[c._key()]=y,T})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(fd,{type:fd},T=>{var R;const W=null===(R=T?.[0])||void 0===R?void 0:R[fd];void 0!==W&&f(!!W),Ce(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Vs(g){return Ju.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return Gc()||vt()||Dn()}};class Yp{constructor(c){this.factorId=c}_process(c,f,y){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,y);case"signin":return this._finalizeSignIn(c,f.credential);default:return he("unexpected MultiFactorSessionType")}}}class ec extends Yp{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new ec(c)}_finalizeEnroll(c,f,y){return function Sh(g,c){return zt(g,"POST","/v2/accounts/mfaEnrollment:finalize",Je(g,c))}(c,{idToken:f,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function nd(g,c){return zt(g,"POST","/v2/accounts/mfaSignIn:finalize",Je(g,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Nn=(()=>{class g{constructor(){}static assertion(f){return ec._fromCredential(f)}}return g.FACTOR_ID="phone",g})();var tc="@firebase/auth";class gd{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,_.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(y=>{c(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);!f||(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gs(){return window}function Ol(){return(Ol=(0,_.Z)(function*(g,c,f){var y;const{BuildInfo:T}=gs();z(c.sessionId,"AuthEvent did not contain a session ID");const R=yield Ed(c.sessionId),W={};return Dn()?W.ibi=T.packageName:nt()?W.apn=T.packageName:Ce(g,"operation-not-supported-in-this-environment"),T.displayName&&(W.appDisplayName=T.displayName),W.sessionId=R,Ml(g,f,c.type,void 0,null!==(y=c.eventId)&&void 0!==y?y:void 0,W)})).apply(this,arguments)}function Ta(){return(Ta=(0,_.Z)(function*(g){const{BuildInfo:c}=gs(),f={};Dn()?f.iosBundleId=c.packageName:nt()?f.androidPackageName=c.packageName:Ce(g,"operation-not-supported-in-this-environment"),yield li(g,f)})).apply(this,arguments)}function js(){return(js=(0,_.Z)(function*(g,c,f){const{cordova:y}=gs();let T=()=>{};try{yield new Promise((R,W)=>{let le=null;function ke(){var Re;R();const _n=null===(Re=y.plugins.browsertab)||void 0===Re?void 0:Re.close;"function"==typeof _n&&_n(),"function"==typeof f?.close&&f.close()}function je(){le||(le=window.setTimeout(()=>{W(pe(g,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===document?.visibilityState&&je()}c.addPassiveListener(ke),document.addEventListener("resume",je,!1),nt()&&document.addEventListener("visibilitychange",et,!1),T=()=>{c.removePassiveListener(ke),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",et,!1),le&&window.clearTimeout(le)}})}finally{T()}})).apply(this,arguments)}function Ed(g){return So.apply(this,arguments)}function So(){return(So=(0,_.Z)(function*(g){const c=Nl(g),f=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(f)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Nl(g){if(z(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const c=new ArrayBuffer(g.length),f=new Uint8Array(c);for(let y=0;y<g.length;y++)f[y]=g.charCodeAt(y);return f}(0,O.Pz)("authIdTokenMaxAge"),function ps(g){(0,ie._registerComponent)(new ce.wA("auth",(c,{options:f})=>{const y=c.getProvider("app").getImmediate(),T=c.getProvider("heartbeat"),{apiKey:R,authDomain:W}=y.options;return((le,ke)=>{U(R&&!R.includes(":"),"invalid-api-key",{appName:le.name}),U(!W?.includes(":"),"argument-error",{appName:le.name});const je={apiKey:R,authDomain:W,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ko(g)},et=new Iu(le,ke,je);return function Pe(g,c){const f=c?.persistence||[],y=(Array.isArray(f)?f:[f]).map(ne);c?.errorMap&&g._updateErrorMap(c.errorMap),g._initializeWithPersistence(y,c?.popupRedirectResolver)}(et,f),et})(y,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,y)=>{c.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ce.wA("auth-internal",c=>{const f=tn(c.getProvider("auth").getImmediate());return new gd(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(tc,"0.21.0",function or(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,ie.registerVersion)(tc,"0.21.0","esm2017")}("Browser");class Sa extends Bi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(c)),super.onEvent(c)}initialized(){var c=this;return(0,_.Z)(function*(){yield c.initPromise})()}}function Uh(g){return kl.apply(this,arguments)}function kl(){return(kl=(0,_.Z)(function*(g){const c=yield rc()._get(Id(g));return c&&(yield rc()._remove(Id(g))),c})).apply(this,arguments)}function Vh(){const g=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const y=Math.floor(Math.random()*c.length);g.push(c.charAt(y))}return g.join("")}function rc(){return ne(gl)}function Id(g){return G("authEvent",g.config.apiKey,g.name)}function Ll(g){if(!g?.includes("?"))return{};const[c,...f]=g.split("?");return(0,O.zd)(f.join("?"))}const ic=class wd{constructor(){this._redirectPersistence=si,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ge,this._overrideRedirectResult=Do}_initialize(c){var f=this;return(0,_.Z)(function*(){const y=c._key();let T=f.eventManagers.get(y);return T||(T=new Sa(c),f.eventManagers.set(y,T),f.attachCallbackListeners(c,T)),T})()}_openPopup(c){Ce(c,"operation-not-supported-in-this-environment")}_openRedirect(c,f,y,T){var R=this;return(0,_.Z)(function*(){!function Jp(g){var c,f,y,T,R,W,le,ke,je,et;const Re=gs();U("function"==typeof(null===(c=Re?.universalLinks)||void 0===c?void 0:c.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(f=Re?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(R=null===(T=null===(y=Re?.cordova)||void 0===y?void 0:y.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(ke=null===(le=null===(W=Re?.cordova)||void 0===W?void 0:W.plugins)||void 0===le?void 0:le.browsertab)||void 0===ke?void 0:ke.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(et=null===(je=Re?.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===et?void 0:et.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const W=yield R._initialize(c);yield W.initialized(),W.resetRedirect(),function ud(){Pr.clear()}(),yield R._originValidation(c);const le=function nc(g,c,f=null){return{type:c,eventId:f,urlResponse:null,sessionId:Vh(),postBody:null,tenantId:g.tenantId,error:pe(g,"no-auth-event")}}(c,y,T);yield function Fh(g,c){return rc()._set(Id(g),c)}(c,le);const ke=yield function vd(g,c,f){return Ol.apply(this,arguments)}(c,le,f),je=yield function xl(g){const{cordova:c}=gs();return new Promise(f=>{c.plugins.browsertab.isAvailable(y=>{let T=null;y?c.plugins.browsertab.openUrl(g):T=c.InAppBrowser.open(g,function Cs(g=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),f(T)})})}(ke);return function Qp(g,c,f){return js.apply(this,arguments)}(c,W,je)})()}_isIframeWebStorageSupported(c,f){throw new Error("Method not implemented.")}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function kh(g){return Ta.apply(this,arguments)}(c)),this.originValidationPromises[f]}attachCallbackListeners(c,f){const{universalLinks:y,handleOpenURL:T,BuildInfo:R}=gs(),W=setTimeout((0,_.Z)(function*(){yield Uh(c),f.onEvent($h())}),500),le=function(){var et=(0,_.Z)(function*(Re){clearTimeout(W);const _n=yield Uh(c);let Or=null;_n&&Re?.url&&(Or=function Bh(g,c){var f,y;const T=function eg(g){const c=Ll(g),f=c.link?decodeURIComponent(c.link):void 0,y=Ll(f).link,T=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Ll(T).link||T||y||f||g}(c);if(T.includes("/__/auth/callback")){const R=Ll(T),W=R.firebaseError?function Xp(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,le=null===(y=null===(f=W?.code)||void 0===f?void 0:f.split("auth/"))||void 0===y?void 0:y[1],ke=le?pe(le):null;return ke?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:T,postBody:null}}return null}(_n,Re.url)),f.onEvent(Or||$h())});return function(_n){return et.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,le);const ke=T,je=`${R.packageName.toLowerCase()}://`;gs().handleOpenURL=function(){var et=(0,_.Z)(function*(Re){if(Re.toLowerCase().startsWith(je)&&le({url:Re}),"function"==typeof ke)try{ke(Re)}catch(_n){console.error(_n)}});return function(Re){return et.apply(this,arguments)}}()}};function $h(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pe("no-auth-event")}}function Aa(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function Fl(g=(0,O.z$)()){return!("file:"!==Aa()&&"ionic:"!==Aa()&&"capacitor:"!==Aa()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dd(){try{const g=self.localStorage,c=ki();if(g)return g.setItem(c,"1"),g.removeItem(c),!function Wh(g=(0,O.z$)()){return function Bl(){return(0,O.w1)()&&11===document?.documentMode}()||function ng(g=(0,O.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,O.hl)()}catch{return sc()&&(0,O.hl)()}return!1}function sc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ao(){return(function Hh(){return"http:"===Aa()||"https:"===Aa()}()||(0,O.ru)()||Fl())&&!function Ul(){return(0,O.b$)()||(0,O.UG)()}()&&Dd()&&!sc()}function oc(){return Fl()&&typeof document<"u"}function Ro(){return(Ro=(0,_.Z)(function*(){return!!oc()&&new Promise(g=>{const c=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),g(!0)})})})).apply(this,arguments)}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},Hs=U,Vl="persistence";function bd(g){return $l.apply(this,arguments)}function $l(){return($l=(0,_.Z)(function*(g){yield g._initializationPromise;const c=Td(),f=G(Vl,g.config.apiKey,g.name);c&&c.setItem(f,g._getPersistence())})).apply(this,arguments)}function Td(){var g;try{return(null===(g=function zh(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const lc=U;class ji{constructor(){this.browserResolver=ne(pd),this.cordovaResolver=ne(ic),this.underlyingResolver=null,this._redirectPersistence=si,this._completeRedirectFn=Ge,this._overrideRedirectResult=Do}_initialize(c){var f=this;return(0,_.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,f,y,T){var R=this;return(0,_.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(c,f,y,T)})()}_openRedirect(c,f,y,T){var R=this;return(0,_.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(c,f,y,T)})()}_isIframeWebStorageSupported(c,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,f)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return oc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,_.Z)(function*(){if(c.underlyingResolver)return;const f=yield function ac(){return Ro.apply(this,arguments)}();c.underlyingResolver=f?c.cordovaResolver:c.browserResolver})()}}function uc(g){return g.unwrap()}function kt(g){return ys(g)}function ys(g){const{_tokenResponse:c}=g instanceof O.ZR?g.customData:g;if(!c)return null;if(!(g instanceof O.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Al.credentialFromResult(g);const f=c.providerId;if(!f||"password"===f)return null;let y;switch(f){case"google.com":y=Yc;break;case"facebook.com":y=bu;break;case"github.com":y=rl;break;case"twitter.com":y=Su;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:le,nonce:ke}=c;return R||W||T||le?le?f.startsWith("saml.")?qo._create(f,le):br._fromParams({providerId:f,signInMethod:f,pendingToken:le,idToken:T,accessToken:R}):new so(f).credential({idToken:T,accessToken:R,rawNonce:ke}):null}return g instanceof O.ZR?y.credentialFromError(g):y.credentialFromResult(g)}function St(g,c){return c.catch(f=>{throw f instanceof O.ZR&&function mt(g,c){var f;const y=null===(f=c.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new Mo(g,function xn(g,c){var f;const y=(0,O.m9)(g),T=c;return U(c.customData.operationType,y,"argument-error"),U(null===(f=T.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,y,"argument-error"),fl._fromError(y,T)}(g,c));else if(y){const T=ys(c),R=c;T&&(R.credential=T,R.tenantId=y.tenantId||void 0,R.email=y.email||void 0,R.phoneNumber=y.phoneNumber||void 0)}}(g,f),f}).then(f=>{const T=f.user;return{operationType:f.operationType,credential:kt(f),additionalUserInfo:Xc(f),user:Hi.getOrCreate(T)}})}function cc(g,c){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,_.Z)(function*(g,c){const f=yield c;return{verificationId:f.verificationId,confirm:y=>St(g,f.confirm(y))}})).apply(this,arguments)}class Mo{constructor(c,f){this.resolver=f,this.auth=function Ft(g){return g.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return St(uc(this.auth),this.resolver.resolveSignIn(c))}}class Hi{constructor(c){this._delegate=c,this.multiFactor=function ca(g){const c=(0,O.m9)(g);return Ar.has(c)||Ar.set(c,Ni._fromUser(c)),Ar.get(c)}(c)}static getOrCreate(c){return Hi.USER_MAP.has(c)||Hi.USER_MAP.set(c,new Hi(c)),Hi.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var f=this;return(0,_.Z)(function*(){return St(f.auth,fn(f._delegate,c))})()}linkWithPhoneNumber(c,f){var y=this;return(0,_.Z)(function*(){return cc(y.auth,function Zu(g,c,f){return Tl.apply(this,arguments)}(y._delegate,c,f))})()}linkWithPopup(c){var f=this;return(0,_.Z)(function*(){return St(f.auth,function S_(g,c,f){return Kn.apply(this,arguments)}(f._delegate,c,ji))})()}linkWithRedirect(c){var f=this;return(0,_.Z)(function*(){return yield bd(tn(f.auth)),function K(g,c,f){return function ee(g,c,f){return Ie.apply(this,arguments)}(g,c,f)}(f._delegate,c,ji)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var f=this;return(0,_.Z)(function*(){return St(f.auth,ss(f._delegate,c))})()}reauthenticateWithPhoneNumber(c,f){return cc(this.auth,function Hp(g,c,f){return ad.apply(this,arguments)}(this._delegate,c,f))}reauthenticateWithPopup(c){return St(this.auth,function T_(g,c,f){return Qu.apply(this,arguments)}(this._delegate,c,ji))}reauthenticateWithRedirect(c){var f=this;return(0,_.Z)(function*(){return yield bd(tn(f.auth)),function w(g,c,f){return function S(g,c,f){return k.apply(this,arguments)}(g,c,f)}(f._delegate,c,ji)})()}sendEmailVerification(c){return function al(g,c){return Lu.apply(this,arguments)}(this._delegate,c)}unlink(c){var f=this;return(0,_.Z)(function*(){return yield function oo(g,c){return rs.apply(this,arguments)}(f._delegate,c),f})()}updateEmail(c){return function Dh(g,c){return cl((0,O.m9)(g),c,null)}(this._delegate,c)}updatePassword(c){return function ul(g,c){return cl((0,O.m9)(g),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Sl(g,c){return ld.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function mi(g,c){return Sr.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,f){return function Os(g,c,f){return nn.apply(this,arguments)}(this._delegate,c,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hi.USER_MAP=new WeakMap;const $t=U;let Et=(()=>{class g{constructor(f,y){if(this.app=f,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=f.options;$t(T,"invalid-api-key",{appName:f.name}),$t(T,"invalid-api-key",{appName:f.name});const R=typeof window<"u"?ji:void 0;this._delegate=y.initialize({options:{persistence:Zh(T,f.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,y){!function el(g,c,f){const y=tn(g);U(y._canInitEmulator,y,"emulator-config-failed"),U(/^https?:\/\//.test(c),y,"invalid-emulator-scheme");const T=!!f?.disableWarnings,R=to(c),{host:W,port:le}=function no(g){const c=to(g),f=/(\/\/)?([^?#/]+)/.exec(g.substr(c.length));if(!f)return{host:"",port:null};const y=f[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(y);if(T){const R=T[1];return{host:R,port:Ot(y.substr(R.length+1))}}{const[R,W]=y.split(":");return{host:R,port:Ot(W)}}}(c);y.config.emulator={url:`${R}//${W}${null===le?"":`:${le}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:W,port:le,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function bn(){function g(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,f,y)}applyActionCode(f){return function ra(g,c){return sl.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return ia(this._delegate,f)}confirmPasswordReset(f,y){return function fo(g,c,f){return ft.apply(this,arguments)}(this._delegate,f,y)}createUserWithEmailAndPassword(f,y){var T=this;return(0,_.Z)(function*(){return St(T._delegate,function pn(g,c,f){return Nu.apply(this,arguments)}(T._delegate,f,y))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function aa(g,c){return Ps.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Qc(g,c){return"EMAIL_SIGNIN"===io.parseLink(c)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,_.Z)(function*(){$t(Ao(),f._delegate,"operation-not-supported-in-this-environment");const y=yield function Ue(g,c){return Ye.apply(this,arguments)}(f._delegate,ji);return y?St(f._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function tg(g,c){tn(g)._logFramework(c)}(this._delegate,f)}onAuthStateChanged(f,y,T){const{next:R,error:W,complete:le}=Vn(f,y,T);return this._delegate.onAuthStateChanged(R,W,le)}onIdTokenChanged(f,y,T){const{next:R,error:W,complete:le}=Vn(f,y,T);return this._delegate.onIdTokenChanged(R,W,le)}sendSignInLinkToEmail(f,y){return function xt(g,c,f){return ku.apply(this,arguments)}(this._delegate,f,y)}sendPasswordResetEmail(f,y){return function ri(g,c,f){return ho.apply(this,arguments)}(this._delegate,f,y||void 0)}setPersistence(f){var y=this;return(0,_.Z)(function*(){let T;switch(function Ra(g,c){Hs(Object.values(ar).includes(c),g,"invalid-persistence-type"),(0,O.b$)()?Hs(c!==ar.SESSION,g,"unsupported-persistence-type"):(0,O.UG)()?Hs(c===ar.NONE,g,"unsupported-persistence-type"):sc()?Hs(c===ar.NONE||c===ar.LOCAL&&(0,O.hl)(),g,"unsupported-persistence-type"):Hs(c===ar.NONE||Dd(),g,"unsupported-persistence-type")}(y._delegate,f),f){case ar.SESSION:T=si;break;case ar.LOCAL:T=(yield ne(yi)._isAvailable())?yi:gl;break;case ar.NONE:T=L;break;default:return Ce("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return St(this._delegate,function Mu(g){return qc.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return St(this._delegate,an(this._delegate,f))}signInWithCustomToken(f){return St(this._delegate,function xi(g,c){return On.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,y){return St(this._delegate,function Ee(g,c,f){return an((0,O.m9)(g),nl.credential(c,f))}(this._delegate,f,y))}signInWithEmailLink(f,y){return St(this._delegate,function Un(g,c,f){return Ms.apply(this,arguments)}(this._delegate,f,y))}signInWithPhoneNumber(f,y){return cc(this._delegate,function Vt(g,c,f){return bl.apply(this,arguments)}(this._delegate,f,y))}signInWithPopup(f){var y=this;return(0,_.Z)(function*(){return $t(Ao(),y._delegate,"operation-not-supported-in-this-environment"),St(y._delegate,function Bs(g,c,f){return Ca.apply(this,arguments)}(y._delegate,f,ji))})()}signInWithRedirect(f){var y=this;return(0,_.Z)(function*(){return $t(Ao(),y._delegate,"operation-not-supported-in-this-environment"),yield bd(y._delegate),function un(g,c,f){return function wa(g,c,f){return C.apply(this,arguments)}(g,c,f)}(y._delegate,f,ji)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function xu(g,c){return sa.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=ar,g})();function Vn(g,c,f){let y=g;"function"!=typeof g&&({next:y,error:c,complete:f}=g);const T=y;return{next:W=>T(W&&Hi.getOrCreate(W)),error:c,complete:f}}function Zh(g,c){const f=function Gh(g,c){const f=Td();if(!f)return[];const y=G(Vl,g,c);switch(f.getItem(y)){case ar.NONE:return[L];case ar.LOCAL:return[yi,si];case ar.SESSION:return[si];default:return[]}}(g,c);if(typeof self<"u"&&!f.includes(yi)&&f.push(yi),typeof window<"u")for(const y of[gl,si])f.includes(y)||f.push(y);return f.includes(L)||f.push(L),f}class Ma{constructor(){this.providerId="phone",this._delegate=new Al(uc(q.Z.auth()))}static credential(c,f){return Al.credential(c,f)}verifyPhoneNumber(c,f){return this._delegate.verifyPhoneNumber(c,f)}unwrap(){return this._delegate}}Ma.PHONE_SIGN_IN_METHOD=Al.PHONE_SIGN_IN_METHOD,Ma.PROVIDER_ID=Al.PROVIDER_ID;const Kr=U;class Kh{constructor(c,f,y=q.Z.app()){var T;Kr(null===(T=y.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new va(c,f,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ig(g){g.INTERNAL.registerComponent(new ce.wA("auth-compat",c=>{const f=c.getProvider("app-compat").getImmediate(),y=c.getProvider("auth");return new Et(f,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:nl,FacebookAuthProvider:bu,GithubAuthProvider:rl,GoogleAuthProvider:Yc,OAuthProvider:so,SAMLAuthProvider:Hr,PhoneAuthProvider:Ma,PhoneMultiFactorGenerator:Nn,RecaptchaVerifier:Kh,TwitterAuthProvider:Su,Auth:Et,AuthCredential:cn,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.3.0")}(q.Z)},8766:(Ke,me,x)=>{x.d(me,{Lj:()=>Ce,X3:()=>Ae});var _=x(5861);let O,ie;const ce=new WeakMap,ae=new WeakMap,oe=new WeakMap,B=new WeakMap,j=new WeakMap;let ye={get(U,he,z){if(U instanceof IDBTransaction){if("done"===he)return ae.get(U);if("objectStoreNames"===he)return U.objectStoreNames||oe.get(U);if("store"===he)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return ve(U[he])},set:(U,he,z)=>(U[he]=z,!0),has:(U,he)=>U instanceof IDBTransaction&&("done"===he||"store"===he)||he in U};function ue(U){return"function"==typeof U?function Ze(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...he){return U.apply(_e(this),he),ve(ce.get(this))}:function(...he){return ve(U.apply(_e(this),he))}:function(he,...z){const Y=U.call(_e(this),he,...z);return oe.set(Y,he.sort?he.sort():[he]),ve(Y)}}(U):(U instanceof IDBTransaction&&function Me(U){if(ae.has(U))return;const he=new Promise((z,Y)=>{const ne=()=>{U.removeEventListener("complete",X),U.removeEventListener("error",Pe),U.removeEventListener("abort",Pe)},X=()=>{z(),ne()},Pe=()=>{Y(U.error||new DOMException("AbortError","AbortError")),ne()};U.addEventListener("complete",X),U.addEventListener("error",Pe),U.addEventListener("abort",Pe)});ae.set(U,he)}(U),((U,he)=>he.some(z=>U instanceof z))(U,function re(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,ye):U)}function ve(U){if(U instanceof IDBRequest)return function Z(U){const he=new Promise((z,Y)=>{const ne=()=>{U.removeEventListener("success",X),U.removeEventListener("error",Pe)},X=()=>{z(ve(U.result)),ne()},Pe=()=>{Y(U.error),ne()};U.addEventListener("success",X),U.addEventListener("error",Pe)});return he.then(z=>{z instanceof IDBCursor&&ce.set(z,U)}).catch(()=>{}),j.set(he,U),he}(U);if(B.has(U))return B.get(U);const he=ue(U);return he!==U&&(B.set(U,he),j.set(he,U)),he}const _e=U=>j.get(U);function Ae(U,he,{blocked:z,upgrade:Y,blocking:ne,terminated:X}={}){const Pe=indexedDB.open(U,he),Se=ve(Pe);return Y&&Pe.addEventListener("upgradeneeded",qe=>{Y(ve(Pe.result),qe.oldVersion,qe.newVersion,ve(Pe.transaction))}),z&&Pe.addEventListener("blocked",()=>z()),Se.then(qe=>{X&&qe.addEventListener("close",()=>X()),ne&&qe.addEventListener("versionchange",()=>ne())}).catch(()=>{}),Se}function Ce(U,{blocked:he}={}){const z=indexedDB.deleteDatabase(U);return he&&z.addEventListener("blocked",()=>he()),ve(z).then(()=>{})}const pe=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],xe=new Map;function Te(U,he){if(!(U instanceof IDBDatabase)||he in U||"string"!=typeof he)return;if(xe.get(he))return xe.get(he);const z=he.replace(/FromIndex$/,""),Y=he!==z,ne=we.includes(z);if(!(z in(Y?IDBIndex:IDBObjectStore).prototype)||!ne&&!pe.includes(z))return;const X=function(){var Pe=(0,_.Z)(function*(Se,...qe){const Lt=this.transaction(Se,ne?"readwrite":"readonly");let jt=Lt.store;return Y&&(jt=jt.index(qe.shift())),(yield Promise.all([jt[z](...qe),ne&&Lt.done]))[0]});return function(qe){return Pe.apply(this,arguments)}}();return xe.set(he,X),X}!function Fe(U){ye=U(ye)}(U=>({...U,get:(he,z,Y)=>Te(he,z)||U.get(he,z,Y),has:(he,z)=>!!Te(he,z)||U.has(he,z)}))},5861:(Ke,me,x)=>{function _(O,ie,re,se,ce,ae,oe){try{var B=O[ae](oe),j=B.value}catch(Z){return void re(Z)}B.done?ie(j):Promise.resolve(j).then(se,ce)}function q(O){return function(){var ie=this,re=arguments;return new Promise(function(se,ce){var ae=O.apply(ie,re);function oe(j){_(ae,se,ce,oe,B,"next",j)}function B(j){_(ae,se,ce,oe,B,"throw",j)}oe(void 0)})}}x.d(me,{Z:()=>q})}},Ke=>{Ke(Ke.s=9481)}]);